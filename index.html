<!-- Branch: main --><!-- Revision: fe734a7c5fe873013eaa0d4ace68aac7c423883f --><!-- Created at: 24 of September 2024 11:01:46 GMT+00:00 --><!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=auto"><meta name="description" content="View Master Template"><title>View Master Template</title><style>:where(:not(:-webkit-any(html,iframe,canvas,img,svg,video,audio,svg *,symbol *))){all:unset;display:revert}:where(:not(:-moz-any(html,iframe,canvas,img,svg,video,audio,svg *,symbol *))){all:unset;display:revert}:where(:not(:is(html,iframe,canvas,img,svg,video,audio,svg *,symbol *))){all:unset;display:revert}button{background:0 0;border:none}*,:before,:after{box-sizing:border-box}a,button{cursor:revert}ol,ul,menu{list-style:none}img{max-width:100%;max-height:100%}table{border-collapse:collapse}input,textarea{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}textarea{white-space:revert}meter{-webkit-appearance:revert;-moz-appearance:revert;appearance:revert}pre{all:revert}::placeholder{color:unset}::marker{content:""}:where([hidden]){display:none}:where([contenteditable]:not([contenteditable=false])){-moz-user-modify:read-write;-webkit-user-modify:read-write;overflow-wrap:break-word;-webkit-line-break:after-white-space;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}:where([draggable=true]){-webkit-user-drag:element}body{background-color:#000;margin:0;padding:0}button{padding:0}#dynamic{height:100vh;overflow:hidden}</style><style>.NQnIja_countdown{text-align:center;color:#fff;background:rgba(51,51,51,.5);border-radius:50%;min-width:35px;min-height:35px;margin:-10px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;font-weight:400;line-height:35px;display:block}.NQnIja_countdown:before,.NQnIja_countdown:after{content:"";line-height:0;display:inline-flex}.mqB7Ka_closeIcon{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22525.4%22%20height%3D%22525.5%22%3E%3Cpath%20fill%3D%22%23fff%22%20stroke%3D%22%23000%22%20stroke-width%3D%2226%22%20stroke-miterlimit%3D%2210%22%20d%3D%22M452.6%208.9%20262.9%20198.6%2073.1%208.9%209%2073l189.8%20189.7L9%20452l64.1%2064.1%20189.8-189.3%20189.7%20189.3%2064.1-64.1-189.8-189.3L516.7%2073z%22%2F%3E%3C%2Fsvg%3E);background-position:50%;background-repeat:no-repeat;background-size:100%;width:18px;height:18px}.mqB7Ka_skipIcon{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2294.7%22%20height%3D%2294.9%22%3E%3Cg%20fill%3D%22%23FFF%22%20stroke%3D%22%23000%22%20stroke-width%3D%223.417%22%20stroke-miterlimit%3D%2210%22%3E%3Cpath%20d%3D%22m37%2075.5%2022.4-22.4H1.9V41.7h57.5L37%2019.3l8.1-8.1%2036.2%2036.2-36.2%2036.2z%22%2F%3E%3Cpath%20d%3D%22M92.733%2011.138v72.4h-11.5v-72.4z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E) 50%/100% no-repeat;width:18px;height:18px}.LJWyoG_nextButton{color:#fff;text-align:center;z-index:2147483448;justify-content:center;align-items:center;margin:20px 20px 0 0;padding:0;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;line-height:0;display:flex;position:absolute;top:0;right:0}.oAV7cW_endcardIframe{border:0;width:100%;height:100%;position:absolute;top:0;left:0}.oAV7cW_endcard{text-align:center;background-color:#000;width:100vw;height:100vh}._7pzQ5q_overlayCta{content:"";z-index:2147483347;background:0 0;width:100%;height:100%;position:fixed;top:0;bottom:0;left:0;right:0}._7pzQ5q_hidden{display:none}.poFP6W_overlay{z-index:2147483448;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);background:linear-gradient(rgba(0,15,35,.59) 0%,rgba(0,15,35,.8) 45%,rgba(0,15,35,.8) 100%);width:100%;height:100%;position:fixed;top:0;left:0}.poFP6W_opaque{background:#000}.poFP6W_lastChanceEndCard{flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;top:0;left:0}.poFP6W_backgroundNone{background:0 0}.poFP6W_name{color:#fff;text-align:center;z-index:2147483447;margin:11px 40px 22px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:700}.poFP6W_icon{z-index:2147483447;border-radius:10px;width:80px;height:80px;display:block}.poFP6W_button{color:#fff;letter-spacing:.9px;z-index:2147483447;background-color:#007aff;border:none;border-radius:50px;padding:7px 18px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:700;position:relative}.poFP6W_button:focus{outline:none}.poFP6W_button:before,.poFP6W_button:after{content:"";z-index:-1000;background-repeat:no-repeat;width:140%;height:100%;transition:all .5s ease-out;display:block;position:absolute;left:-20%}.poFP6W_button:before{background-image:radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,transparent 20%,#007aff 20%,transparent 30%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,transparent 10%,#007aff 15%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%);background-size:10% 10%,20% 20%,15% 15%,20% 20%,18% 18%,10% 10%,15% 15%,10% 10%,18% 18%;display:none;top:-75%}.poFP6W_button:after{background-image:radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,transparent 10%,#007aff 15%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%);background-size:15% 15%,20% 20%,18% 18%,20% 20%,15% 15%,10% 10%,20% 20%;display:none;bottom:-75%}.poFP6W_button.poFP6W_animate:before{animation:2s infinite forwards poFP6W_topBubbles;display:block}.poFP6W_button.poFP6W_animate:after{animation:2.3s infinite forwards poFP6W_bottomBubbles;display:block}@keyframes poFP6W_topBubbles{0%{background-position:5% 90%,10% 90%,10% 90%,15% 90%,25% 90%,25% 90%,40% 90%,55% 90%,70% 90%}50%{background-position:0 80%,0 20%,10% 40%,20% 0,30% 30%,22%,50%,65% 20%,90% 30%}to{background-position:0 70%,0 10%,10% 30%,20% -10%,30% 20%,22% 40%,50% 40%,65% 10%,90% 20%;background-size:0 0,0 0,0 0,0 0,0 0,0 0}}@keyframes poFP6W_bottomBubbles{0%{background-position:10% -10%,30% 10%,55% -10%,70% -10%,85% -10%,70% -10%,70% 0}50%{background-position:0 80%,20% 80%,45% 60%,60% 100%,75% 70%,95% 60%,105% 0}to{background-position:0 90%,20% 90%,45% 70%,60% 110%,75% 80%,95% 70%,110% 10%;background-size:0 0,0 0,0 0,0 0,0 0,0 0}}.__WwAW_adaptiveCreativeEndcard{text-align:center;background-color:#000;width:100vw;height:100vh}.__WwAW_adaptiveCreativeEndcardIframe{width:100%;height:100%;position:absolute;top:0;left:0;overflow:hidden}.d9Dawa_androidProductView{opacity:1;z-index:2147483647;text-align:left;background-color:#030303;flex-direction:column;width:100%;height:100%;max-height:100vh;margin:0;transition:transform .2s,opacity .1s .1s;animation:.5s forwards d9Dawa_slide-up-background;display:flex;position:fixed;bottom:0;overflow-y:auto;transform:translateY(0)}.d9Dawa_wrapper{flex-direction:column;flex-grow:1;justify-content:flex-end;display:flex;position:relative}.d9Dawa_doneHeader{flex-direction:row;justify-content:left;align-items:flex-start;margin-top:1em;margin-bottom:1em;display:flex}.d9Dawa_doneHeader button{color:#fff;text-align:center;vertical-align:middle;background-color:rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.5);border-radius:50px;flex-grow:0;width:auto;min-width:7em;height:36px;margin-left:1em;padding:0;font-family:Google Sans,Poppins,Roboto,Arial,sans-serif;font-size:.8em;font-weight:400;line-height:36px;transition:background .2s,transform .15s}.d9Dawa_doneHeader button:active{background-color:rgba(0,0,0,.9);transform:scale(.95)}.d9Dawa_productView{color:#1d2721;background-color:#fff;border-radius:15px 15px 0 0;font-size:14px;box-shadow:0 0 30px rgba(0,0,0,.7)}.d9Dawa_productView h1{margin:0;font-family:Google Sans,Poppins,Roboto,Arial,sans-serif;font-size:1.6em;font-weight:500;font-stretch:100%;line-height:1.25em}.d9Dawa_productView h2{margin:0;font-family:Google Sans,Poppins,Roboto,Arial,sans-serif;font-size:1em;font-weight:500;font-stretch:100%}.d9Dawa_productView h2 span{font-size:1em}.d9Dawa_productView p{margin-top:.25em;margin-bottom:.25em;font-family:Google Sans,Poppins,Roboto,Arial,sans-serif;font-size:10px;font-weight:400;font-stretch:100%}.d9Dawa_appHeader{grid-template-columns:auto 1fr auto;align-items:start;margin-bottom:1em;display:grid}.d9Dawa_appHeader .d9Dawa_appIcon{border-radius:20%;height:72px;margin-right:1.5em}.d9Dawa_appHeader .d9Dawa_appInfo{margin-top:7.5px;margin-bottom:7.5px}.d9Dawa_appHeader .d9Dawa_appInfo h2{color:#00a173}.d9Dawa_appHeader .d9Dawa_appInfo p{color:#898988}.d9Dawa_reviewInfo{grid-template-columns:repeat(3,1fr);justify-content:space-around;align-items:center;margin-bottom:1em;display:grid}.d9Dawa_reviewInfo div{border-right:1px solid #eeeeef}.d9Dawa_reviewInfo div:last-child{border-right:none}.d9Dawa_reviewInfo .d9Dawa_reviewCard{flex-direction:column;justify-content:center;align-items:center;display:flex}.d9Dawa_reviewInfo .d9Dawa_reviewCard h2{color:#000;font-size:1em}.d9Dawa_reviewInfo .d9Dawa_reviewCard p{color:#898988}.d9Dawa_reviewInfo .d9Dawa_reviewCard img{border-radius:2px;width:1.5em}.d9Dawa_reviewInfo.d9Dawa_reviewColumn{grid-template-columns:50% 50%}.d9Dawa_install{flex-direction:row;display:flex}.d9Dawa_install .d9Dawa_installBtn{text-align:center;vertical-align:middle;color:#fff;background-color:#01875f;border:none;border-radius:50px;flex-grow:1;width:100%;min-width:7em;height:36px;font-family:Google Sans,Poppins,Roboto,Arial,sans-serif;font-size:.8em;font-weight:400;line-height:36px}.d9Dawa_carousel{white-space:nowrap;width:100%;margin-top:1em;margin-bottom:1em;overflow-x:scroll;overflow-y:hidden}.d9Dawa_carousel::-webkit-scrollbar{display:none}.d9Dawa_carousel .d9Dawa_slide{margin-left:.75em;display:inline-block}.d9Dawa_carousel img{border-radius:.75em;width:auto;max-height:50vw;box-shadow:0 1px 2px rgba(60,64,67,.3),0 1px 3px 1px rgba(60,64,67,.15)}@media (orientation:landscape){.d9Dawa_carousel img{width:auto;max-height:30vh}}.d9Dawa_aboutGame{margin-bottom:1em}.d9Dawa_aboutGame h1{color:#202124;margin-bottom:.5em;font-size:1.4em}.d9Dawa_aboutGame p{color:#7b7b7b;min-height:10vh;font-family:Google Sans,Poppins,Roboto,Arial,sans-serif;font-size:1em;font-weight:300}.d9Dawa_padding{padding:1.25em 1.5em}.d9Dawa_hidden{z-index:-1;opacity:0;pointer-events:none;transform:translateY(100%)}.wnLcbW_fallback{text-align:right;background:rgba(0,0,0,.8);width:100vw;height:100vh;padding:20px;position:absolute;top:0;left:0}.wnLcbW_closeIcon{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22525.4%22%20height%3D%22525.5%22%3E%3Cpath%20fill%3D%22%23fff%22%20stroke%3D%22%23000%22%20stroke-width%3D%2226%22%20stroke-miterlimit%3D%2210%22%20d%3D%22M452.6%208.9%20262.9%20198.6%2073.1%208.9%209%2073l189.8%20189.7L9%20452l64.1%2064.1%20189.8-189.3%20189.7%20189.3%2064.1-64.1-189.8-189.3L516.7%2073z%22%2F%3E%3C%2Fsvg%3E);background-position:50%;background-repeat:no-repeat;background-size:100%;width:18px;height:18px}.C4yOdG_primaryButton,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_primaryButton{color:#fff;background-color:#555fff;padding:0}.C4yOdG_primaryButton button,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_primaryButton button{text-transform:uppercase;color:#fff}@media screen and (orientation:landscape){.C4yOdG_primaryButton,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_primaryButton{flex:1}}.C4yOdG_secondaryButton,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_secondaryButton{color:#555fff;background-color:#fff;padding:0}.C4yOdG_secondaryButton button,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_secondaryButton button{color:#555fff}@media screen and (orientation:landscape){.C4yOdG_secondaryButton,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_secondaryButton{flex:1}}.C4yOdG_gdpr{text-align:center;z-index:2147483647;background-color:#fff;flex-direction:column;justify-content:space-between;width:100%;height:100%;display:flex;position:absolute;top:0;left:0;overflow:hidden}.C4yOdG_gdpr .C4yOdG_icon{color:#fff;background:#007aff url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100%22%20height%3D%22100%22%3E%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M46.2%201.238v12.1c-17.7%201-31.9%2015.2-32.9%2032.9H1.2v4h12.1c1%2017.7%2015.2%2031.9%2032.9%2032.9v12.1h4v-12.1c17.7-1%2031.9-15.2%2032.9-32.9h12.1v-4h-12c-1-17.7-15.2-31.9-32.9-32.9v-12.1h-4.1zm0%2016.1v14.1c-7.8.9-14%207.1-14.9%2014.9h-14c1-15.6%2013.4-28%2028.9-29zm4%200c15.5%201%2027.9%2013.4%2028.9%2028.9h-14c-.9-7.8-7.1-14-14.9-14.9v-14zm-9.3%2023.6c10.8-8.1%2022.8%203.9%2014.7%2014.7-10.8%208.1-22.8-3.9-14.7-14.7zm-23.6%209.3h14.1c.9%207.8%207.1%2014%2014.9%2014.9v14.1c-15.6-1-28-13.4-29-29zm47.8%200h14.1c-1%2015.5-13.4%2028-28.9%2028.9v-14.1c7.7-.8%2013.9-7%2014.8-14.8z%22%2F%3E%3C%2Fsvg%3E) 50%/85% no-repeat;border-radius:50%;width:17vw;max-width:6em;height:17vw;max-height:6em;padding:.5em;display:inline-block}.C4yOdG_gdpr .C4yOdG_content{flex-direction:column;flex:1;justify-content:center;display:flex}.C4yOdG_gdpr .C4yOdG_header{padding:0;line-height:1}.C4yOdG_gdpr .C4yOdG_title{word-wrap:break-word;margin:.5em 12.5%;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:5.5vw;font-weight:600;line-height:1.5}.C4yOdG_gdpr .C4yOdG_bodyText{text-align:center;word-wrap:break-word;padding:0 12.5%;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:4.5vw;font-weight:400;line-height:1.5;overflow:hidden}.C4yOdG_gdpr .C4yOdG_buttons{width:100%;height:15vw;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:15vw}.C4yOdG_gdpr .C4yOdG_buttons button{float:right;width:50%;height:100%;display:block}.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_primaryButton{font-size:7.5vw}.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_secondaryButton{color:#007aff;border-top:1px solid #e8e8e8;font-size:4.5vw}@media screen and (orientation:landscape){.C4yOdG_gdpr{flex-direction:row}.C4yOdG_gdpr .C4yOdG_content{width:75%}.C4yOdG_gdpr .C4yOdG_content .C4yOdG_title{font-size:5vh}.C4yOdG_gdpr .C4yOdG_content .C4yOdG_bodyText{font-size:4vh}.C4yOdG_gdpr .C4yOdG_buttons{flex-direction:column;justify-content:center;width:25%;min-width:116px;height:100%;padding-right:4.5vh;display:flex;right:0}.C4yOdG_gdpr .C4yOdG_buttons button{float:none;width:100%;height:auto;line-height:12vh}.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_primaryButton{border-radius:10vh;margin-bottom:2vh;font-size:3.5vh}.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_secondaryButton{border-top:none;font-size:2.5vh}}.J2DrKG_img61{object-fit:contain;width:100%;max-width:320px;height:100%;max-height:50px}.J2DrKG_img81{object-fit:contain;width:100%;max-width:728px;height:100%;max-height:90px}.J2DrKG_img65{object-fit:contain;width:300px;height:250px}.J2DrKG_fullscreenImage{max-height:100%;margin:0 auto}.J2DrKG_staticImageEndcard{justify-content:center;align-items:center;width:100vw;height:100vh;display:flex}.S2LOeW_icon{font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif}.S2LOeW_muted{z-index:2147483447;padding:10px 30px 30px 10px;position:absolute;top:0;left:0}.S2LOeW_muted span{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='500px' height='500px' %3E%3Ccircle opacity='0.8' cx='249.9' cy='249.9' r='247'/%3E%3Cpath fill='%23fff' d='M418.9 195.8c-3.2-3.2-8.2-3.2-11.4 0l-45.6 45.6-45.6-45.6c-3.2-3.2-8.2-3.2-11.4 0-3.2 3.2-3.2 8.2 0 11.4l45.6 45.6-45.6 45.6c-3.2 3.2-3.2 8.2 0 11.4 1.8 1.8 4.1 2.3 5.9 2.3s4.1-.9 5.9-2.3l45.6-45.6 45.6 45.6c1.8 1.8 4.1 2.3 5.9 2.3s4.1-.9 5.9-2.3c3.2-3.2 3.2-8.2 0-11.4l-45.6-45.6 45.6-45.6c2.9-2.3 2.9-8.2-.8-11.4zM268.2 89.2c-2.3-1.7-6.8-.9-9.1.9l-106.7 79.5H95.2c-5 0-8.2 2.9-8.2 7.6v144c0 4.6 3.2 7.6 8.2 7.6h57.2l106.7 80c1.8.9 3.2 1.7 5 1.7.9 0 2.3 0 3.2-.9 2.3-1.7 5-3.8 5-6.8V95.5c.9-1.7-.9-4.6-4.1-6.3zM148.2 314h-44.8V186.1h44.8V314zm108.5 72.9l-92.1-69v-136l91.7-69v274h.4z'/%3E%3Cpath display='none' d='M268.5 89c-2.3-1.7-6.8-.9-9.2.9l-107 79.9H94.9c-5 0-8.2 3-8.2 7.7V322c0 4.6 3.2 7.7 8.2 7.7h57.4L259.4 410c1.8.9 3.2 1.7 5 1.7.9 0 2.3 0 3.2-.9 2.3-1.7 5-3.8 5-6.8V95.3c1-1.7-.8-4.6-4.1-6.3zM148.2 314.6h-44.9V186.2h44.9v128.4zm108.9 73.1l-92.4-69.3V182l92-69.2v274.9h.4zm149-127.2h-90.5c-4.2 0-7.7-3.5-7.7-7.9s3.4-7.9 7.7-7.9h90.5c4.2 0 7.7 3.5 7.7 7.9s-3.4 7.9-7.7 7.9zm.9-94.6l-88.6 37.6c-3.9 1.6-8.4-.3-10-4.3-1.6-4 .3-8.6 4.1-10.2l88.6-37.6c3.9-1.6 8.4.3 10 4.3 1.6 3.9-.2 8.6-4.1 10.2zm4.7 182.9c-1.6 4-6.1 5.9-10 4.3l-88.6-37.6c-3.9-1.6-5.8-6.2-4.1-10.2 1.6-4 6.1-5.9 10-4.3l88.6 37.6c3.9 1.6 5.8 6.2 4.1 10.2z'/%3E%3C/svg%3E");background-size:100%;width:22px;height:22px;display:block}.S2LOeW_unmuted{z-index:2147483447;padding:10px 30px 30px 10px;position:absolute;top:0;left:0}.S2LOeW_unmuted span{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='500px' height='500px' %3E%3Ccircle opacity='0.8' cx='249.9' cy='249.9' r='247'/%3E%3Cpath display='none' fill='%23fff' d='M418.9 195.8c-3.2-3.2-8.2-3.2-11.4 0l-45.6 45.6-45.6-45.6c-3.2-3.2-8.2-3.2-11.4 0-3.2 3.2-3.2 8.2 0 11.4l45.6 45.6-45.6 45.6c-3.2 3.2-3.2 8.2 0 11.4 1.8 1.8 4.1 2.3 5.9 2.3s4.1-.9 5.9-2.3l45.6-45.6 45.6 45.6c1.8 1.8 4.1 2.3 5.9 2.3s4.1-.9 5.9-2.3c3.2-3.2 3.2-8.2 0-11.4l-45.6-45.6 45.6-45.6c2.9-2.3 2.9-8.2-.8-11.4zM268.2 89.2c-2.3-1.7-6.8-.9-9.1.9l-106.7 79.5H95.2c-5 0-8.2 2.9-8.2 7.6v144c0 4.6 3.2 7.6 8.2 7.6h57.2l106.7 80c1.8.9 3.2 1.7 5 1.7.9 0 2.3 0 3.2-.9 2.3-1.7 5-3.8 5-6.8V95.5c.9-1.7-.9-4.6-4.1-6.3zM148.2 314h-44.8V186.1h44.8V314zm108.5 72.9l-92.1-69v-136l91.7-69v274h.4z'/%3E%3Cpath fill='%23fff' d='M268.5 89c-2.3-1.7-6.8-.9-9.2.9l-107 79.9H94.9c-5 0-8.2 3-8.2 7.7V322c0 4.6 3.2 7.7 8.2 7.7h57.4L259.4 410c1.8.9 3.2 1.7 5 1.7.9 0 2.3 0 3.2-.9 2.3-1.7 5-3.8 5-6.8V95.3c1-1.7-.8-4.6-4.1-6.3zM148.2 314.6h-44.9V186.2h44.9v128.4zm108.9 73.1l-92.4-69.3V182l92-69.2v274.9h.4zm149-127.2h-90.5c-4.2 0-7.7-3.5-7.7-7.9s3.4-7.9 7.7-7.9h90.5c4.2 0 7.7 3.5 7.7 7.9s-3.4 7.9-7.7 7.9zm.9-94.6l-88.6 37.6c-3.9 1.6-8.4-.3-10-4.3-1.6-4 .3-8.6 4.1-10.2l88.6-37.6c3.9-1.6 8.4.3 10 4.3 1.6 3.9-.2 8.6-4.1 10.2zm4.7 182.9c-1.6 4-6.1 5.9-10 4.3l-88.6-37.6c-3.9-1.6-5.8-6.2-4.1-10.2 1.6-4 6.1-5.9 10-4.3l88.6 37.6c3.9 1.6 5.8 6.2 4.1 10.2z'/%3E%3C/svg%3E");background-size:100%;width:22px;height:22px;display:block}.OaF7uW_videoProgress{z-index:2147483447;background:rgba(0,0,0,.2);width:100%;height:.1875rem;position:absolute;bottom:0;left:0;right:0;overflow:hidden}.OaF7uW_videoProgress span{width:0%;height:100%;animation-name:OaF7uW_progress-animation;animation-timing-function:cubic-bezier(0,.79,.5,1);animation-iteration-count:infinite;animation-delay:1ms;animation-fill-mode:forwards;position:absolute;top:0;left:0}.OaF7uW_videoProgress span.OaF7uW_paused{animation-play-state:paused}@keyframes OaF7uW_progress-animation{0%{width:20%}to{width:100%}}.ok_seq_videoPlayerWrap{justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute}.ok_seq_videoPlayer,.ok_seq_videoPlayer video{width:100%;height:100%}.RypQCq_videoBlurWrap{justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;overflow:hidden}.RypQCq_videoBlurWrap>canvas{filter:blur(6px)brightness(.25);min-width:100vw;min-height:100vh}.dDtiqq_tapToPlayMask{z-index:2147483547;background-color:rgba(0,0,0,.6);position:fixed;top:0;bottom:0;left:0;right:0}.dDtiqq_tapToPlayContainer{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.dDtiqq_tapToPlayIcon{filter:invert();background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M9%2011.24V7.5a2.5%202.5%200%200%201%205%200v3.74c1.21-.81%202-2.18%202-3.74C16%205.01%2013.99%203%2011.5%203S7%205.01%207%207.5c0%201.56.79%202.93%202%203.74zm9.84%204.63-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10%206.67%2010%207.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31%200-.59.13-.79.33l-.79.8%204.94%204.94c.27.27.65.44%201.06.44h6.79c.75%200%201.33-.55%201.44-1.28l.75-5.27c.01-.07.02-.14.02-.2%200-.62-.38-1.16-.91-1.38z%22%2F%3E%3C%2Fsvg%3E);background-position:50%;background-repeat:no-repeat;background-size:100%;width:50px;max-width:120px;max-height:120px;margin:0 auto}@media screen and (min-width:320px){.dDtiqq_tapToPlayIcon{width:calc(7.95455vw + 24.5455px)}}@media screen and (min-width:1200px){.dDtiqq_tapToPlayIcon{width:120px}}.dDtiqq_tapToPlayIcon{height:50px}@media screen and (min-width:320px){.dDtiqq_tapToPlayIcon{height:calc(7.95455vw + 24.5455px)}}@media screen and (min-width:1200px){.dDtiqq_tapToPlayIcon{height:120px}}.dDtiqq_tapToPlayText{color:#fff;text-align:center;margin:.3em 0;font-size:15px;font-weight:400}@media screen and (min-width:320px){.dDtiqq_tapToPlayText{font-size:calc(1.13636vw + 11.3636px)}}@media screen and (min-width:1200px){.dDtiqq_tapToPlayText{font-size:25px}}.Zz6y0G_download{z-index:2147483447;float:right;cursor:pointer;width:50px;height:50px;padding:20px 10px 10px 20px;line-height:1em;position:fixed;bottom:4px;right:0}.Zz6y0G_download .Zz6y0G_downloadIcon{cursor:pointer;background-image:url("data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48px'%20height='48px'%20%3E%3Cpath%20fill='white'%20d='M11%2040q-1.2%200-2.1-.9Q8%2038.2%208%2037v-7.15h3V37h26v-7.15h3V37q0%201.2-.9%202.1-.9.9-2.1.9Zm13-7.65-9.65-9.65%202.15-2.15%206%206V8h3v18.55l6-6%202.15%202.15Z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-size:23px;width:19px;height:19px;display:inline-block;bottom:10px}@media only screen and (max-height:249px){.Zz6y0G_download{display:none}}.UUyEIq_persistentSimpleCta{z-index:2147483446;background:rgba(0,0,0,.5);border-radius:8px 0 0 8px;padding:8px;transition:transform .5s ease-in-out;display:flex;position:fixed;bottom:8px;right:0;transform:translate(100%)}@media screen and (min-width:768px) and (min-height:450px){.UUyEIq_persistentSimpleCta{padding:12px}}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_persistentSimpleCta{background:linear-gradient(transparent 0%,rgba(0,0,0,.8) 80%);justify-content:center;align-items:center;width:100%;padding:25px;bottom:0}}@media screen and (max-width:302px),screen and (max-height:300px){.UUyEIq_persistentSimpleCta{border-radius:4px 0 0 4px;padding:4px}}.UUyEIq_slideIn{transform:translate(0)}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_slideIn{left:50%;transform:translate(-50%)}}.UUyEIq_appIcon{cursor:pointer;border-radius:8px;width:52px;height:52px;left:0}@media screen and (min-width:768px) and (min-height:450px){.UUyEIq_appIcon{width:70px;height:70px}}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_appIcon{width:100px;height:100px}}@media screen and (max-width:302px),screen and (max-height:300px){.UUyEIq_appIcon{border-radius:4px;width:26px;height:26px}}.UUyEIq_persistentSimpleCtaBtn{cursor:pointer;text-align:center;color:#fff;white-space:nowrap;background-color:#179e2d;border:none;border-radius:8px;min-width:99px;height:52px;padding:0 10px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:21px;font-weight:400}@media screen and (min-width:768px) and (min-height:450px){.UUyEIq_persistentSimpleCtaBtn{height:70px;font-size:30px}}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_persistentSimpleCtaBtn{min-width:200px;height:70px;font-size:30px}}@media screen and (max-width:302px),screen and (max-height:300px){.UUyEIq_persistentSimpleCtaBtn{border-radius:4px;min-width:80px;height:26px;font-size:14px}}.UUyEIq_appIcon~.UUyEIq_persistentSimpleCtaBtn{margin-left:8px}@media screen and (min-width:768px) and (min-height:450px){.UUyEIq_appIcon~.UUyEIq_persistentSimpleCtaBtn{margin-left:12px}}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_appIcon~.UUyEIq_persistentSimpleCtaBtn{margin-left:0}}@media screen and (max-width:302px),screen and (max-height:300px){.UUyEIq_appIcon~.UUyEIq_persistentSimpleCtaBtn{margin-left:4px}}.UUyEIq_appDetail{color:#fff;min-width:40%;padding:10px 50px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;display:none}.UUyEIq_appDetail h1{white-space:nowrap;text-overflow:ellipsis;cursor:pointer;width:100%;margin:0;font-size:34px;line-height:40px;overflow:hidden}.UUyEIq_appDetail h2{white-space:nowrap;text-overflow:ellipsis;cursor:pointer;width:100%;margin:0;font-size:20px;line-height:30px;overflow:hidden}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_appDetail{flex-direction:column;align-items:flex-start;display:flex}}.DwKKSa_persistentRichCta{z-index:2147483348;background:#333;align-items:center;width:100%;height:120px;padding:10px;display:flex;position:fixed;top:0;left:0}.DwKKSa_persistentRichCta .DwKKSa_appIcon{cursor:pointer;border-radius:10px;width:90px;height:90px;display:block}.DwKKSa_persistentRichCta .DwKKSa_appInfo{flex-direction:column;flex:1;justify-content:space-around;height:100px;padding:0 15px;display:flex;overflow:hidden}.DwKKSa_persistentRichCta .DwKKSa_appInfo h1{color:#fff;white-space:nowrap;text-overflow:ellipsis;cursor:pointer;width:90%;margin:0;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:17px;font-weight:600;overflow:hidden}.DwKKSa_persistentRichCta .DwKKSa_appInfo p{color:#fff;white-space:nowrap;text-overflow:ellipsis;margin:0;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;font-weight:600;overflow:hidden}.DwKKSa_persistentRichCta .DwKKSa_persistentRichCtaBtn{cursor:pointer;text-align:center;color:#fff;white-space:nowrap;background:#179e2d;border:none;border-radius:24px;width:100%;height:36px;padding:8px 0;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;font-weight:600;box-shadow:0 4px 4px rgba(0,0,0,.25)}.dalDea_persistentRichCtaScreenshots{z-index:2147483348;white-space:nowrap;background:#333;width:100%;min-height:190px;padding:17px 0;position:fixed;bottom:0;left:0;overflow-x:scroll;overflow-y:hidden;box-shadow:inset 0 3px 7px 2px rgba(0,0,0,.4)}.dalDea_persistentRichCtaScreenshots .dalDea_slide{height:100%;margin-left:.75em;display:inline-block}.dalDea_persistentRichCtaScreenshots img{cursor:pointer;object-fit:cover;border-radius:.75em;height:100%}._0zGmtq_watermark{z-index:200;background-color:#000;width:100vw;min-height:1px;font-size:1px;display:flex;position:absolute}._0zGmtq_watermark ._0zGmtq_leading._0zGmtq_bit{width:4vw}._0zGmtq_watermark ._0zGmtq_bit{flex-grow:0;width:1vw;height:1px}._0zGmtq_watermark ._0zGmtq_zero{height:1px}._0zGmtq_watermark ._0zGmtq_one{background-color:#050505;height:1px}.W6zMza_dialogBox{visibility:hidden;text-align:center;color:#565656;z-index:2147483647;background-color:rgba(0,0,0,.8);width:100%;height:100%;position:absolute;top:0;left:0}.W6zMza_dialog{text-align:center;width:288px;margin-top:0;padding:0;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}@media only screen and (max-height:20em){.W6zMza_dialog{width:200px}}.W6zMza_dialogContent{border-top-width:7px;border-top-color:#555fff;border-radius:15px;width:100%;position:relative;overflow:hidden}.W6zMza_dialogTitle{color:#fff;background-color:#555fff;padding:8px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;font-weight:600}@media only screen and (max-height:20em){.W6zMza_dialogTitle{font-size:1em}}.W6zMza_dialogBody{background-color:#fff;padding:0;overflow:hidden}.W6zMza_dialogText{text-align:center;margin:0 auto;padding:18px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;font-weight:400;line-height:1.35em}@media only screen and (max-height:20em){.W6zMza_dialogText{padding:10px;font-size:.8em;line-height:1.25}}.W6zMza_dialogActions{background-color:#fff;width:100%;padding:0}.W6zMza_dialogActions button{text-align:center;background:0 0;border:none;width:100%;padding:8px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;font-weight:400;text-decoration:none}@media only screen and (max-height:20em){.W6zMza_dialogActions button{font-size:.75rem}}@media screen and (orientation:landscape){.W6zMza_dialogActions{display:flex}}.eDiOmG_primaryButton{color:#fff;background-color:#555fff;padding:0}.eDiOmG_primaryButton button{text-transform:uppercase;color:#fff}@media screen and (orientation:landscape){.eDiOmG_primaryButton{flex:1}}.eDiOmG_secondaryButton{color:#555fff;background-color:#fff;padding:0}.eDiOmG_secondaryButton button{color:#555fff}@media screen and (orientation:landscape){.eDiOmG_secondaryButton{flex:1}}.eDiOmG_primaryButton button{justify-content:center;align-items:center;display:flex}.eDiOmG_continueIcon{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2236%22%20height%3D%2246%22%20style%3D%22shape-rendering%3Ageometricprecision%3Btext-rendering%3Ageometricprecision%3Bimage-rendering%3Aoptimizequality%3Bfill-rule%3Aevenodd%3Bclip-rule%3Aevenodd%22%3E%3Cpath%20style%3D%22opacity%3A.849%22%20fill%3D%22%23fefffe%22%20d%3D%22M35.5%2014.5v7c-3.399%2011.06-11.065%2016.227-23%2015.5%203.026%202.298%203.692%205.13%202%208.5h-5c-3-3.667-6.333-7-10-10v-5a133.238%20133.238%200%200%200%2010-9.5c5.167-1.5%207%20.333%205.5%205.5L12.5%2029c8.637%201.53%2013.97-1.97%2016-10.5-1.08-7.537-5.414-11.37-13-11.5-2.101-1.733-2.435-3.733-1-6%2010.787-1.378%2017.787%203.122%2021%2013.5Z%22%2F%3E%3C%2Fsvg%3E) 50%/contain no-repeat;width:12px;height:12px;margin-left:6px;display:inline-block}.m2_mMq_privacyButton{cursor:pointer;z-index:2147483497;background:0 0;width:16px;padding:0;line-height:0;position:absolute;bottom:4px;left:4px}@media (min-width:48em){.m2_mMq_privacyButton{bottom:.8rem;left:.8rem}}.m2_mMq_privacyButton svg{width:100%;height:100%}@media only screen and (max-height:300px){.m2_mMq_privacyButton{width:13px;height:13px;left:2px}}@media only screen and (max-height:200px){.m2_mMq_privacyButton{width:12px;height:12px}}.FbTWOG_popupContainer.FbTWOG_popupContainerDisplay{z-index:2147483647;position:fixed;top:0;bottom:0;left:0;right:0}.FbTWOG_privacyPopup{z-index:2147483647;background:#fff;border-radius:15px 15px 0 0;padding:16px 16px 0;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;transition:transform .2s ease-in-out;position:fixed;bottom:0;left:0;right:0}.FbTWOG_popupHeader{justify-content:space-between;display:flex}.FbTWOG_popupTitle{font-size:14px;font-weight:700}.FbTWOG_closeIcon{background-image:url(data:image/svg+xml,%3Csvg%20width%3D%2231%22%20height%3D%2231%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20clip-path%3D%22url%28%27%23clip0_1168_1960%27%29%22%20fill%3D%22%23000%22%3E%3Cpath%20d%3D%22M27.12%2030.4c-.84%200-1.68-.32-2.32-.96L.96%205.61a3.295%203.295%200%200%201%200-4.65%203.295%203.295%200%200%201%204.65%200l23.83%2023.83a3.295%203.295%200%200%201%200%204.65c-.64.64-1.48.96-2.32.96Z%22%2F%3E%3Cpath%20d%3D%22M3.29%2030.4c-.84%200-1.68-.32-2.32-.96a3.295%203.295%200%200%201%200-4.65L24.79.96a3.295%203.295%200%200%201%204.65%200%203.295%203.295%200%200%201%200%204.65L5.61%2029.44c-.64.64-1.48.96-2.32.96Z%22%2F%3E%3C%2Fg%3E%3Cdefs%3E%3CclipPath%20id%3D%22clip0_1168_1960%22%3E%3Cpath%20fill%3D%22%23fff%22%20d%3D%22M0%200h30.4v30.4H0z%22%2F%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3C%2Fsvg%3E);background-repeat:no-repeat;background-size:100%;width:14px;height:14px;display:inline-block}.FbTWOG_readMore{color:#485099;padding:16px 0;font-size:16px;font-weight:700}.FbTWOG_ids{color:#bfbfbf;font-size:11px}.FbTWOG_ids.FbTWOG_hasEventMetadata{flex-wrap:wrap;padding:6px 0;display:flex}.FbTWOG_ids .FbTWOG_id{height:15px;display:flex}.FbTWOG_ids .FbTWOG_id:first-child{margin-right:1em}.FbTWOG_ids .FbTWOG_id .FbTWOG_idName{text-align:left;width:60px}.FbTWOG_ids .FbTWOG_id .FbTWOG_idContent{padding-left:4px}.FbTWOG_popupBody{padding-top:16px;font-size:14px}.FbTWOG_show{transform:translateY(0);box-shadow:0 -10px 20px -5px rgba(115,115,115,.75)}.FbTWOG_hide{transform:translateY(100%)}.FbTWOG_displayNone{display:none}.FbTWOG_mask{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:rgba(255,255,255,.2);transition:all .5s;position:fixed;top:0;bottom:0;left:0;right:0}#gRz7DW_ad{width:100%;height:100%}</style><script type="module">window.appVersion="4.10.1";</script><script type="module">window.Hls={isSupported:()=>!1,DefaultConfig:{loader:class{constructor(){}}}};</script><script src="mraid.js"></script><script type="module">function n(r,e){var s=t();return(n=function(r,n){return s[r-=143]})(r,e)}var r=n;function t(){var r=["undefined","303444inYQJd",'ipt src="replacements.js"></sc',"7213chHhdp","7mBWnvg","<scr","897366rgVoCQ","44iJuGgH","41079UpxDFu","2247664yxnDpZ","write","mraidExt","ript>","77OMQXem","584010DyCTIj","421595CqDrDG",'ipt src="vungle_mraid.js"></sc',"10njnkdM","8TySzmr"];return(t=function(){return r})()}!function(r){for(var t=n,e=r();;)try{if(parseInt(t(154))/1*(parseInt(t(158))/2)+-parseInt(t(159))/3*(-parseInt(t(150))/4)+parseInt(t(147))/5+parseInt(t(157))/6*(-parseInt(t(155))/7)+parseInt(t(160))/8+parseInt(t(146))/9*(-parseInt(t(149))/10)+parseInt(t(145))/11*(-parseInt(t(152))/12)==159889)break;e.push(e.shift())}catch(r){e.push(e.shift())}}(t),("undefined"==typeof vungle||typeof vungle[r(143)]===r(151))&&(document[r(161)](r(156)+r(148)+r(144)),document.write(r(156)+'ipt src="tokenmap.js"><\/script>'),document[r(161)](r(156)+r(153)+r(144)));</script><script type="module">var e=t;function n(){var e=["233320xaKEXL","1519032JREVyj","notifyPropertiesChange","10490PSChOO","270063ynCtMs","295981bVKbOX","Accept","hasOwnProperty","vungle","1263420fuAVmE","consentDenyButtonText","118nnSbiu","notifyReadyEvent","INCENTIVIZED","mraidBridge","consentTitleText","545USnEPa","osVersion","consentBodyText","1.0","fullscreen","forEach","keys"];return(n=function(){return e})()}function t(e,o){var r=n();return(t=function(e,n){return r[e-=234]})(e,o)}if(function(e){for(var n=t,o=e();;)try{if(parseInt(n(239))/1*(parseInt(n(234))/2)+parseInt(n(250))/3+parseInt(n(246))/4+parseInt(n(249))/5+-parseInt(n(255))/6+-parseInt(n(251))/7+parseInt(n(247))/8==119630)break;o.push(o.shift())}catch(e){o.push(o.shift())}}(n),"function"==typeof getVungleReplacementTokens){var o,r={OS:"os",OS_VERSION:e(240),SDK_VERSION:"sdkVersion",CONSENT_TITLE_TEXT:e(238),CONSENT_BODY_TEXT:e(241),CONSENT_ACCEPT_BUTTON_TEXT:"consentAcceptButtonText",CONSENT_DENY_BUTTON_TEXT:e(256)},s=getVungleReplacementTokens(),i=(o={},Object[e(245)](s).forEach((function(e){o[vungleTokenMap[e]]=s[e]})),o);window[e(254)][e(237)][e(235)](i);let n={isViewable:!0,placementType:e(243),version:e(242),consentAcceptButtonText:e(252),consentDenyButtonText:"Deny",consentBodyText:"Ads are personalized. Denying would disable it",consentTitleText:"Personalized Ads",supports:{sms:!1,storePicture:!1,inlineVideo:!1,calendar:!1,tel:!1},incentivized:i[e(253)]("INCENTIVIZED")&&"true"===i[e(236)].toLowerCase()};Object[e(245)](r)[e(244)]((function(t){i[e(253)](t)&&(n[r[t]]=i[t])})),window[e(254)][e(237)][e(248)](n)}</script></head><body>  <div id="dynamic"></div> <script type="module">let e,t;function i(e){return e&&e.__esModule?e.default:e}function n(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var r,a,o,s,l,d,c,u,E,_,v,T,h,S,p,g,C,O,A,I,m,f,N,D,y,R,L,w,P,b,V,M,k,U,B,H,x,W,F,K,G,Y,X,j,z,q,$,Z,Q,J,ee,et,ei,en,er,ea,eo,es,el,ed,ec,eu,eE,e_,ev,eT,eh,eS,ep,eg,eC,eO,eA,eI,em,ef,eN,eD,ey,eR,eL,ew,eP,eb,eV,eM,ek,eU,eB,eH,ex,eW,eF,eK,eG,eY,eX,ej,ez,eq,e$,eZ,eQ,eJ,e0,e1,e2,e3,e5,e6,e4,e8,e7,e9,te,tt,ti,tn,tr,ta,to,ts,tl,td,tc,tu,tE,t_,tv,tT,th,tS,tp,tg,tC,tO,tA,tI,tm,tf,tN,tD,ty,tR,tL,tw,tP,tb,tV,tM,tk,tU,tB,tH,tx,tW,tF,tK,tG,tY,tX,tj,tz,tq,t$,tZ,tQ,tJ,t0,t1,t2,t3,t5,t6,t4,t8,t7,t9,ie,it,ii,ir,ia,io,is,il,id,ic,iu,iE,i_,iv,iT,ih,iS,ip,ig,iC,iO,iA,iI,im,iN,iD,iy,iR,iL,iw,iP,ib,iV,iM,ik,iU,iB,iH,ix,iW,iF,iK,iG,iY,iX,ij,iz,iq,i$,iZ,iQ,iJ,i0,i1,i2,i3,i5,i6,i4,i8,i7,i9,ne,nt,ni,nn,nr,na,no,ns,nl,nd,nc,nu,nE,n_,nv,nT,nh,nS,np,ng,nC,nO,nA,nI,nm,nf,nN,nD,ny,nR,nL,nw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},nP={},nb={},nV=nw.parcelRequire799f;null==nV&&((nV=function(e){if(e in nP)return nP[e].exports;if(e in nb){var t=nb[e];delete nb[e];var n={id:e,exports:{}};return nP[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){nb[e]=t},nw.parcelRequire799f=nV),(0,nV.register)("5zJtz",(function(e,t){!function(n,i){var r="function",a="undefined",o="object",s="string",l="major",d="model",c="name",u="type",E="vendor",_="version",v="architecture",T="console",h="mobile",S="tablet",p="smarttv",g="wearable",C="embedded",A="Amazon",O="Apple",I="ASUS",m="BlackBerry",N="Browser",f="Chrome",D="Firefox",y="Google",R="Huawei",L="Microsoft",w="Motorola",P="Opera",b="Samsung",V="Sharp",M="Sony",k="Xiaomi",U="Zebra",B="Facebook",H="Chromium OS",x="Mac OS",W=" Browser",K=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},F=function(e,t){return typeof e===s&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},Y=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},z=function(e,t){for(var n,a,s,l,d,c,u=0;u<t.length&&!d;){var E=t[u],_=t[u+1];for(n=a=0;n<E.length&&!d&&E[n];)if(d=E[n++].exec(e))for(s=0;s<_.length;s++)c=d[++a],typeof(l=_[s])===o&&l.length>0?2===l.length?typeof l[1]==r?this[l[0]]=l[1].call(this,c):this[l[0]]=l[1]:3===l.length?typeof l[1]!==r||l[1].exec&&l[1].test?this[l[0]]=c?c.replace(l[1],l[2]):void 0:this[l[0]]=c?l[1].call(this,c,l[2]):void 0:4===l.length&&(this[l[0]]=c?l[3].call(this,c.replace(l[1],l[2])):void 0):this[l]=c||i;u+=2}},X=function(e,t){for(var n in t)if(typeof t[n]===o&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(F(t[n][r],e))return"?"===n?i:n}else if(F(t[n],e))return"?"===n?i:n;return t.hasOwnProperty("*")?t["*"]:e},j={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[_,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[_,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,_],[/opios[\/ ]+([\w\.]+)/i],[_,[c,P+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[_,[c,P+" GX"]],[/\bopr\/([\w\.]+)/i],[_,[c,P]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[_,[c,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[c,_],[/quark(?:pc)?\/([-\w\.]+)/i],[_,[c,"Quark"]],[/\bddg\/([\w\.]+)/i],[_,[c,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[_,[c,"UC"+N]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[_,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[_,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[_,[c,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[_,[c,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[_,[c,"Smart Lenovo "+N]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+N],_],[/\bfocus\/([\w\.]+)/i],[_,[c,D+" Focus"]],[/\bopt\/([\w\.]+)/i],[_,[c,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[_,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[_,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[_,[c,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[_,[c,"MIUI "+N]],[/fxios\/([-\w\.]+)/i],[_,[c,D]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360"+W]],[/\b(qq)\/([\w\.]+)/i],[[c,/(.+)/,"$1Browser"],_],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1"+W],_],[/samsungbrowser\/([\w\.]+)/i],[_,[c,b+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],_],[/metasr[\/ ]?([\d\.]+)/i],[_,[c,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[c,"Sogou Mobile"],_],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[c,_],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,B],_],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[c,_],[/\bgsa\/([\w\.]+) .*safari\//i],[_,[c,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[_,[c,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[_,[c,f+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,f+" WebView"],_],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[_,[c,"Android "+N]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,_],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[_,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[_,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[_,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,_],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],_],[/(wolvic)\/([\w\.]+)/i],[c,_],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[_,[c,D+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[c,[_,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[c,[_,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,G]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[E,b],[u,S]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[E,b],[u,h]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[E,O],[u,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[E,O],[u,S]],[/(macintosh);/i],[d,[E,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[E,V],[u,h]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[E,R],[u,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[E,R],[u,h]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[E,k],[u,h]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[E,k],[u,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[E,"OPPO"],[u,h]],[/\b(opd2\d{3}a?) bui/i],[d,[E,"OPPO"],[u,S]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[E,"Vivo"],[u,h]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[E,"Realme"],[u,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[E,w],[u,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[E,w],[u,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[E,"LG"],[u,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[E,"LG"],[u,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[E,"Lenovo"],[u,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[E,"Nokia"],[u,h]],[/(pixel c)\b/i],[d,[E,y],[u,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[E,y],[u,h]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[E,M],[u,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[E,M],[u,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[E,"OnePlus"],[u,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[E,A],[u,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[E,A],[u,h]],[/(playbook);[-\w\),; ]+(rim)/i],[d,E,[u,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[E,m],[u,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[E,I],[u,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[E,I],[u,h]],[/(nexus 9)/i],[d,[E,"HTC"],[u,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[d,/_/g," "],[u,h]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[E,"TCL"],[u,S]],[/(itel) ((\w+))/i],[[E,G],d,[u,X,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[E,"Acer"],[u,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[E,"Meizu"],[u,h]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[E,"Ulefone"],[u,h]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[E,"Nothing"],[u,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[E,d,[u,h]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[E,d,[u,S]],[/(surface duo)/i],[d,[E,L],[u,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[E,"Fairphone"],[u,h]],[/(u304aa)/i],[d,[E,"AT&T"],[u,h]],[/\bsie-(\w*)/i],[d,[E,"Siemens"],[u,h]],[/\b(rct\w+) b/i],[d,[E,"RCA"],[u,S]],[/\b(venue[\d ]{2,7}) b/i],[d,[E,"Dell"],[u,S]],[/\b(q(?:mv|ta)\w+) b/i],[d,[E,"Verizon"],[u,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[E,"Barnes & Noble"],[u,S]],[/\b(tm\d{3}\w+) b/i],[d,[E,"NuVision"],[u,S]],[/\b(k88) b/i],[d,[E,"ZTE"],[u,S]],[/\b(nx\d{3}j) b/i],[d,[E,"ZTE"],[u,h]],[/\b(gen\d{3}) b.+49h/i],[d,[E,"Swiss"],[u,h]],[/\b(zur\d{3}) b/i],[d,[E,"Swiss"],[u,S]],[/\b((zeki)?tb.*\b) b/i],[d,[E,"Zeki"],[u,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[E,"Dragon Touch"],d,[u,S]],[/\b(ns-?\w{0,9}) b/i],[d,[E,"Insignia"],[u,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[E,"NextBook"],[u,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[E,"Voice"],d,[u,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[E,"LvTel"],d,[u,h]],[/\b(ph-1) /i],[d,[E,"Essential"],[u,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[E,"Envizen"],[u,S]],[/\b(trio[-\w\. ]+) b/i],[d,[E,"MachSpeed"],[u,S]],[/\btu_(1491) b/i],[d,[E,"Rotor"],[u,S]],[/(shield[\w ]+) b/i],[d,[E,"Nvidia"],[u,S]],[/(sprint) (\w+)/i],[E,d,[u,h]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[E,L],[u,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[E,U],[u,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[E,U],[u,h]],[/smart-tv.+(samsung)/i],[E,[u,p]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[E,b],[u,p]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,"LG"],[u,p]],[/(apple) ?tv/i],[E,[d,O+" TV"],[u,p]],[/crkey/i],[[d,f+"cast"],[E,y],[u,p]],[/droid.+aft(\w+)( bui|\))/i],[d,[E,A],[u,p]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[E,V],[u,p]],[/(bravia[\w ]+)( bui|\))/i],[d,[E,M],[u,p]],[/(mitv-\w{5}) bui/i],[d,[E,k],[u,p]],[/Hbbtv.*(technisat) (.*);/i],[E,d,[u,p]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,Y],[d,Y],[u,p]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,p]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[E,d,[u,T]],[/droid.+; (shield) bui/i],[d,[E,"Nvidia"],[u,T]],[/(playstation [345portablevi]+)/i],[d,[E,M],[u,T]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[E,L],[u,T]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[E,b],[u,g]],[/((pebble))app/i],[E,d,[u,g]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[E,O],[u,g]],[/droid.+; (glass) \d/i],[d,[E,y],[u,g]],[/droid.+; (wt63?0{2,3})\)/i],[d,[E,U],[u,g]],[/(quest( \d| pro)?)/i],[d,[E,B],[u,g]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[u,C]],[/(aeobc)\b/i],[d,[E,A],[u,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[u,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[u,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,h]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[_,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[_,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[c,_],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[_,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,_],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[c,[_,X,j]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[_,X,j],[c,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[_,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,x],[_,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[_,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,_],[/\(bb(10);/i],[_,[c,m]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[_,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[_,[c,D+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[_,[c,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[_,[c,"watchOS"]],[/crkey\/([\d\.]+)/i],[_,[c,f+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[c,H],_],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,_],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],_],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[c,_]]},q=function(e,t){if(typeof e===o&&(t=e,e=i),!(this instanceof q))return new q(e,t).getResult();var T=typeof n!==a&&n.navigator?n.navigator:i,p=e||(T&&T.userAgent?T.userAgent:""),g=T&&T.userAgentData?T.userAgentData:i,C=t?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(Q,t):Q,A=T&&T.userAgent==p;return this.getBrowser=function(){var e,t={};return t[c]=i,t[_]=i,z.call(t,p,C.browser),t[l]=typeof(e=t[_])===s?e.replace(/[^\d\.]/g,"").split(".")[0]:i,A&&T&&T.brave&&typeof T.brave.isBrave==r&&(t[c]="Brave"),t},this.getCPU=function(){var e={};return e[v]=i,z.call(e,p,C.cpu),e},this.getDevice=function(){var e={};return e[E]=i,e[d]=i,e[u]=i,z.call(e,p,C.device),A&&!e[u]&&g&&g.mobile&&(e[u]=h),A&&"Macintosh"==e[d]&&T&&typeof T.standalone!==a&&T.maxTouchPoints&&T.maxTouchPoints>2&&(e[d]="iPad",e[u]=S),e},this.getEngine=function(){var e={};return e[c]=i,e[_]=i,z.call(e,p,C.engine),e},this.getOS=function(){var e={};return e[c]=i,e[_]=i,z.call(e,p,C.os),A&&!e[c]&&g&&g.platform&&"Unknown"!=g.platform&&(e[c]=g.platform.replace(/chrome os/i,H).replace(/macos/i,x)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return p},this.setUA=function(e){return p=typeof e===s&&e.length>500?Y(e,500):e,this},this.setUA(p),this};q.VERSION="1.0.39",q.BROWSER=K([c,_,l]),q.CPU=K([v]),q.DEVICE=K([d,E,u,T,h,p,S,g,C]),q.ENGINE=q.OS=K([c,_]),typeof t!==a?(e.exports&&(t=e.exports=q),t.UAParser=q):typeof define===r&&define.amd?define((function(){return q})):typeof n!==a&&(n.UAParser=q);var $=typeof n!==a&&(n.jQuery||n.Zepto);if($&&!$.ua){var Z=new q;$.ua=Z.getResult(),$.ua.get=function(){return Z.getUA()},$.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var n in t)$.ua[n]=t[n]}}}("object"==typeof window?window:this)}));var nM=class extends Error{};class nk{static getInstance(e){return this.instance||(this.instance=new nk(e)),this.instance}bind(e,t){return this.bindings.set(e,t),this}get(e){if(!this.bindings.has(e))throw new nM(`Could not find anything for key ${e}`);return this.bindings.get(e)}has(e){return this.bindings.has(e)}reset(){this.bindings.clear()}constructor(e=Date.now()){this.startTimestamp=e,this.bindings=new Map}}var nU=nk,nB=class{},nH=class extends nB{get(e){return this.replacementTokens[e]}has(...e){return e.every((e=>e in this.replacementTokens))}some(...e){return e.some((e=>e in this.replacementTokens))}static getServiceIdentifier(){return"TokenServiceInterface"}getSeriesValues(e){var t,n,i,r;let a=this.getSeriesTokens(e),o=null!==(r=null===(i=window.vungle)||void 0===i||null===(n=i.mraidBridgeExt)||void 0===n||null===(t=n.getReplacementTokens)||void 0===t?void 0:t.call(n))&&void 0!==r?r:{};return a.map((e=>o[e]))}getSeriesTokens(e){var t,n,i,r;let a=[],o=null!==(r=null===(i=window.vungle)||void 0===i||null===(n=i.mraidBridgeExt)||void 0===n||null===(t=n.getReplacementTokens)||void 0===t?void 0:t.call(n))&&void 0!==r?r:{},s=[];return Object.keys(o).filter((t=>t.startsWith(e))).forEach((t=>{let n=t.replace(e,"");/^\d+$/.test(n)?s.push(parseInt(n,10)):a.push(t)})),0===s.length||(s.sort(((e,t)=>e-t)),s.forEach((t=>a.push(`${e}${t}`)))),a}constructor(e){super(),this.replacementTokens=null!=e?e:{}}};function nx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}))}return e}function nW(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var nF=class extends nB{getLogger(e="default"){return null==this.loggers[e]&&(this.loggers[e]=function(e,t="default"){return{info:(...n)=>{e.addToActivity({type:"log",level:"info",prefix:t,args:n}),console.info(t,...n)},warn:(...n)=>{e.addToActivity({type:"log",level:"warn",prefix:t,args:n}),console.warn(t,...n)},error:(...n)=>{e.addToActivity({type:"log",level:"error",prefix:t,args:n}),console.error(t,...n)}}}(this,e)),this.loggers[e]}emit(e){e.fireOnlyOnce&&this.hasExistingEvent(e)||(this.addToActivity({type:"event",eventType:e.type,name:e.event,data:e.data}),this.invokeEventHandlers(e))}invokeEventHandlers(e){[...this.eventHandlers[e.type]||[],...this.eventHandlers["*"]||[]].forEach((t=>t(this,e)))}addToActivity(e){this.activity.push(nW(nx({},e),{timestamp:Date.now()}))}getActivity(){return this.activity}clearActivity(){this.activity.length=0}addEventHandler(e,t){this.eventHandlers[e]=this.eventHandlers[e]||[],this.eventHandlers[e].push(t)}removeEventHandler(e,t){null!=this.eventHandlers[e]&&(this.eventHandlers[e]=this.eventHandlers[e].filter((e=>e!==t)))}getEventHandlers(e){return this.eventHandlers[e]||[]}static getServiceIdentifier(){return"ReportingServiceInterface"}constructor(...e){super(...e),this.loggers={},this.eventHandlers={},this.activity=[],this.hasExistingEvent=e=>this.activity.some((t=>"event"===t.type&&t.eventType===e.type&&t.name===e.event))}};(rY=r5||(r5={}))[rY.NotStarted=0]="NotStarted",rY[rY.Running=1]="Running",rY[rY.Stopped=2]="Stopped";const nK={type:"xstate.init"},nG="xstate.assign";function nY(e){return void 0===e?[]:[].concat(e)}function nX(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function nj(e){return t=>e===t}function nz(e){return"string"==typeof e?{type:e}:e}function nq(e,t,n){let i=t,r=!1;return[e.filter((e=>{if(e.type===nG){r=!0;let t=nx({},i);return"function"==typeof e.assignment?t=e.assignment(i,n):Object.keys(e.assignment).forEach((r=>{t[r]="function"==typeof e.assignment[r]?e.assignment[r](i,n):e.assignment[r]})),i=t,!1}return!0})),i,r]}const n$=(e,t)=>e.actions.forEach((({exec:n})=>n&&n(e.context,t))),nZ="State machine is malformed.";function nQ(e){return{type:nG,assignment:e}}var nJ=class extends nB{createMachine(e,t){if(!(null==e?void 0:e.id))throw Error("State machine identifier is missing.");this.machineMap.has(e.id)||this.machineMap.set(e.id,{config:e,options:t,machine:function(e,t={}){let[n,i]=nq(nY(e.states[e.initial].entry).map((e=>nX(e,t.actions))),e.context,nK),r={config:e,_options:t,initialState:{value:e.initial,actions:n,context:i,matches:nj(e.initial)},transition:(t,n)=>{let{value:i,context:a}="string"==typeof t?{value:t,context:e.context}:t,o=nz(n),s=e.states[i];if(s.on){let t=nY(s.on[o.type]);for(let n of("*"in s.on&&t.push(...nY(s.on["*"])),t)){if(void 0===n)break;let{target:t,actions:l=[],cond:d=()=>!0}="string"==typeof n?{target:n}:n,c=void 0===t,u=null!=t?t:i,E=e.states[u];if(d(a,o)){let[e,n,d]=nq((c?nY(l):[].concat(s.exit,l,E.entry).filter((e=>e))).map((e=>nX(e,r._options.actions))),a,o),u=null!=t?t:i;return{value:u,context:n,actions:e,changed:t!==i||e.length>0||d,matches:nj(u)}}}}return{value:i,context:a,actions:[],changed:!1,matches:nj(i)}}};return r}(e,t)});let n=this.machineMap.get(e.id);return null==n?void 0:n.machine}interpret(e){var t;if(!(null==e||null===(t=e.config)||void 0===t?void 0:t.id))throw Error(nZ);return this.interpreterMap.has(e.config.id)||this.interpreterMap.set(e.config.id,function(e){let t=e.initialState,n=r5.NotStarted,i=new Set,r={_machine:e,send:r=>{n===r5.Running&&(n$(t=e.transition(t,r),nz(r)),i.forEach((e=>e(t))))},subscribe:e=>(i.add(e),e(t),{unsubscribe:()=>i.delete(e)}),start:i=>{if(i){let n="object"==typeof i?i:{context:e.config.context,value:i};t={value:n.value,actions:[],context:n.context,matches:nj(n.value)}}else t=e.initialState;return n=r5.Running,n$(t,nK),r},stop:()=>(n=r5.Stopped,i.clear(),r),get state(){return t},get status(){return n}};return r}(e)),this.interpreterMap.get(e.config.id)}clear(e){e?(this.machineMap.delete(e),this.interpreterMap.delete(e)):(this.machineMap.clear(),this.interpreterMap.clear())}static getServiceIdentifier(){return"StateMachineServiceInterface"}constructor(){super(),this.machineMap=new Map,this.interpreterMap=new Map}},n0=()=>"fe734a7c5";(rX=r6||(r6={})).LOADING="loading",rX.DEFAULT="default",rX.EXPANDED="expanded",rX.RESIZED="resized",rX.HIDDEN="hidden";var n1=(e=n0())=>{var t,n,i,r,a,o,s,l;let d=null===(t=window[e])||void 0===t?void 0:t.mraid,c=null===(n=window[e])||void 0===n?void 0:n.mraidExt;return!d&&((null===(o=window.vungle)||void 0===o?void 0:o.mraid)?window[e]={mraid:nx({},window.vungle.mraid)}:window.mraid&&(window[e]={mraid:nx({},window.mraid)})),!c&&(null===(i=window.vungle)||void 0===i?void 0:i.mraidExt)&&(window[e]=nW(nx({},window[e]),{mraidExt:nx({},window.vungle.mraidExt)})),window.mraid&&delete window.mraid,window.vungle&&(window.vungle.mraid&&delete window.vungle.mraid,window.vungle.mraidExt&&(window.vungle.mraidExt={getOS:null===(s=window.vungle.mraidExt)||void 0===s?void 0:s.getOS,getOSVersion:null===(l=window.vungle.mraidExt)||void 0===l?void 0:l.getOSVersion})),{mraid:null===(r=window[e])||void 0===r?void 0:r.mraid,mraidExt:null===(a=window[e])||void 0===a?void 0:a.mraidExt}},n2=class extends nB{init(){let{mraid:e,mraidExt:t}=n1(),{mraidBridge:n,mraidBridgeExt:i}=function(){if(!window.vungle)return{mraidBridge:void 0,mraidBridgeExt:void 0};let{mraidBridge:e,mraidBridgeExt:t}=window.vungle;return{mraidBridge:e,mraidBridgeExt:t}}();this.mraid=e,this.mraidExt=t,this.mraidBridge=n,this.mraidBridgeExt=i,this.initialized=!0}checkInit(){this.initialized||this.init()}static getServiceIdentifier(){return"MraidServiceInterface"}getMraid(){return this.checkInit(),this.mraid}getMraidBridge(){return this.checkInit(),this.mraidBridge}getMraidBridgeExt(){return this.checkInit(),this.mraidBridgeExt}getMraidExt(){return this.checkInit(),this.mraidExt}constructor(){super(),this.initialized=!1,this.init()}},n3=class{clearInterval(){this.id&&(window.clearInterval(this.id),this.id=void 0)}pause(){this.clearInterval()}start(){!this.intervalService.isPaused()&&(void 0!==this.id||this.isDestroyed()||(this.id=window.setInterval((()=>{this.callable()}),this.interval)))}destroy(){this.clearInterval(),this.destroyed=!0}getId(){return this.id}isDestroyed(){return this.destroyed}constructor(e,t,n){this.interval=e,this.callable=t,this.intervalService=n,this.destroyed=!1}},n5=class extends nB{getNewInterval(e,t){let n=new n3(e,t,this);return this.intervals.push(n),n}pauseAll(){this.paused=!0,this.intervals.forEach((e=>{e.pause()}))}startAll(){this.paused=!1,this.intervals.forEach((e=>{e.start()}))}destroyAll(){this.intervals.forEach((e=>{e.destroy()})),this.intervals=[]}isPaused(){return this.paused}static getServiceIdentifier(){return"IntervalServiceInterface"}constructor(e=!1){super(),this.paused=e,this.intervals=[]}},n6=class{constructor(e,t){this.delay=e,this.callable=t,this.getId=()=>this.id,this.start=()=>!this.isDestroyed&&void 0===this.id&&(this.id=window.setTimeout((()=>{this.callable&&this.callable(),this.id=void 0,this.remainingTime=this.delay,this.promiseResolve&&this.promiseResolve(),this.destroy()}),this.remainingTime),this.startTime=Date.now(),!0),this.pause=()=>{void 0!==this.id&&void 0!==this.startTime&&(clearTimeout(this.id),this.remainingTime-=Date.now()-this.startTime),this.startTime=void 0,this.id=void 0},this.destroy=()=>{void 0!==this.id&&(clearTimeout(this.id),this.id=void 0),this.isDestroyed=!0,this.promiseReject&&this.promiseReject(!1)},this.asPromise=()=>new Promise(((e,t)=>{this.promiseResolve=e,this.promiseReject=t,this.isDestroyed?t(Error("The timer has been destroyed and cannot be started.")):this.start()})),this.remainingTime=e,this.isDestroyed=!1}},n4=class extends nB{destroyAll(){this.timers.forEach((e=>{e.destroy()}))}getNewTimer(e,t){let n=new n6(e,t);return this.timers.push(n),n}pauseAll(){this.timers.forEach((e=>{e.pause()}))}standby(){0===this.stash.length&&this.timers.forEach((e=>{void 0!==e.getId()&&(e.pause(),this.stash.push(e))}))}wake(){if(0===this.stash.length)return;let e=this.stash.pop();null==e||e.start(),this.wake()}startAll(){this.timers.forEach((e=>{e.start()}))}static getServiceIdentifier(){return"TimerServiceInterface"}constructor(){super(),this.timers=[],this.stash=[]}},n8=()=>{let e=nU.getInstance(),t=n2.getServiceIdentifier();return e.get(t)};(rj=r4||(r4={})).UNKNOWN="unknown",rj.MREC="mrec",rj.FULLSCREEN="fullscreen",rj.BANNER="banner",rj.IN_LINE="in_line";var n7=()=>{let e=nU.getInstance(),t=nH.getServiceIdentifier();return e.get(t)};(rz=r8||(r8={})).ADM_HTML="ADM_HTML",rz.ADVERTISER_DOMAIN="ADVERTISER_DOMAIN",rz.AD_EXPERIENCE="AD_EXPERIENCE",rz.AD_SOURCE="AD_SOURCE",rz.ALT_EC_0="ALT_EC_0",rz.APPSFLYER_CLICK_TO_APP="APPSFLYER_CLICK_TO_APP",rz.APPSFLYER_ENABLED="APPSFLYER_ENABLED",rz.APPSFLYER_ENGAGED_CLICK="APPSFLYER_ENGAGED_CLICK",rz.APPSFLYER_ENGAGED_VIEW="APPSFLYER_ENGAGED_VIEW",rz.APP_CONTENT_RATING="APP_CONTENT_RATING",rz.APP_DESCRIPTION="APP_DESCRIPTION",rz.APP_DESCRIPTION_ENCODED="APP_DESCRIPTION_ENCODED",rz.APP_DOWNLOAD_COUNT="APP_DOWNLOAD_COUNT",rz.APP_ICON="APP_ICON",rz.APP_INFO_POSITION="APP_INFO_POSITION",rz.APP_LONG_DESCRIPTION="APP_LONG_DESCRIPTION",rz.APP_LONG_DESCRIPTION_ENCODED="APP_LONG_DESCRIPTION_ENCODED",rz.APP_NAME="APP_NAME",rz.APP_NAME_ENCODED="APP_NAME_ENCODED",rz.APP_RATING="APP_RATING",rz.APP_RATING_COUNT="APP_RATING_COUNT",rz.APP_SCREENSHOTS="APP_SCREENSHOTS",rz.APP_STORE_ID="APP_STORE_ID",rz.APP_STORE_ON_ENDCARD_AUTO_DELAY="APP_STORE_ON_ENDCARD_AUTO_DELAY",rz.APP_STORE_ON_ENDCARD_CLOSE="APP_STORE_ON_ENDCARD_CLOSE",rz.APP_STORE_ON_FIRST_TRANSITION="APP_STORE_ON_FIRST_TRANSITION",rz.APP_STORE_ON_SECOND_TRANSITION="APP_STORE_ON_SECOND_TRANSITION",rz.APP_STORE_ON_VIDEO_AUTO_DELAY="APP_STORE_ON_VIDEO_AUTO_DELAY",rz.APP_STORE_ON_VIDEO_CLOSE="APP_STORE_ON_VIDEO_CLOSE",rz.APP_STORE_RATING="APP_STORE_RATING",rz.ASOI_SETTINGS="ASOI_SETTINGS",rz.BANNER_IMAGE_6_1="BANNER_IMAGE_6_1",rz.BANNER_IMAGE_8_1="BANNER_IMAGE_8_1",rz.BLOCK_PERSISTENT_CTA="BLOCK_PERSISTENT_CTA",rz.CLOSE_BUTTON_DELAY_SECONDS="CLOSE_BUTTON_DELAY_SECONDS",rz.CLOSE_BUTTON_PADDING="CLOSE_BUTTON_PADDING",rz.CLOSE_BUTTON_SIZE="CLOSE_BUTTON_SIZE",rz.COUNTRY_CODE="COUNTRY_CODE",rz.CREATIVE_ID="CREATIVE_ID",rz.CREATIVE_VIEW_TYPE="CREATIVE_VIEW_TYPE",rz.CTA_BUTTON_BACKGROUND="CTA_BUTTON_BACKGROUND",rz.CTA_BUTTON_ENCODED_TEXT="CTA_BUTTON_ENCODED_TEXT",rz.CTA_BUTTON_ICON="CTA_BUTTON_ICON",rz.CTA_BUTTON_POSITION="CTA_BUTTON_POSITION",rz.CTA_BUTTON_TEXT="CTA_BUTTON_TEXT",rz.CTA_BUTTON_URL="CTA_BUTTON_URL",rz.DOWNLOAD_BUTTON_DELAY_SECONDS="DOWNLOAD_BUTTON_DELAY_SECONDS",rz.DSA_REQUIRED="DSA_REQUIRED",rz.EC_CLOSE_BUTTON_DELAY_SECONDS="EC_CLOSE_BUTTON_DELAY_SECONDS",rz.EC_CTA_URL="EC_CTA_URL",rz.EC_HTML="EC_HTML",rz.EC_HTML_2="EC_HTML_2",rz.EC_HTML_COMPRESS="EC_HTML_COMPRESS",rz.EC_IMAGE="EC_IMAGE",rz.EC_IMAGE_2="EC_IMAGE_2",rz.EC_SKOVERLAY_DELAY_SECONDS="EC_SKOVERLAY_DELAY_SECONDS",rz.EC_SKOVERLAY_DISABLE_AUTO_MMP="EC_SKOVERLAY_DISABLE_AUTO_MMP",rz.ENDCARD_CLOSE_BUTTON_AS_SKIP="ENDCARD_CLOSE_BUTTON_AS_SKIP",rz.ENDCARD_ONLY_DURATION_SECONDS="ENDCARD_ONLY_DURATION_SECONDS",rz.ENDCARD_URL="ENDCARD_URL",rz.FULL_CTA="FULL_CTA",rz.FULL_CTA_OPTION="FULL_CTA_OPTION",rz.GLOBAL_TIMER="GLOBAL_TIMER",rz.GLOBAL_TIMER_FIRST_PAGE_SHOW_PERCENT="GLOBAL_TIMER_FIRST_PAGE_SHOW_PERCENT",rz.INCENTIVIZED="INCENTIVIZED",rz.INCENTIVIZED_BODY_TEXT="INCENTIVIZED_BODY_TEXT",rz.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS="INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS",rz.INCENTIVIZED_CLOSE_TEXT="INCENTIVIZED_CLOSE_TEXT",rz.INCENTIVIZED_CONTINUE_TEXT="INCENTIVIZED_CONTINUE_TEXT",rz.INCENTIVIZED_TITLE_TEXT="INCENTIVIZED_TITLE_TEXT",rz.IS_INCENTIVE_TIED_TO_CLOSE_BUTTON_DELAY="IS_INCENTIVE_TIED_TO_CLOSE_BUTTON_DELAY",rz.MAIN_MANIFEST="MAIN_MANIFEST",rz.MAIN_STREAM="MAIN_STREAM",rz.MAIN_VIDEO="MAIN_VIDEO",rz.MAX_AD_DURATION="MAX_AD_DURATION",rz.MMP_AUTO_CLICK="MMP_AUTO_CLICK",rz.MREC_IMAGE_6_5="MREC_IMAGE_6_5",rz.NAUTILUS_VERSION="NAUTILUS_VERSION",rz.OBSERVABILITY="OBSERVABILITY",rz.OBSERVED_EXPERIMENTS="OBSERVED_EXPERIMENTS",rz.OM_ENABLED="OM_ENABLED",rz.OM_SDK_DATA="OM_SDK_DATA",rz.ORIGINAL_TEMPLATE_NAME="ORIGINAL_TEMPLATE_NAME",rz.ORIGINAL_VIDEO_URL="ORIGINAL_VIDEO_URL",rz.PLACEMENT_TYPE="PLACEMENT_TYPE",rz.PLATFORM="PLATFORM",rz.REAL_START_MUTED="REAL_START_MUTED",rz.SDK_VERSION="SDK_VERSION",rz.SESSION_ID="SESSION_ID",rz.SHOW_CLOSE_BUTTON_COUNTDOWN="SHOW_CLOSE_BUTTON_COUNTDOWN",rz.SHOW_EC_CLOSE_BUTTON_COUNTDOWN="SHOW_EC_CLOSE_BUTTON_COUNTDOWN",rz.SHOW_VIDEO_CLOSE_BUTTON_COUNTDOWN="SHOW_VIDEO_CLOSE_BUTTON_COUNTDOWN",rz.SKOVERLAY_AUTO="SKOVERLAY_AUTO",rz.SKOVERLAY_AUTO_CLOSE="SKOVERLAY_AUTO_CLOSE",rz.SKOVERLAY_DELAY_SECONDS="SKOVERLAY_DELAY_SECONDS",rz.SKOVERLAY_DISABLE_AUTO_MMP="SKOVERLAY_DISABLE_AUTO_MMP",rz.SKOVERLAY_DISMISSIBLE="SKOVERLAY_DISMISSIBLE",rz.SKOVERLAY_POSITION="SKOVERLAY_POSITION",rz.SKP_AFTER_ENDCARD="SKP_AFTER_ENDCARD",rz.SKP_AFTER_VIDEO="SKP_AFTER_VIDEO",rz.SK_ASOI_AGGRESSIVE="SK_ASOI_AGGRESSIVE",rz.SK_ASOI_COMPLETE="SK_ASOI_COMPLETE",rz.SK_CTA_ONLY="SK_CTA_ONLY",rz.SK_FSC="SK_FSC",rz.START_MUTED="START_MUTED",rz.STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS="STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS",rz.STREAM_CHUNK_0="STREAM_CHUNK_0",rz.THIRD_PAGE_STATIC_ENDCARD="THIRD_PAGE_STATIC_ENDCARD",rz.TPAT_PROGRESS_EVENTS="TPAT_PROGRESS_EVENTS",rz.TRACK_0="TRACK_0",rz.VIDEO_CLOSE_BUTTON_AS_SKIP="VIDEO_CLOSE_BUTTON_AS_SKIP",rz.VIDEO_LOOPING="VIDEO_LOOPING",rz.VIDEO_PROGRESS_BAR="VIDEO_PROGRESS_BAR",rz.VIDEO_PROGRESS_BAR_COLOR="VIDEO_PROGRESS_BAR_COLOR",rz.VIDEO_SHOW_CTA="VIDEO_SHOW_CTA",rz.VUNGLE_PRIVACY_URL="VUNGLE_PRIVACY_URL",rz.VX_ENDCARD="VX_ENDCARD";var n9=r8;(rq=r7||(r7={}))[rq.DIRECT=0]="DIRECT",rq[rq.ACCELERATE=1]="ACCELERATE",rq[rq.EDSP=2]="EDSP",rq[rq.UNKNOWN=3]="UNKNOWN";var re=r7,rt=class extends nB{static getServiceIdentifier(){return"PlacementTypeServiceInterface"}getPlacementType(){var e,t,n;let i=e=>{switch(e){case"banner":return r4.BANNER;case"mrec":return r4.MREC;case"fullscreen":return r4.FULLSCREEN;case"in_line":return r4.IN_LINE;default:return r4.UNKNOWN}},r=i(null!==(t=null===(e=this.mraidService.getMraid())||void 0===e?void 0:e.getPlacementType())&&void 0!==t?t:"");return r!==r4.UNKNOWN?r:i(null!==(n=this.tokenService.get(n9.PLACEMENT_TYPE))&&void 0!==n?n:"")}isMrec(){return this.getPlacementType()===r4.MREC}isBanner(){return this.getPlacementType()===r4.BANNER}isFullscreen(){return this.getPlacementType()===r4.FULLSCREEN}isInLine(){return this.getPlacementType()===r4.IN_LINE}getAdSource(){var e;if(!this.tokenService.has(n9.AD_SOURCE)||void 0===this.tokenService.get(n9.AD_SOURCE))return re.UNKNOWN;switch(null===(e=this.tokenService.get(n9.AD_SOURCE))||void 0===e?void 0:e.toLowerCase()){case"":return re.UNKNOWN;case"idsp":case"direct":return re.DIRECT;case"accelerate":return re.ACCELERATE;default:return re.EDSP}}constructor(e=n7(),t=n8()){super(),this.tokenService=e,this.mraidService=t}},ri=nV("5zJtz"),rn=class{isGreaterThan(e){return this.major!==e.major?this.major>e.major:this.minor!==e.minor?this.minor>e.minor:this.patch>e.patch}isLessThan(e){return e.isGreaterThan(this)}isEqualTo(e){return e.major===this.major&&e.minor===this.minor&&e.patch===this.patch}isGreaterThanOrEqualTo(e){return this.isEqualTo(e)||this.isGreaterThan(e)}isLessThanOrEqualTo(e){return this.isEqualTo(e)||this.isLessThan(e)}toString(){return[this.major,this.minor,this.patch].join(".")}constructor(e){if(this.semanticVersion=e,this.major=0,this.minor=0,this.patch=0,!e)return;let[t,n,i]=e.replace(/-.*/,"").replace(/[^\d.]+/g,"").split(".").map((e=>parseInt(e,10)));t&&!Number.isNaN(t)&&(this.major=t),n&&!Number.isNaN(n)&&(this.minor=n),i&&!Number.isNaN(i)&&(this.patch=i)}};(r$=r9||(r9={})).iOS="iOS",r$.Android="Android",r$.Windows="Windows",r$.Amazon="Amazon",r$.Unknown="Unknown",(rZ=ae||(ae={}))[rZ.LANDSCAPE=0]="LANDSCAPE",rZ[rZ.PORTRAIT=1]="PORTRAIT",rZ[rZ.UNKNOWN=2]="UNKNOWN";class rr extends nB{static getServiceIdentifier(){return"EnvironmentServiceInterface"}parseUserAgent(){var e;this.uaParserResult=i(ri)(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)}getOperatingSystem(){var e,t,n,i;if(this.operatingSystem)return this.operatingSystem;let r=null===(n=this.mraidService)||void 0===n||null===(t=n.getMraidExt())||void 0===t||null===(e=t.getOS)||void 0===e?void 0:e.call(t);return r&&(this.operatingSystem=rr.parseOperatingSystem(r),"Unknown"!==this.operatingSystem)||(this.operatingSystem=this.detectOperatingSystem(),"Unknown"!==this.operatingSystem||(this.operatingSystem=rr.parseOperatingSystem(null!==(i=this.tokenService.get(n9.PLATFORM))&&void 0!==i?i:""))),this.operatingSystem}static parseOperatingSystem(e){switch(e.trim().toLowerCase()){case"ios":return"iOS";case"android":return"Android";case"windows":return"Windows";case"amazon":return"Amazon";default:return"Unknown"}}detectOperatingSystem(){let e=this.getBrowserOs();return/amazon/i.test(e)||/amazon/i.test(this.getDeviceVendor())?"Amazon":/ios/i.test(e)?"iOS":/android/i.test(e)?"Android":/windows/i.test(e)?"Windows":"iPad"===this.getDeviceModel()?"iOS":"Unknown"}getOsVersion(){var e,t;return this.osVersion||(this.osVersion=new rn(null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getOSVersion)||void 0===e?void 0:e.call(t))),this.osVersion}getSdkVersion(){var e,t;if(this.sdkVersion)return this.sdkVersion;let n=null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getSDKVersion)||void 0===e?void 0:e.call(t);return void 0!==n&&"0.0.0"!==n||!this.tokenService.has(n9.SDK_VERSION)?this.sdkVersion=new rn(n):this.sdkVersion=new rn(this.tokenService.get(n9.SDK_VERSION)),this.sdkVersion}getMraidVersion(){var e,t;return this.mraidVersion||(this.mraidVersion=new rn(null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getMraidVersion)||void 0===e?void 0:e.call(t))),this.mraidVersion}getBrowserVersion(){var e,t;return this.uaParserResult||this.parseUserAgent(),null!==(t=null===(e=this.uaParserResult)||void 0===e?void 0:e.browser.version)&&void 0!==t?t:""}getBrowserName(){var e,t;return this.uaParserResult||this.parseUserAgent(),null!==(t=null===(e=this.uaParserResult)||void 0===e?void 0:e.browser.name)&&void 0!==t?t:""}getDeviceModel(){var e,t;return this.uaParserResult||this.parseUserAgent(),null!==(t=null===(e=this.uaParserResult)||void 0===e?void 0:e.device.model)&&void 0!==t?t:""}getDeviceType(){var e,t;return this.uaParserResult||this.parseUserAgent(),null!==(t=null===(e=this.uaParserResult)||void 0===e?void 0:e.device.type)&&void 0!==t?t:""}getDeviceVendor(){var e,t;return this.uaParserResult||this.parseUserAgent(),null!==(t=null===(e=this.uaParserResult)||void 0===e?void 0:e.device.vendor)&&void 0!==t?t:""}getBrowserOs(){var e,t;return this.uaParserResult||this.parseUserAgent(),null!==(t=null===(e=this.uaParserResult)||void 0===e?void 0:e.os.name)&&void 0!==t?t:""}getOrientation(){return window.outerHeight>window.outerWidth?1:window.outerHeight<window.outerWidth?0:2}getDeviceCountryCode(){var e;return null!==(e=this.tokenService.get(n9.COUNTRY_CODE))&&void 0!==e?e:""}static isAffectedByStoreKitProductViewMaskIssue(e){if("iOS"!==e.getOperatingSystem())return!1;let t=e.getOsVersion();return t.isGreaterThanOrEqualTo(new rn("17"))&&t.isLessThan(new rn("17.1.1"))}constructor(e=n7(),t=n8()){super(),this.tokenService=e,this.mraidService=t}}rr.sdkSeven=new rn("7"),(rQ=at||(at={})).ERROR="error",rQ.EVENT="event",rQ.SIGNAL_EVENT="signal-event",(rJ=ai||(ai={})).AD_CLOSE="ad-close",rJ.AD_START="ad-start",rJ.ALTERNATIVE_ENDCARD_CLICK="alternative-endcard-click",rJ.ALTERNATIVE_VIEW="alternative-view",rJ.APP_STORE_CLOSE="app-store-close",rJ.APP_STORE_DURATION="app-store-duration",rJ.APP_STORE_ON_FIRST_TRANSITION_COMPLETE="app-store-on-first-transition-complete",rJ.APP_STORE_ON_FIRST_TRANSITION_DURATION="app-store-on-first-transition-duration",rJ.APP_STORE_ON_FIRST_TRANSITION_START="app-store-on-first-transition-start",rJ.APP_STORE_OPEN="app-store-open",rJ.CLICK_OCCURRED="click-occurred",rJ.CLOSE_BUTTON_VISIBLE="close-button-visible",rJ.CTA="cta",rJ.ENDCARD_CLICK="endcard-click",rJ.ENDCARD_CLOSE="endcard-close",rJ.ENDCARD_CLOSE_BUTTON_CLICK="endcard-close-button-click",rJ.ENDCARD_CLOSE_BUTTON_DURATION="endcard-close-button-duration",rJ.ENDCARD_CLOSE_BUTTON_SHOW="endcard-close-button-show",rJ.ENDCARD_DURATION="endcard-duration",rJ.ENDCARD_FIRST_CLICK="endcard-first-click",rJ.ENDCARD_FIRST_CLICK_DURATION="endcard-first-click-duration",rJ.ENDCARD_FIRST_CLICK_START="endcard-first-click-start",rJ.ENDCARD_LOAD_COMPLETE="endcard-load-complete",rJ.ENDCARD_LOAD_DURATION="endcard-load-duration",rJ.ENDCARD_LOAD_START="endcard-load-start",rJ.ENDCARD_SCENE_END="endcard-scene-end",rJ.ENDCARD_START="endcard-start",rJ.ERROR="error",rJ.FIRST_INTERACTION_AFTER_VIDEO_PLAY_DURATION="first-interaction-after-video-play-duration",rJ.FIRST_INTERACTION_ON_VIDEO_PAGE="first-interaction-on-video-page",rJ.FORFEIT_REWARD="forfeit-reward",rJ.GRANT_REWARD="grant-reward",rJ.HLS_NOT_SUPPORTED="hls-not-supported",rJ.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE="interaction-after-close-button-visible",rJ.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_CLICK="last-chance-endcard-close-button-click",rJ.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_SHOW="last-chance-endcard-close-button-show",rJ.LAST_CHANCE_ENDCARD_CTA_BUTTON_CLICK="last-chance-endcard-cta-button-click",rJ.LAST_CHANCE_ENDCARD_CTA_BUTTON_DURATION="last-chance-endcard-cta-button-duration",rJ.LAST_CHANCE_ENDCARD_END="last-chance-endcard-end",rJ.LAST_CHANCE_ENDCARD_START="last-chance-endcard-start",rJ.NEAR_CLOSE_BUTTON_CLICK="near-close-button-click",rJ.NEAR_CLOSE_BUTTON_CLICK_COUNT="near-close-button-click-count",rJ.OPEN_STOREKIT_PRODUCT_VIEW_COMMAND="open-storekit-product-view-command",rJ.PERSISTENT_CTA_BUTTON_CLICK="persistent-cta-button-click",rJ.PERSISTENT_CTA_BUTTON_DURATION="persistent-cta-button-duration",rJ.PERSISTENT_CTA_BUTTON_SHOW="persistent-cta-button-show",rJ.PRIVACY_CTA="privacy-cta",rJ.PROXY_MRAID="proxy-mraid",rJ.SCENE_CHANGE="scene-change",rJ.SIGNAL_TIMER_START="signal-timer-start",rJ.STORE_KIT_OVERLAY="store-kit-overlay",rJ.UNKNOWN_MRAID_COMMAND="unknown-mraid-command",rJ.VIDEO_CLOSE_BUTTON_CLICK="video-close-button-click",rJ.VIDEO_CLOSE_BUTTON_SHOW="video-close-button-show",rJ.VIDEO_CLOSE="video-close",rJ.VIDEO_SCENE_END="video-scene-end",rJ.VIDEO_SKIP_TO_ENDCARD="video-skip-to-endcard",rJ.VIDEO_START="video-start",rJ.VIDEO_START_COMPLETE="video-start-complete",rJ.VIDEO_START_DELAY="video-start-delay",rJ.VIDEO_START_REQUEST="video-start-request",rJ.VIDEO_START_SUCCESS="video-start-success",(r0=an||(an={})).RESOURCE="resource",r0.PLAYABLE="playable",r0.TEMPLATE="template",(ar||(ar={})).lastChanceEndcard="lastChanceEndcard";var ra=class{push(e){this.items.push(e)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}isEmpty(){return 0===this.items.length}size(){return this.items.length}splice(e,t=1){return this.items.splice(e,t)}findIndex(e){return this.items.findIndex(e)}find(e){return this.items.find(e)}constructor(){this.items=[]}};const ro=()=>[ai.AD_CLOSE,ai.AD_START,ai.ALTERNATIVE_VIEW,ai.CTA,ai.ENDCARD_SCENE_END,ai.ERROR,ai.GRANT_REWARD,ai.HLS_NOT_SUPPORTED,ai.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE,ai.LAST_CHANCE_ENDCARD_END,ai.NEAR_CLOSE_BUTTON_CLICK_COUNT,ai.NEAR_CLOSE_BUTTON_CLICK_COUNT,ai.PROXY_MRAID,ai.SIGNAL_TIMER_START,ai.UNKNOWN_MRAID_COMMAND,ai.VIDEO_SCENE_END,ai.VIDEO_SKIP_TO_ENDCARD,ai.VIDEO_START],rs=()=>[ai.CLOSE_BUTTON_VISIBLE,ai.ENDCARD_CLOSE_BUTTON_DURATION,ai.ENDCARD_DURATION,ai.ENDCARD_FIRST_CLICK_DURATION,ai.ENDCARD_LOAD_DURATION,ai.FIRST_INTERACTION_AFTER_VIDEO_PLAY_DURATION,ai.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE,ai.LAST_CHANCE_ENDCARD_CTA_BUTTON_DURATION,ai.NEAR_CLOSE_BUTTON_CLICK_COUNT,ai.PERSISTENT_CTA_BUTTON_DURATION,ai.VIDEO_START_DELAY];var rl=()=>[[ai.APP_STORE_OPEN,ai.APP_STORE_CLOSE,ai.APP_STORE_DURATION],[ai.ENDCARD_START,ai.ENDCARD_CLOSE,ai.ENDCARD_DURATION],[ai.VIDEO_CLOSE_BUTTON_SHOW,ai.VIDEO_CLOSE_BUTTON_CLICK,ai.CLOSE_BUTTON_VISIBLE],[ai.ENDCARD_CLOSE_BUTTON_SHOW,ai.ENDCARD_CLOSE_BUTTON_CLICK,ai.CLOSE_BUTTON_VISIBLE],[ai.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_SHOW,ai.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_CLICK,ai.CLOSE_BUTTON_VISIBLE],[ai.LAST_CHANCE_ENDCARD_START,ai.LAST_CHANCE_ENDCARD_CTA_BUTTON_CLICK,ai.LAST_CHANCE_ENDCARD_CTA_BUTTON_DURATION],[ai.PERSISTENT_CTA_BUTTON_SHOW,ai.PERSISTENT_CTA_BUTTON_CLICK,ai.PERSISTENT_CTA_BUTTON_DURATION],[ai.VIDEO_START_SUCCESS,ai.FIRST_INTERACTION_ON_VIDEO_PAGE,ai.FIRST_INTERACTION_AFTER_VIDEO_PLAY_DURATION],[ai.ENDCARD_LOAD_START,ai.ENDCARD_LOAD_COMPLETE,ai.ENDCARD_LOAD_DURATION],[ai.VIDEO_START_REQUEST,ai.VIDEO_START_COMPLETE,ai.VIDEO_START_DELAY],[ai.APP_STORE_ON_FIRST_TRANSITION_START,ai.APP_STORE_ON_FIRST_TRANSITION_COMPLETE,ai.APP_STORE_ON_FIRST_TRANSITION_DURATION],[ai.ENDCARD_FIRST_CLICK_START,ai.ENDCARD_FIRST_CLICK,ai.ENDCARD_FIRST_CLICK_DURATION]];const rd="Unable to load img resource",rc="video load fail after retry",ru="video load fail with no retry",rE="video does not play after 10s",r_="video play fail after 30s",rv="video failed to play",rT=[rc,ru,rE,r_,rv,rd];var rh=()=>{let e=nU.getInstance(),t=rr.getServiceIdentifier();return e.get(t)},rS=()=>{let e=nU.getInstance(),t=rt.getServiceIdentifier();return e.get(t)};const rp=()=>{let e=nU.getInstance(),t=nF.getServiceIdentifier();return e.get(t)},rg=()=>rp(),rC=()=>rp(),rO=()=>rp(),rA=()=>rp(),rI=()=>rp(),rm=()=>rp(),rf=()=>rp(),rN=()=>rp(),rD=()=>rp(),ry=()=>rp(),rR=()=>rp(),rL=()=>rp(),rw=()=>rp(),rP=()=>rp(),rb=()=>rp();var rV=rp,rM=(e,t)=>{let n=`context_${t}`;return nU.getInstance().has(n)||nU.getInstance().bind(n,e),{getValue:()=>nU.getInstance().get(n),setValue:e=>{nU.getInstance().bind(n,e)}}};const rk=rM({scene:void 0},"SceneContext");var rU=()=>{var e;return null===(e=rk.getValue())||void 0===e?void 0:e.scene},rB=e=>{var t;return!!e&&"true"===(null==e||null===(t=e.trim())||void 0===t?void 0:t.toLowerCase())},rH=(e=n7())=>!!e.has(n9.INCENTIVIZED)&&rB(e.get(n9.INCENTIVIZED)),rx=class extends nB{static getServiceIdentifier(){return"ObservabilityServiceInterface"}init(e){this.observability=e(),this.isObserved=this.observability.isObserved()}pushError(e,t){var n;this.isObserved&&(null===(n=this.observability)||void 0===n||n.pushError(e,nW(nx({},t,this.getDefaultObservabilityData()),{elapsed:Date.now()-nU.getInstance().startTimestamp,error_source:this.getErrorSource(e,t)})))}getDefaultObservabilityData(e=rU){var t,n,i,r,a,o,s,l;return nx({ad_source:null!==(n=this.tokenService.get(n9.AD_SOURCE))&&void 0!==n?n:"",ad_type:null!==(i=this.tokenService.get(n9.ORIGINAL_TEMPLATE_NAME))&&void 0!==i?i:"",advertiser_domain:null!==(r=this.tokenService.get(n9.ADVERTISER_DOMAIN))&&void 0!==r?r:"",browser_name:this.environmentService.getBrowserName(),browser_os:this.environmentService.getBrowserOs(),browser_version:this.environmentService.getBrowserVersion(),creative_id:null!==(a=this.tokenService.get(n9.CREATIVE_ID))&&void 0!==a?a:"",device_country_code:this.environmentService.getDeviceCountryCode(),device_model:this.environmentService.getDeviceModel(),device_type:this.environmentService.getDeviceType(),device_vendor:this.environmentService.getDeviceVendor(),event_id:null!==(o=this.tokenService.get(n9.SESSION_ID))&&void 0!==o?o:"",is_incentivized:rH(this.tokenService),observed_experiments:null!==(s=this.tokenService.get(n9.OBSERVED_EXPERIMENTS))&&void 0!==s?s:"",os_version:this.environmentService.getOsVersion().toString(),placement_type:this.placementTypeService.getPlacementType(),platform:this.environmentService.getOperatingSystem(),sdk_version:this.environmentService.getSdkVersion().toString(),template_version:null!==(l=window.appVersion)&&void 0!==l?l:"0.0.0"},null===(t=e())||void 0===t?void 0:t.getObservabilityData())}getAttributesData(e){let t=Date.now()-nU.getInstance().startTimestamp;return nW(nx({},e,this.getDefaultObservabilityData()),{elapsed:t})}updateEventTupleDataStack(e){let[t,n]=this.getAcceptTuple(e),i=this.getMatchingTuple(t);e.name===t&&(i?i[0].timestamp=Date.now():this.eventTupleDataStack.push([{name:t,timestamp:Date.now(),data:e}])),e.name===n&&i&&i.push({name:n,timestamp:Date.now(),data:e})}getAcceptTuple(e){return this.eventTuplesToAccept.find((t=>t.includes(e.name)))}getMatchingTuple(e){return this.eventTupleDataStack.find((t=>t.some((t=>t.name===e))))}deleteTupleFromDataStack(e){let t=this.eventTupleDataStack.findIndex((t=>t===e));this.eventTupleDataStack.splice(t)}pushOrCacheEvent(e,t){var n;rs().includes(e)?this.pendingEvents[e]=t:null===(n=this.observability)||void 0===n||n.pushEvent(e,t)}pushTupleEvent(e){var t;let n=this.getAcceptTuple(e);if(!n)return;this.updateEventTupleDataStack(e);let[i,r,a]=n,o=null!==(t=this.getMatchingTuple(i))&&void 0!==t?t:[];if(e.name===r&&2===o.length){this.deleteTupleFromDataStack(o);let[t,n]=o,i=this.getAttributesData(nW(nx({},e),{name:a,duration:n.timestamp-t.timestamp}));this.pushOrCacheEvent(a,i)}}pushSingleEvent(e){let t=e.name,n=this.getAttributesData(e);this.pushOrCacheEvent(t,n)}pushEvent(e){if(this.isObserved){if(this.singleEventsToAccept.includes(e.name))return void this.pushSingleEvent(e);this.pushTupleEvent(e)}}getPendingEventData(e,t){let n=this.pendingEvents[e];return t&&n?n.scene_id===t?n:void 0:n}getErrorSource(e,t){var n,i;let r=null!==(n=null==e?void 0:e.message)&&void 0!==n?n:e,a=null!==(i=null==e?void 0:e.error_source)&&void 0!==i?i:an.TEMPLATE;return(null==t?void 0:t.errorSource)&&(a=t.errorSource),(rT.includes(r)||/(Failed to load|Unable to load).*/i.test(r))&&(a=an.RESOURCE),a}constructor(e=n7(),t=rS(),n=rh(),i=n8(),r=rA(),a=ro(),o=rl()){super(),this.tokenService=e,this.placementTypeService=t,this.environmentService=n,this.mraidService=i,this.errorLoggingReportingService=r,this.singleEventsToAccept=a,this.eventTuplesToAccept=o,this.isObserved=!1,this.eventTupleDataStack=new ra,this.pendingEvents={}}},rW=(e=n7())=>rH(e)&&e.has(n9.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS)?Number(e.get(n9.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS)):e.has(n9.CLOSE_BUTTON_DELAY_SECONDS)?Number(e.get(n9.CLOSE_BUTTON_DELAY_SECONDS)):0;const rF="scenes-key",rK="gdpr";var rG=(e=nU.getInstance())=>e.get(rF);(r1=aa||(aa={})).closed="closed",r1.endcard="endcard",r1.gdpr="gdpr",r1.image="image",r1.video="video",r1.adaptiveCreativeEndcard="adaptiveCreativeEndcard",(r2=ao||(ao={}))[r2.OFF=0]="OFF",r2[r2.SKO=1]="SKO",r2[r2.SKPV=2]="SKPV",r2[r2.STATIC_URL=3]="STATIC_URL",(r3=as||(as={})).CLICK_THROUGH="clickThrough",r3.COMPLETE="complete",r3.CREATIVE_VIEW="creativeView",r3.FIRST_QUARTILE="firstQuartile",r3.MIDPOINT="midpoint",r3.START="start",r3.THIRD_QUARTILE="thirdQuartile";var rY,rX,rj,rz,rq,r$,rZ,rQ,rJ,r0,r1,r2,r3,r5,r6,r4,r8,r7,r9,ae,at,ai,an,ar,aa,ao,as,al,ad,ac,au,aE,a_,av,aT,ah,aS,ap,ag=(e,t=rS(),n=rW())=>!!(t.isBanner()||t.isMrec()||t.isInLine())||!!n&&(9999===n||n>e),aC=class extends nB{static getServiceIdentifier(){return"GlobalTimerServiceInterface"}isEnabled(){let e=rB(this.tokenService.get(n9.GLOBAL_TIMER)),t=Number(this.tokenService.get(n9.GLOBAL_TIMER_FIRST_PAGE_SHOW_PERCENT)),n=this.injectedGetScenes().some((e=>e.getSceneType()===aa.video)),i=this.injectedGetScenes().some((e=>this.endcardTypes.includes(e.getSceneType())));return e&&t>=1&&t<=100&&n&&i}getTotalCloseButtonDelaySeconds(){let e=()=>{let e=this.tokenService.get(n9.MAX_AD_DURATION);return void 0===e||"-1"===e?60:Number(e)},t=9999===rW(this.tokenService),n=()=>{var t,n,i,r,a;let o=e(),s=this.injectedGetScenes().find((e=>this.endcardTypes.includes(e.getSceneType()))),l=[aa.endcard,aa.image].includes(null==s||null===(t=s.next)||void 0===t?void 0:t.getSceneType()),d=null==s?void 0:s.getLastChanceEndcardConfig().enabled;return l&&(o-=null!==(i=null===(n=null==s?void 0:s.next)||void 0===n?void 0:n.getCloseButtonConfig().delay)&&void 0!==i?i:0),d&&(o-=null!==(a=null==s||null===(r=s.getLastChanceEndcardConfig().close)||void 0===r?void 0:r.delay)&&void 0!==a?a:0),o>=0?o:0};return t?n():(()=>{var t,i;let r=e(),a=this.injectedGetScenes().find((e=>e.getSceneType()===aa.video)),o=this.injectedGetScenes().find((e=>this.endcardTypes.includes(e.getSceneType()))),s=(null!==(t=null==a?void 0:a.getCloseButtonConfig().delay)&&void 0!==t?t:0)+(null!==(i=null==o?void 0:o.getCloseButtonConfig().delay)&&void 0!==i?i:0);return s>=r?n():s})()}getVideoPageCloseButtonDelaySeconds(){let e=this.getTotalCloseButtonDelaySeconds();return Number(this.tokenService.get(n9.GLOBAL_TIMER_FIRST_PAGE_SHOW_PERCENT))/100*e}hasReachedVideoPageCloseButtonDelaySeconds(){return this.totalDelaySecondsConsumed>=this.getVideoPageCloseButtonDelaySeconds()}setTotalDelaySecondsConsumed(e){this.totalDelaySecondsConsumed=e}isVideoSkipped(){return this.reportingService.getActivity().filter((e=>e.type===at.EVENT&&"observability"===e.eventType&&e.data.name===ai.VIDEO_SKIP_TO_ENDCARD)).length>0}getEndcardPageCloseButtonDelaySeconds(){return this.isVideoSkipped()&&(this.totalDelaySecondsConsumed=this.getVideoPageCloseButtonDelaySeconds()),this.getTotalCloseButtonDelaySeconds()-this.totalDelaySecondsConsumed}constructor(e=n7(),t=rV(),n=rG){super(),this.tokenService=e,this.reportingService=t,this.injectedGetScenes=n,this.totalDelaySecondsConsumed=0,this.endcardTypes=[aa.endcard,aa.image,aa.adaptiveCreativeEndcard]}},aO=class extends nB{isViewable(){var e;return this.viewableIsSet?this.viewable:!!(null===(e=this.mraidService.getMraid())||void 0===e?void 0:e.isViewable())}resetViewable(){this.viewable=!1,this.viewableIsSet=!1}setViewable(e){this.viewable=e,this.viewableIsSet=!0}static getServiceIdentifier(){return"ViewableServiceInterface"}constructor(e=n8()){super(),this.mraidService=e,this.viewable=!1,this.viewableIsSet=!1}},aA={},aI=[],am=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,af=Array.isArray;function aN(e,t){for(var n in t)e[n]=t[n];return e}function aD(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ay(e,t,n,i,r){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++ac:r,__i:-1,__u:0};return null==r&&null!=ad.vnode&&ad.vnode(a),a}function aR(e){return e.children}function aL(e,t){this.props=e,this.context=t}function aw(e,t){if(null==t)return e.__?aw(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?aw(e):null}function aP(e){(!e.__d&&(e.__d=!0)&&aE.push(e)&&!ab.__r++||a_!==ad.debounceRendering)&&((a_=ad.debounceRendering)||av)(ab)}function ab(){var e,t,n,i,r,a,o,s;for(aE.sort(aT);e=aE.shift();)e.__d&&(t=aE.length,i=void 0,a=(r=(n=e).__v).__e,o=[],s=[],n.__P&&((i=aN({},r)).__v=r.__v+1,ad.vnode&&ad.vnode(i),aB(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[a]:null,o,null==a?aw(r):a,!!(32&r.__u),s),i.__v=r.__v,i.__.__k[i.__i]=i,aH(o,i,s),i.__e!=a&&function e(t){var n,i;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(i=t.__k[n])&&null!=i.__e){t.__e=t.__c.base=i.__e;break}return e(t)}}(i)),aE.length>t&&aE.sort(aT));ab.__r=0}function aV(e,t,n,i,r,a,o,s,l,d,c){var u,E,_,v,T,h=i&&i.__k||aI,S=t.length;for(n.__d=l,function(e,t,n){var i,r,a,o,s,l=t.length,d=n.length,c=d,u=0;for(e.__k=[],i=0;i<l;i++)null!=(r=t[i])&&"boolean"!=typeof r&&"function"!=typeof r?(o=i+u,(r=e.__k[i]="string"==typeof r||"number"==typeof r||"bigint"==typeof r||r.constructor==String?ay(null,r,null,null,null):af(r)?ay(aR,{children:r},null,null,null):void 0===r.constructor&&r.__b>0?ay(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,a=null,-1!==(s=r.__i=function(e,t,n,i){var r=e.key,a=e.type,o=n-1,s=n+1,l=t[n];if(null===l||l&&r==l.key&&a===l.type&&!(131072&l.__u))return n;if(i>(null==l||131072&l.__u?0:1))for(;o>=0||s<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&r==l.key&&a===l.type)return o;o--}if(s<t.length){if((l=t[s])&&!(131072&l.__u)&&r==l.key&&a===l.type)return s;s++}}return-1}(r,n,o,c))&&(c--,(a=n[s])&&(a.__u|=131072)),null==a||null===a.__v?(-1==s&&u--,"function"!=typeof r.type&&(r.__u|=65536)):s!==o&&(s==o-1?u--:s==o+1?u++:(s>o?u--:u++,r.__u|=65536))):r=e.__k[i]=null;if(c)for(i=0;i<d;i++)null!=(a=n[i])&&!(131072&a.__u)&&(a.__e==e.__d&&(e.__d=aw(a)),function e(t,n,i){var r,a;if(ad.unmount&&ad.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||ax(r,null,n)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){ad.__e(e,n)}r.base=r.__P=null}if(r=t.__k)for(a=0;a<r.length;a++)r[a]&&e(r[a],n,i||"function"!=typeof t.type);i||aD(t.__e),t.__c=t.__=t.__e=t.__d=void 0}(a,a))}(n,t,h),l=n.__d,u=0;u<S;u++)null!=(_=n.__k[u])&&(E=-1===_.__i?aA:h[_.__i]||aA,_.__i=u,aB(e,_,E,r,a,o,s,l,d,c),v=_.__e,_.ref&&E.ref!=_.ref&&(E.ref&&ax(E.ref,null,_),c.push(_.ref,_.__c||v,_)),null==T&&null!=v&&(T=v),65536&_.__u||E.__k===_.__k?l=function e(t,n,i){var r,a;if("function"==typeof t.type){for(r=t.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=t,n=e(r[a],n,i));return n}t.__e!=n&&(n&&t.type&&!i.contains(n)&&(n=aw(t)),i.insertBefore(t.__e,n||null),n=t.__e);do{n=n&&n.nextSibling}while(null!=n&&8===n.nodeType);return n}(_,l,e):"function"==typeof _.type&&void 0!==_.__d?l=_.__d:v&&(l=v.nextSibling),_.__d=void 0,_.__u&=-196609);n.__d=l,n.__e=T}function aM(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||am.test(t)?n:n+"px"}function ak(e,t,n,i,r){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||aM(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||aM(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?i?n.u=i.u:(n.u=ah,e.addEventListener(t,a?ap:aS,a)):e.removeEventListener(t,a?ap:aS,a);else{if("http://www.w3.org/2000/svg"==r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function aU(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=ah++;else if(t.t<n.u)return;return n(ad.event?ad.event(t):t)}}}function aB(e,t,n,i,r,a,o,s,l,d){var c,u,E,_,v,T,h,S,p,g,C,A,O,I,m,N,f=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),a=[s=t.__e=n.__e]),(c=ad.__b)&&c(t);e:if("function"==typeof f)try{if(S=t.props,p="prototype"in f&&f.prototype.render,g=(c=f.contextType)&&i[c.__c],C=c?g?g.props.value:c.__:i,n.__c?h=(u=t.__c=n.__c).__=u.__E:(p?t.__c=u=new f(S,C):(t.__c=u=new aL(S,C),u.constructor=f,u.render=aW),g&&g.sub(u),u.props=S,u.state||(u.state={}),u.context=C,u.__n=i,E=u.__d=!0,u.__h=[],u._sb=[]),p&&null==u.__s&&(u.__s=u.state),p&&null!=f.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=aN({},u.__s)),aN(u.__s,f.getDerivedStateFromProps(S,u.__s))),_=u.props,v=u.state,u.__v=t,E)p&&null==f.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),p&&null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(p&&null==f.getDerivedStateFromProps&&S!==_&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(S,C),!u.__e&&(null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(S,u.__s,C)||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=S,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),A=0;A<u._sb.length;A++)u.__h.push(u._sb[A]);u._sb=[],u.__h.length&&o.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(S,u.__s,C),p&&null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(_,v,T)}))}if(u.context=C,u.props=S,u.__P=e,u.__e=!1,O=ad.__r,I=0,p){for(u.state=u.__s,u.__d=!1,O&&O(t),c=u.render(u.props,u.state,u.context),m=0;m<u._sb.length;m++)u.__h.push(u._sb[m]);u._sb=[]}else do{u.__d=!1,O&&O(t),c=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++I<25);u.state=u.__s,null!=u.getChildContext&&(i=aN(aN({},i),u.getChildContext())),p&&!E&&null!=u.getSnapshotBeforeUpdate&&(T=u.getSnapshotBeforeUpdate(_,v)),aV(e,af(N=null!=c&&c.type===aR&&null==c.key?c.props.children:c)?N:[N],t,n,i,r,a,o,s,l,d),u.base=t.__e,t.__u&=-161,u.__h.length&&o.push(u),h&&(u.__E=u.__=null)}catch(e){if(t.__v=null,l||null!=a){for(t.__u|=l?160:32;s&&8===s.nodeType&&s.nextSibling;)s=s.nextSibling;a[a.indexOf(s)]=null,t.__e=s}else t.__e=n.__e,t.__k=n.__k;ad.__e(e,t,n)}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,i,r,a,o,s,l){var d,c,u,E,_,v,T,h=n.props,S=t.props,p=t.type;if("svg"===p?r="http://www.w3.org/2000/svg":"math"===p?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),null!=a)for(d=0;d<a.length;d++)if((_=a[d])&&"setAttribute"in _==!!p&&(p?_.localName===p:3===_.nodeType)){e=_,a[d]=null;break}if(null==e){if(null===p)return document.createTextNode(S);e=document.createElementNS(r,p,S.is&&S),s&&(ad.__m&&ad.__m(t,a),s=!1),a=null}if(null===p)h===S||s&&e.data===S||(e.data=S);else{if(a=a&&al.call(e.childNodes),h=n.props||aA,!s&&null!=a)for(h={},d=0;d<e.attributes.length;d++)h[(_=e.attributes[d]).name]=_.value;for(d in h)if(_=h[d],"children"==d);else if("dangerouslySetInnerHTML"==d)u=_;else if(!(d in S)){if("value"==d&&"defaultValue"in S||"checked"==d&&"defaultChecked"in S)continue;ak(e,d,null,_,r)}for(d in S)_=S[d],"children"==d?E=_:"dangerouslySetInnerHTML"==d?c=_:"value"==d?v=_:"checked"==d?T=_:s&&"function"!=typeof _||h[d]===_||ak(e,d,_,h[d],r);if(c)s||u&&(c.__html===u.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(u&&(e.innerHTML=""),aV(e,af(E)?E:[E],t,n,i,"foreignObject"===p?"http://www.w3.org/1999/xhtml":r,a,o,a?a[0]:n.__k&&aw(n,0),s,l),null!=a)for(d=a.length;d--;)aD(a[d]);s||(d="value","progress"===p&&null==v?e.removeAttribute("value"):void 0===v||v===e[d]&&("progress"!==p||v)&&("option"!==p||v===h[d])||ak(e,d,v,h[d],r),d="checked",void 0!==T&&T!==e[d]&&ak(e,d,T,h[d],r))}return e}(n.__e,t,n,i,r,a,o,l,d);(c=ad.diffed)&&c(t)}function aH(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)ax(n[i],n[++i],n[++i]);ad.__c&&ad.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){ad.__e(e,t.__v)}}))}function ax(e,t,n){try{if("function"==typeof e){var i="function"==typeof e.__u;i&&e.__u(),i&&null==t||(e.__u=e(t))}else e.current=t}catch(e){ad.__e(e,n)}}function aW(e,t,n){return this.constructor(e,n)}al=aI.slice,ad={__e:function(e,t,n,i){for(var r,a,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&null!=a.getDerivedStateFromError&&(r.setState(a.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},ac=0,au=function(e){return null!=e&&null==e.constructor},aL.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=aN({},this.state),"function"==typeof e&&(e=e(aN({},n),this.props)),e&&aN(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),aP(this))},aL.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),aP(this))},aL.prototype.render=aR,aE=[],av="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,aT=function(e,t){return e.__v.__b-t.__v.__b},ab.__r=0,ah=0,aS=aU(!1),ap=aU(!0);var aF,aK,aG,aY,aX=0,aj=[],az=ad,aq=az.__b,a$=az.__r,aZ=az.diffed,aQ=az.__c,aJ=az.unmount,a0=az.__;function a1(e,t){az.__h&&az.__h(aK,e,aX||t),aX=0;var n=aK.__H||(aK.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function a2(e,t){var n=a1(aF++,3);!az.__s&&a9(n.__H,t)&&(n.__=e,n.i=t,aK.__H.__h.push(n))}function a3(e){return aX=5,a5((function(){return{current:e}}),[])}function a5(e,t){var n=a1(aF++,7);return a9(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function a6(){for(var e;e=aj.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(a8),e.__H.__h.forEach(a7),e.__H.__h=[]}catch(t){e.__H.__h=[],az.__e(t,e.__v)}}az.__b=function(e){aK=null,aq&&aq(e)},az.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),a0&&a0(e,t)},az.__r=function(e){a$&&a$(e),aF=0;var t=(aK=e.__c).__H;t&&(aG===aK?(t.__h=[],aK.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0}))):(t.__h.forEach(a8),t.__h.forEach(a7),t.__h=[],aF=0)),aG=aK},az.diffed=function(e){aZ&&aZ(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==aj.push(t)&&aY===az.requestAnimationFrame||((aY=az.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),a4&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);a4&&(t=requestAnimationFrame(n))})(a6)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.i=void 0}))),aG=aK=null},az.__c=function(e,t){t.some((function(e){try{e.__h.forEach(a8),e.__h=e.__h.filter((function(e){return!e.__||a7(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],az.__e(n,e.__v)}})),aQ&&aQ(e,t)},az.unmount=function(e){aJ&&aJ(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{a8(e)}catch(e){t=e}})),n.__H=void 0,t&&az.__e(t,n.__v))};var a4="function"==typeof requestAnimationFrame;function a8(e){var t=aK,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),aK=t}function a7(e){var t=aK;e.__c=e.__(),aK=t}function a9(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function oe(e,t){return"function"==typeof t?t(e):t}var ot=Symbol.for("preact-signals");function oi(){if(oa>1)oa--;else{for(var e,t=!1;void 0!==or;){var n=or;for(or=void 0,oo++;void 0!==n;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&ou(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=i}}if(oo=0,oa--,t)throw e}}var on=void 0,or=void 0,oa=0,oo=0,os=0;function ol(e){if(void 0!==on){var t=e.n;if(void 0===t||t.t!==on)return t={i:0,S:e,p:on.s,n:void 0,t:on,e:void 0,x:void 0,r:t},void 0!==on.s&&(on.s.n=t),on.s=t,e.n=t,32&on.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=on.s,t.n=void 0,on.s.n=t,on.s=t),t}}function od(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function oc(e){return new od(e)}function ou(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function oE(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function o_(e){for(var t=e.s,n=void 0;void 0!==t;){var i=t.p;-1===t.i?(t.S.U(t),void 0!==i&&(i.n=t.n),void 0!==t.n&&(t.n.p=i)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=i}e.s=n}function ov(e){od.call(this,void 0),this.x=e,this.s=void 0,this.g=os-1,this.f=4}function oT(e){var t=e.u;if(e.u=void 0,"function"==typeof t){oa++;var n=on;on=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,oh(e),t}finally{on=n,oi()}}}function oh(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,oT(e)}function oS(e){if(on!==this)throw Error("Out-of-order effect");o_(this),on=e,this.f&=-2,8&this.f&&oh(this),oi()}function op(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function og(e){var t=new op(e);try{t.c()}catch(e){throw t.d(),e}return t.d.bind(t)}function oC(e,t){ad[e]=t.bind(null,ad[e]||function(){})}function oO(e){eN&&eN(),eN=e&&e.S()}function oA(e){var t=this,n=e.data,i=oI(n);i.value=n;var r=a5((function(){for(var e=t.__v;e=e.__;)if(e.__c){e.__c.__$f|=4;break}return t.__$u.c=function(){var e;au(r.peek())||3!==(null==(e=t.base)?void 0:e.nodeType)?(t.__$f|=1,t.setState({})):t.base.data=r.peek()},new ov((function(){var e=i.value.value;return 0===e?0:!0===e?"":e||""}))}),[]);return r.value}function oI(e){return a5((function(){return oc(e)}),[])}function om(e){var t=a3(e);t.current=e,a2((function(){return og((function(){return t.current()}))}),[])}od.prototype.brand=ot,od.prototype.h=function(){return!0},od.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},od.prototype.U=function(e){if(void 0!==this.t){var t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}},od.prototype.subscribe=function(e){var t=this;return og((function(){var n=t.value,i=on;on=void 0;try{e(n)}finally{on=i}}))},od.prototype.valueOf=function(){return this.value},od.prototype.toString=function(){return this.value+""},od.prototype.toJSON=function(){return this.value},od.prototype.peek=function(){var e=on;on=void 0;try{return this.value}finally{on=e}},Object.defineProperty(od.prototype,"value",{get:function(){var e=ol(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(oo>100)throw Error("Cycle detected");this.v=e,this.i++,os++,oa++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{oi()}}}}),(ov.prototype=new od).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===os))return!0;if(this.g=os,this.f|=1,this.i>0&&!ou(this))return this.f&=-2,!0;var e=on;try{oE(this),on=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return on=e,o_(this),this.f&=-2,!0},ov.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}od.prototype.S.call(this,e)},ov.prototype.U=function(e){if(void 0!==this.t&&(od.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},ov.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(ov.prototype,"value",{get:function(){if(1&this.f)throw Error("Cycle detected");var e=ol(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),op.prototype.c=function(){var e=this.S();try{if(8&this.f||void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},op.prototype.S=function(){if(1&this.f)throw Error("Cycle detected");this.f|=1,this.f&=-9,oT(this),oE(this),oa++;var e=on;return on=this,oS.bind(this,e)},op.prototype.N=function(){2&this.f||(this.f|=2,this.o=or,or=this)},op.prototype.d=function(){this.f|=8,1&this.f||oh(this)},oA.displayName="_st",Object.defineProperties(od.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:oA},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),oC("__b",(function(e,t){if("string"==typeof t.type){var n,i=t.props;for(var r in i)if("children"!==r){var a=i[r];a instanceof od&&(n||(t.__np=n={}),n[r]=a,i[r]=a.peek())}}e(t)})),oC("__r",(function(e,t){oO();var n,i,r=t.__c;r&&(r.__$f&=-2,void 0===(i=r.__$u))&&(r.__$u=(og((function(){n=this})),n.c=function(){r.__$f|=1,r.setState({})},i=n)),oO(i),e(t)})),oC("__e",(function(e,t,n,i){oO(),e(t,n,i)})),oC("diffed",(function(e,t){if(oO(),"string"==typeof t.type&&(n=t.__e)){var n,i=t.__np,r=t.props;if(i){var a=n.U;if(a)for(var o in a){var s=a[o];void 0===s||o in i||(s.d(),a[o]=void 0)}else n.U=a={};for(var l in i){var d=a[l],c=i[l];void 0===d?(d=function(e,t,n,i){var r=t in e&&void 0===e.ownerSVGElement,a=oc(n);return{o:function(e,t){a.value=e,i=t},d:og((function(){var n=a.value.value;i[t]!==n&&(i[t]=n,r?e[t]=n:n?e.setAttribute(t,n):e.removeAttribute(t))}))}}(n,l,c,r),a[l]=d):d.o(c,r)}}}e(t)})),oC("unmount",(function(e,t){if("string"==typeof t.type){var n=t.__e;if(n){var i=n.U;if(i)for(var r in n.U=void 0,i){var a=i[r];a&&a.d()}}}else{var o=t.__c;if(o){var s=o.__$u;s&&(o.__$u=void 0,s.d())}}e(t)})),oC("__h",(function(e,t,n,i){(i<3||9===i)&&(t.__$f|=2),e(t,n,i)})),aL.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&void 0!==n.s||4&this.__$f)||3&this.__$f)return!0;for(var i in t)return!0;for(var r in e)if("__source"!==r&&e[r]!==this.props[r])return!0;for(var a in this.props)if(!(a in e))return!0;return!1};var of=class extends nB{setMutedSignal(e){this.mutedSignal.value=e}getMutedSignal(){return this.mutedSignal}isMuted(){return this.mutedSignal.value}mute(){this.setMutedSignal(!0)}unmute(){this.setMutedSignal(!1)}static getServiceIdentifier(){return"MuteServiceInterface"}constructor(){super(),this.mutedSignal=oc(!1)}},oN=(e=n8(),t=rh())=>{var n;let i=e.getMraid();t.getOperatingSystem()===r9.Windows&&(null==i||null===(n=i.useCustomClose)||void 0===n||n.call(i,!0))},oD=0;function oy(e,t,n,i,r,a){t||(t={});var o,s,l=t;if("ref"in l)for(s in l={},t)"ref"==s?o=t[s]:l[s]=t[s];var d={type:e,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--oD,__i:-1,__u:0,__source:r,__self:a};if("function"==typeof e&&(o=e.defaultProps))for(s in o)void 0===l[s]&&(l[s]=o[s]);return ad.vnode&&ad.vnode(d),d}var oR=(e=n8(),t=n7())=>{let n=e.getMraidBridgeExt();n&&(t.replacementTokens=n.getReplacementTokens())},oL=()=>{let e=nU.getInstance(),t=rx.getServiceIdentifier();return e.get(t)};class ow{setDefaultAttributes(){var e;let t={app_name:"View Master Loki",app_environment:"production"};this.tokenService.has(n9.SESSION_ID)&&(t.session_id=null!==(e=this.tokenService.get(n9.SESSION_ID))&&void 0!==e?e:""),this.defaultAttributes=t}getUrl(){return`${this.endpoint}/api/v1/push`}static getTimestampString(e){return""+1e6*(null!=e?e:new Date).getTime()}static formatAttributes(e,t){return`${Object.keys(e).map((t=>[t,e[t]])).map((([e,t])=>`${e}="${t}"`)).join(" ")} timestamp="${t.toJSON()}"`}getBody(e,t,n){var i,r,a,o;let s=ow.getTimestampString(n),l=ow.formatAttributes(t,n);return JSON.stringify({streams:[{stream:{app:null===(i=this.defaultAttributes)||void 0===i?void 0:i.app_name,kind:e,adSource:null!==(r=this.tokenService.get(n9.AD_SOURCE))&&void 0!==r?r:"",isIncentivized:rH(this.tokenService),placementType:this.placementTypeService.getPlacementType(),platform:this.environmentService.getOperatingSystem(),sdkVersion:this.environmentService.getSdkVersion().toString(),templateVersion:null!==(a=window.appVersion)&&void 0!==a?a:"0.0.0",nautilusVersion:null!==(o=this.tokenService.get(n9.NAUTILUS_VERSION))&&void 0!==o?o:"0.0.0"},values:[[s,l]]}]})}pushEvent(e,t,n){var i;console.log("pushEvent",e,t),null===(i=this.worker)||void 0===i||i.postMessage(this.getBody(at.EVENT,nx({name:e},this.defaultAttributes,t),null!=n?n:new Date))}pushError(e,t,n){var i,r,a;let o="",s="";"string"==typeof e?o=e:(s=null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:"",o=null!==(a=null==e?void 0:e.message)&&void 0!==a?a:""),null===(i=this.worker)||void 0===i||i.postMessage(this.getBody(at.ERROR,nx({message:o,stack:s},this.defaultAttributes,t),null!=n?n:new Date))}isObserved(){return rB(this.tokenService.get(n9.OBSERVABILITY))}startWorker(){let e=new Blob([`\n      let queue = [];\n\n      self.addEventListener('message', function(event) {\n        const message = event.data;\n        queue.push(message);\n      });\n\n      function sendMessages() {\n        if (queue.length > 0) {\n          const message = queue.shift();\n          fetch('${this.getUrl()}', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'X-Scope-OrgID': 'viewmaster',\n            },\n            body: message // message is already stringified\n          })\n          .then(function (response) {\n            if (!response.ok) {\n              throw new Error('Failed to send message');\n            }\n          })\n          .catch(function (error) {\n            console.error('Error sending message:', error);\n          })\n          .finally(function () {\n            sendMessages(); // Continue sending messages\n          });\n        } else {\n          setTimeout(sendMessages, 100); // Check for new messages every 100 milliseconds\n        }\n      }\n      sendMessages();\n    `],{type:"application/javascript"}),t=URL.createObjectURL(e);this.worker=new Worker(t)}constructor(e,t=n7(),n=rS(),i=rh()){this.endpoint=e,this.tokenService=t,this.placementTypeService=n,this.environmentService=i,this.setDefaultAttributes(),this.startWorker()}}var oP=()=>new ow("https://logging-gateway.vungle.io:32443/log/loki"),ob=(e=oL())=>{e.init(oP)};const oV="vungle.events.storeoverlay.failed.handler";(r=eD||(eD={})).OVERLAY_PREPARED="vungle.events.storeoverlay.success",r.OVERLAY_VISIBLE="vungle.events.storeoverlay.visible",r.OVERLAY_FINISHED="vungle.events.storeoverlay.finished",r.OVERLAY_FAILED="vungle.events.storeoverlay.failed",(a=ey||(ey={})).STORE_VIEW_PREPARED="vungle.events.preparestore.success",a.STORE_VIEW_CLOSED="vungle.events.preparestore.finished",(o=eR||(eR={})).VISIBLE="vungle.events.storekit.visible",o.FAILED="vungle.events.storekit.failed",o.FINISHED="vungle.events.storekit.finished";var oM=()=>document.querySelector("#dynamic");const ok=new rn("14"),oU=new rn("6.8.1"),oB=(e=rh())=>e.getOperatingSystem()===r9.iOS&&e.getOsVersion().isGreaterThanOrEqualTo(ok),oH=(e=rh())=>e.getSdkVersion().isGreaterThanOrEqualTo(oU);var ox=(e=rh(),t=rS())=>oB(e)&&oH(e)&&!(t.isMrec()||t.isBanner()||t.isInLine()),oW=(e=n7())=>{let t=e.get(n9.APP_STORE_ID);if(t)return t;let n=e.get(n9.CTA_BUTTON_URL),i=null==n?void 0:n.match(/\/id(\d+)/i);return(null==i?void 0:i[1])?i[1]:void 0};(s=eL||(eL={})).BOTTOM="bottom",s.BOTTOM_RAISED="bottom-raised";const oF=(e=n7())=>{let t=e.get(n9.SKOVERLAY_POSITION);switch(t){case"bottom":case"bottom-raised":return t;default:return}},oK=(e=n7())=>{var t,n;switch(null===(n=e.get(n9.SKOVERLAY_DISMISSIBLE))||void 0===n||null===(t=n.trim())||void 0===t?void 0:t.toLowerCase()){case"true":return!0;case"false":return!1;default:return}},oG=()=>({position:"bottom",dismissible:!0});var oY=(e=n7())=>{let t=oG(),n=oF(e);void 0!==n&&(t.position=n);let i=oK(e);return void 0!==i&&(t.dismissible=i),t};(l=ew||(ew={})).SKPV="SKPV",l.APP_STORE="APP_STORE",l.OFF="OFF",(d=eP||(eP={})).CLOSE="CLOSE",d.FINISH="FINISH",d.INTERRUPT="INTERRUPT",d.RESUME="RESUME",d.START_DELAY_SHOW="START_DELAY_SHOW",d.START_IMMEDIATE_SHOW="START_IMMEDIATE_SHOW",(c=eb||(eb={})).CLOSED="CLOSED",c.DELAY_SHOW="DELAY_SHOW",c.DELAYED_SKO_INTERRUPTED="DELAYED_SKO_INTERRUPTED",c.IDLE="IDLE",c.IMMEDIATE_SHOW="IMMEDIATE_SHOW",c.IMMEDIATE_SHOW_INTERRUPTED="IMMEDIATE_SHOW_INTERRUPTED",(u=eV||(eV={})).CLOSE_SKO="CLOSE_SKO",u.START_DELAY_PROCESSING="START_DELAY_PROCESSING",u.RESET_DELAY_SHOW_TIMER="RESET_DELAY_SHOW_TIMER",u.RESUME_INTERRUPTED_DELAYED_AUTO_SHOW="RESUME_INTERRUPTED_DELAYED_AUTO_SHOW",u.SET_CONTEXT="SKO_SET_CONTEXT",u.SHOW_SKO="SHOW_SKO";var oX=class extends nB{setStoreKitOverlayPrepared(e){this.storeKitOverlayPrepared=e}isStoreKitOverlayPrepared(){return this.storeKitOverlayPrepared}setStoreKitOverlayShowing(e){this.storeKitOverlayShowing=e}isStoreKitOverlayShowing(){return this.storeKitOverlayShowing}setOverlayPosition(e){this.displayOptions.position=e}setOverlayDismissible(e){this.displayOptions.dismissible=e}getFallback(){return this.fallback}setFallback(e){this.fallback=e}static getServiceIdentifier(){return"StoreKitOverlayServiceInterface"}constructor(e=oW(),t=rh(),n=n7(),i=!1,r=!1,a=oY(n),o=ew.SKPV){super(),this.appStoreId=e,this.environmentService=t,this.tokenService=n,this.storeKitOverlayPrepared=i,this.storeKitOverlayShowing=r,this.displayOptions=a,this.fallback=o}};const oj=(e,t=["name"],n=rL())=>n.getActivity().filter((n=>n.type===at.EVENT&&"observability"===n.eventType&&t.every((t=>{var i;return(null===(i=n.data)||void 0===i?void 0:i[t])===e[t]})))).length;var oz=(e,t=Number.MAX_SAFE_INTEGER,n=["name"],i=rL())=>{t!==Number.MAX_SAFE_INTEGER&&oj(e,n,i)>=t||i.emit({type:"observability",event:at.EVENT,data:e})},oq=class extends oX{isStoreKitOverlayPrepared(){return this.setStoreKitOverlayPrepared(!0),super.isStoreKitOverlayPrepared()}closeStoreKitOverlay(){var e,t;this.isStoreKitOverlayShowing()&&(null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.dismissStoreOverlayView)||void 0===e||e.call(t))}openStoreKitOverlay(e){var t,n;this.isStoreKitOverlayShowing()||(void 0!==e&&this.setFallback(e),oz({name:ai.STORE_KIT_OVERLAY}),null===(n=this.mraidService.getMraidExt())||void 0===n||null===(t=n.openAppStore)||void 0===t||t.call(n,1,this.displayOptions))}prepareStoreKitOverlay(){}constructor(e){super(),this.mraidService=e}},o$=class extends oX{closeStoreKitOverlay(){var e,t;this.isStoreKitOverlayShowing()&&this.appStoreId&&(null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.dismissStoreOverlayView)||void 0===e||e.call(t,this.appStoreId))}openStoreKitOverlay(){var e,t;!this.isStoreKitOverlayShowing()&&this.isStoreKitOverlayPrepared()&&this.appStoreId&&(oz({name:ai.STORE_KIT_OVERLAY}),null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.presentStoreOverlayView)||void 0===e||e.call(t,this.appStoreId,this.displayOptions))}prepareStoreKitOverlay(){var e,t;this.appStoreId&&(null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.prepareStoreOverlayView)||void 0===e||e.call(t,this.appStoreId,this.displayOptions))}constructor(e){super(),this.mraidService=e,this.prepareStoreKitOverlay()}};const oZ=new rn("5.0.0");var oQ=(e=rh())=>e.getMraidVersion().isGreaterThanOrEqualTo(oZ),oJ={resolve(){let e=n8();if(!e)throw new nM;return oQ()?new oq(e):new o$(e)}},o0=()=>{if(!ox())return;if(!oQ()){let e=rf(),t=oM();Object.values(eD).forEach((n=>{null==t||t.addEventListener(n,(()=>{e.emit({type:"storekit-mraid",event:n})}))}))}let e=nU.getInstance(),t=oJ.resolve();e.bind(oX.getServiceIdentifier(),t)},o1=()=>{let e=nU.getInstance(),t=n4.getServiceIdentifier();return e.get(t)},o2=()=>{let e=nU.getInstance(),t=nJ.getServiceIdentifier();return e.get(t)};(E=eM||(eM={})).RESOURCE="resource",E.EXCEPTION="exception",E.UNHANDLEDREJECTION="unhandledrejection",E.PLAYABLE="playable";var o3=eM,o5=()=>{let e=nU.getInstance(),t=sa.getServiceIdentifier();if(e.has(t))return e.get(t)},o6=()=>{let e=nU.getInstance(),t=oX.getServiceIdentifier();if(e.has(t))return e.get(t)};const o4="store-kit-overlay",o8={id:o4,initial:eb.IDLE,context:{enabled:!0,autoShowDelay:0,isAutoClose:!1,autoCloseDelay:0,openCallback:()=>{}},states:{[eb.IDLE]:{on:{[eP.START_DELAY_SHOW]:{target:eb.DELAY_SHOW,actions:[eV.SET_CONTEXT]},[eP.START_IMMEDIATE_SHOW]:{target:eb.IMMEDIATE_SHOW}}},[eb.DELAY_SHOW]:{entry:[eV.START_DELAY_PROCESSING],on:{[eP.CLOSE]:{target:eb.CLOSED,actions:[eV.CLOSE_SKO,eV.RESET_DELAY_SHOW_TIMER]},[eP.INTERRUPT]:{target:eb.DELAYED_SKO_INTERRUPTED,actions:[eV.CLOSE_SKO,eV.RESET_DELAY_SHOW_TIMER]},[eP.START_IMMEDIATE_SHOW]:{target:eb.IMMEDIATE_SHOW,cond:()=>{var e;return!(null===(e=o6())||void 0===e?void 0:e.isStoreKitOverlayShowing())}},[eP.FINISH]:eb.CLOSED}},[eb.IMMEDIATE_SHOW]:{entry:[eV.SHOW_SKO],on:{[eP.INTERRUPT]:{target:eb.IMMEDIATE_SHOW_INTERRUPTED,actions:eV.CLOSE_SKO},[eP.CLOSE]:{target:eb.CLOSED,actions:eV.CLOSE_SKO},[eP.START_DELAY_SHOW]:{target:eb.DELAY_SHOW,actions:[eV.SET_CONTEXT]},[eP.FINISH]:eb.CLOSED}},[eb.IMMEDIATE_SHOW_INTERRUPTED]:{on:{[eP.RESUME]:{target:eb.IMMEDIATE_SHOW},[eP.CLOSE]:{target:eb.CLOSED}}},[eb.DELAYED_SKO_INTERRUPTED]:{on:{[eP.RESUME]:{target:eb.DELAY_SHOW,actions:[eV.RESUME_INTERRUPTED_DELAYED_AUTO_SHOW]},[eP.CLOSE]:{target:eb.CLOSED}}},[eb.CLOSED]:{on:{[eP.START_DELAY_SHOW]:{target:eb.DELAY_SHOW,actions:[eV.SET_CONTEXT]},[eP.START_IMMEDIATE_SHOW]:{target:eb.IMMEDIATE_SHOW}}}}},o7={actions:{[eV.SHOW_SKO]:(e,t,n=o6())=>{null==n||n.openStoreKitOverlay(null==t?void 0:t.fallback)},[eV.CLOSE_SKO]:(e,t,n=o6())=>{null==n||n.closeStoreKitOverlay()},[eV.RESET_DELAY_SHOW_TIMER]:(e,t,n=o5())=>{null==n||n.reset()},[eV.SET_CONTEXT]:nQ(((e,t)=>nx({},e,t.config))),[eV.START_DELAY_PROCESSING]:(e,t,n=o5())=>{null==n||n.startAutoShow(e).catch((()=>{rV().emit({type:"error-logging",event:o3.EXCEPTION,data:{message:"SKO Auto Show Failed"}})}))},[eV.RESUME_INTERRUPTED_DELAYED_AUTO_SHOW]:nQ((e=>nW(nx({},e),{autoShowDelay:0,openCallback:()=>{}})))}},o9=(e=o2())=>{let t=e.machineMap.get(o4);return t?t.machine:e.createMachine(o8,o7)};var se=(e=o9(),t=o2())=>t.interpret(e),st=(e=n7())=>rB(e.get(n9.APPSFLYER_ENABLED));const si=(e,t,n)=>n.getActivity().filter((e=>"appsflyer"===e.eventType)).some((n=>{var i;return n.name===e&&(null===(i=n.data)||void 0===i?void 0:i.appsFlyerScene)===t}));var sn=(e,t,n=rO(),i=st())=>{if(!i||t&&si(e,t,n))return;let r={type:"appsflyer",event:e};t&&(r.data={appsFlyerScene:t}),n.emit(r)};(_=ek||(ek={})).CLICK_TO_APP="APPSFLYER_CLICK_TO_APP",_.ENGAGED_VIEW="APPSFLYER_ENGAGED_VIEW",_.ENGAGED_CLICK="APPSFLYER_ENGAGED_CLICK",(eU||(eU={})).WATCHING_VIDEO_MORE_THAN_10_SECONDS="WATCHING_VIDEO_MORE_THAN_10_SECONDS";var sr=ek,sa=class extends nB{initializeForComponent(e,t,n,i=o1()){0!==t&&(this.storeKitOverlayService.isStoreKitOverlayPrepared()?e(!0):i.getNewTimer(n,(()=>{this.initializeForComponent(e,t-1,n)})).start())}startAutoShow(e){var t;if(this.reset(),!e.enabled)return Promise.resolve();let n=this.timerService.getNewTimer(null!==(t=e.autoShowDelay)&&void 0!==t?t:5e3);return this.registerOpenTimer(n),(async()=>{let t;if(e.isAutoClose){var i;let n=null!==(i=e.autoCloseDelay)&&void 0!==i?i:5e3;t=this.timerService.getNewTimer(n,(()=>{this.storeKitOverlayInterpreter.send({type:eP.CLOSE})})),this.registerCloseTimer(t)}await n.asPromise().then((()=>{this.storeKitOverlayService.isStoreKitOverlayPrepared()&&(this.storeKitOverlayInterpreter.send({type:eP.START_IMMEDIATE_SHOW,fallback:ew.OFF}),t&&t.start(),e.openCallback&&e.openCallback(),sn(sr.ENGAGED_VIEW)),n.destroy()}))})()}registerCloseTimer(e){this.closeTimer&&this.closeTimer.destroy(),this.closeTimer=e}registerOpenTimer(e){this.openTimer&&this.openTimer.destroy(),this.openTimer=e}reset(){this.openTimer&&(this.openTimer.destroy(),this.openTimer=void 0),this.closeTimer&&(this.closeTimer.destroy(),this.closeTimer=void 0)}static getServiceIdentifier(){return"StoreKitOverlayAutoShowServiceInterface"}constructor(e,t=o1()){super(),this.storeKitOverlayService=e,this.timerService=t,this.storeKitOverlayInterpreter=se()}},so=()=>{if(!ox())return;let e=nU.getInstance(),t=o6();if(!t)return;let n=new sa(t);e.bind(sa.getServiceIdentifier(),n)},ss=(e=rh())=>e.getSdkVersion().isLessThan(new rn("7"))&&e.getOrientation()===ae.LANDSCAPE;(v=eB||(eB={})).CLOSE="CLOSE",v.OPEN="OPEN",v.PREPARE_FINISHED="PREPARE_FINISHED",v.PREPARE_SUCCESS="PREPARE_SUCCESS",v.READY="READY",v.SET_FALLBACK="SET_FALLBACK",(T=eH||(eH={})).FALLBACK="FALLBACK",T.HIDDEN="HIDDEN",T.INITIAL="INITIAL",T.PREPARING="PREPARING",T.SHOWING="SHOWING",T.DONE="DONE";var sl=class extends nB{isDone(){var e,t;return null!==(t=null===(e=this.interpreter)||void 0===e?void 0:e.state.matches(eH.DONE))&&void 0!==t&&t}canOpen(){var e,t,n;return null!==(n=(null===(e=this.interpreter)||void 0===e?void 0:e.state.matches(eH.HIDDEN))||(null===(t=this.interpreter)||void 0===t?void 0:t.state.matches(eH.FALLBACK)))&&void 0!==n&&n}close(){var e;null===(e=this.interpreter)||void 0===e||e.send({type:eB.CLOSE})}fallback(){}init(){}isOpen(){var e,t;return null!==(t=null===(e=this.interpreter)||void 0===e?void 0:e.state.matches(eH.SHOWING))&&void 0!==t&&t}open(e){var t;this.hasFallback=e,null===(t=this.interpreter)||void 0===t||t.send({type:eB.OPEN})}subscribe(e){var t;return null===(t=this.interpreter)||void 0===t?void 0:t.subscribe(e)}static getServiceIdentifier(){return"ProductViewServiceInterface"}constructor(e,t={},n=o2()){super(),this.machineConfig=e,this.machineOptions=t,this.stateMachineService=n;let i=this.stateMachineService.createMachine(this.machineConfig,this.machineOptions);this.interpreter=this.stateMachineService.interpret(i),this.interpreter.start()}},sd=()=>{let e=nU.getInstance(),t=sl.getServiceIdentifier();if(e.has(t))return e.get(t)},sc=class extends nB{fireStoreKitOverlayWithDelay(e){let t=o6();new n6(e,(()=>{(null==t?void 0:t.isStoreKitOverlayPrepared())&&(oz({name:ai.STORE_KIT_OVERLAY}),se().send({type:eP.START_IMMEDIATE_SHOW}))})).start()}openStoreViewWithDelay(e){if(ss()&&ox())return void this.fireStoreKitOverlayWithDelay(e);let t=o1().getNewTimer(e,(()=>{let e=sd();null==e||e.open(!1)}));t.start(),this.timer=t}reset(){var e;null===(e=this.timer)||void 0===e||e.destroy()}static getServiceIdentifier(){return"AppStoreOnDelayServiceInterface"}},su=()=>{let e=nU.getInstance(),t=new sc;e.bind(sc.getServiceIdentifier(),t)},sE=(e=rh(),t=rf(),n=oM())=>{e.getOperatingSystem()===r9.iOS&&Object.values(eR).forEach((e=>{null==n||n.addEventListener(e,(n=>{t.emit({type:"storekit-mraid",event:e,data:n.detail})}))}))};(h=ex||(ex={})).PAUSE="pause",h.PLAY="play",h.MUTE="mute",h.UNMUTE="unmute",h.PROGRESS="progress",h.ERROR="error",h.CLOSE="close",h.ENDED="ended",h.DURATION_CHANGE="durationchange",h.WAITING="waiting",h.SUSPEND="suspend",h.TIME_UPDATE="timeupdate";var s_=ex;(S=eW||(eW={})).CHECKPOINT_0="checkpoint.0",S.CHECKPOINT_100="checkpoint.100",S.CHECKPOINT_25="checkpoint.25",S.CHECKPOINT_50="checkpoint.50",S.CHECKPOINT_75="checkpoint.75",S.CLICK_URL="clickUrl",S.CLOSE_BUTTON_CLICK="closeButtonClick",S.DOWNLOAD_CTA_CLICK="download.ctaClick",S.DOWNLOAD_FULLSCREEN_CLICK="download.fullScreenClick",S.MUTE_BUTTON_CLICK="muteButtonClick",S.PLAYABLE_ENDCARD_CLICK="playableEndcardClick",S.POSTROLL_CLICK="postroll.click",S.POSTROLL_VIEW="postroll.view",S.PRIVACY_BUTTON_CLICK="privacyButtonClick",S.VIDEO_CLOSE="video.close",S.VIDEO_MUTE="video.mute",S.VIDEO_UNMUTE="video.unmute",S.ASOI_INTERACTION="download.ASOIInteraction",S.ASOI_COMPLETE="download.ASOIComplete",S.REWARD_GRANTED="rewardGranted";var sv=eW;(p=eF||(eF={})).PROGRESS="progress",p.VIDEO_LENGTH="videoLength",p.SUCCESSFUL_VIEW_AD="successfulViewAd",p.VIDEO_REACHED_DURATION="videoReachedDuration";var sT=eF,sh=(e,t=n7())=>{let n=Number(t.get(n9.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS));return!rB(t.get(n9.IS_INCENTIVE_TIED_TO_CLOSE_BUTTON_DELAY))||Number.isNaN(n)||n>e?.8*e:.8*n},sS=(e,t)=>0===t?0:t-e<=.5?4:Math.floor(e/t*4);(g=eK||(eK={})).ENDCARD="endcard",g.VIDEO_AND_ENDCARD="video_and_endcard";var sp=eK,sg=(e=n7())=>e.get(n9.CREATIVE_VIEW_TYPE)===sp.ENDCARD,sC=(e,t=!1,n)=>{let i=rm(),r={type:"tpat",event:e};t&&(r.fireOnlyOnce=!0),n&&(r.data=n),i.emit(r)};const sO=(e,t,n)=>{n8().getMraidBridgeExt()&&t>0&&e>0&&ry().emit({type:"videoViewed",event:sT.VIDEO_LENGTH,data:{currentTime:e,duration:t,seconds:n},fireOnlyOnce:!0})},sA=(e,t)=>{rH()&&!sg()&&e>=sh(t)&&ry().emit({type:"videoViewed",event:sT.SUCCESSFUL_VIEW_AD,fireOnlyOnce:!0})},sI=(e,t,n)=>{let i=sS(e,t),r=ry();4===i&&r.emit({type:"videoViewed",event:sT.VIDEO_REACHED_DURATION,data:{currentTime:e,duration:t,seconds:n},fireOnlyOnce:!0})},sm=(e,t,n)=>{let i=ry();i.getActivity().some((e=>e.name===sT.PROGRESS&&e.data.seconds>=n))||i.emit({type:"videoViewed",event:sT.PROGRESS,data:{currentTime:e,duration:t,seconds:n}}),sO(e,t,n),sA(e,t),sI(e,t,n)};var sf=(e,t,n=rV(),i=n8())=>{var r,a,o,s;let l=i.getMraidBridgeExt();if(!l)return;let d=Math.floor(1e3*(null!==(o=null===(r=t.data)||void 0===r?void 0:r.currentTime)&&void 0!==o?o:0)),c=Math.floor(1e3*(null!==(s=null===(a=t.data)||void 0===a?void 0:a.duration)&&void 0!==s?s:0)),u=n.getActivity().some((e=>{var t;return(null==e||null===(t=e.data)||void 0===t?void 0:t.name)===ai.FORFEIT_REWARD}));switch(t.event){case sT.PROGRESS:l.notifyEventValuePairEvent("videoViewed",d);break;case sT.VIDEO_REACHED_DURATION:l.notifyEventValuePairEvent("videoViewed",c);break;case sT.VIDEO_LENGTH:l.notifyEventValuePairEvent("videoLength",c);break;case sT.SUCCESSFUL_VIEW_AD:u||(oz({name:ai.GRANT_REWARD}),l.notifySuccessfulViewAd(),sC(sv.REWARD_GRANTED,!0))}},sN=(e,t)=>{switch(t.event){case s_.PROGRESS:sm(t.data.currentTime,t.data.duration,Math.round(t.data.currentTime));break;case s_.MUTE:case s_.UNMUTE:sC(sv.MUTE_BUTTON_CLICK),sC(t.event===s_.MUTE?sv.VIDEO_MUTE:sv.VIDEO_UNMUTE);break;case s_.CLOSE:{var n;sC(sv.VIDEO_CLOSE);let e=null===(n=t.data)||void 0===n?void 0:n.maximumViewingTime;oz({name:ai.VIDEO_CLOSE,maximumViewingTime:e})}}};const sD=[sv.CLOSE_BUTTON_CLICK,sv.DOWNLOAD_CTA_CLICK,sv.DOWNLOAD_FULLSCREEN_CLICK,sv.MUTE_BUTTON_CLICK,sv.PRIVACY_BUTTON_CLICK,sv.PLAYABLE_ENDCARD_CLICK,sv.REWARD_GRANTED];var sy=(e,t)=>{let n=n8().getMraidBridgeExt();if(sD.includes(t.event)){let e=rh(),i=e.getOperatingSystem();(i===r9.iOS||i===r9.Android&&e.getSdkVersion().isGreaterThanOrEqualTo(new rn("7"))||i===r9.Android&&e.getSdkVersion().isGreaterThanOrEqualTo(new rn("6.12.0"))&&t.event===sv.REWARD_GRANTED)&&(null==n||n.notifyTPAT(t.event))}else null==n||n.notifyTPAT(t.event)};(C=eG||(eG={})).MINIMIZED="minimized",C.MAXIMIZED="maximized";var sR=eG,sL=()=>{let e=nU.getInstance(),t=n5.getServiceIdentifier();return e.get(t)};(O=eY||(eY={})).LANDSCAPE="landscape",O.PORTRAIT="portrait",O.UNKNOWN="unknown",(A=eX||(eX={})).LOAD_FAIL="LOAD_FAIL",A.PLAY="PLAY",A.CAN_PLAY="CAN_PLAY",A.AUTO_PLAY_FAIL="AUTO_PLAY_FAIL",A.PAUSE="PAUSE",A.END="END",A.TIME_UPDATE="TIME_UPDATE",A.CLOSE="CLOSE",A.DURATION_CHANGE="DURATION_CHANGE",A.WAITING="WAITING",A.SUSPEND="SUSPEND",A.RETRY="RETRY",A.MAXIMIZE="MAXIMIZE",A.MINIMIZE="MINIMIZE",A.RESET_CLOSE="RESET_CLOSE",(I=ej||(ej={})).LOADING="LOADING",I.LOAD_FAIL_RETRY="LOAD_FAIL_RETRY",I.PLAYING="PLAYING",I.PAUSED="PAUSED",I.AUTO_PLAY_FAIL="AUTO_PLAY_FAIL",I.ENDED="ENDED",(m=ez||(ez={})).UPDATE_PROGRESS="updateProgress",m.EMIT_PROGRESS="emitProgress",m.EMIT_LOAD="emitLoad",m.EMIT_PLAY="emitPlay",m.EMIT_PAUSE="emitPause",m.EMIT_CLOSE="emitClose",m.EMIT_CLOSE_FULLY_PLAYED="emitCloseFullyPlayed",m.INCREMENT_LOOP_COUNT="incrementLoopCount",m.REPORT_VIDEO_START="reportVideoStart",m.SET_CAN_PLAY="setCanPlay",m.CHECK_SUCCESS_FULL_VIEW_AD_REACHED="checkSuccessFulViewAdReached",m.EMIT_DURATION_CHANGE="emitDurationChange",m.EMIT_TIME_UPDATE="emitTimeUpdate",m.EMIT_WAITING="emitWaiting",m.EMIT_SUSPEND="emitSuspend",m.UPDATE_CURRENT_TIME="updateCurrentTime",m.RESET_CURRENT_TIME="resetCurrentTime",m.RESET_CONTEXT="resetContext",m.EMIT_CHECKPOINT_TPAT_EVENT="emitCheckpointTpatEvent",m.EMIT_SCENE_EVENT="emitSceneEvent",m.EMIT_PLAYBACK_ENGAGED_VIEW="emitPlaybackEngagedView";var sw="video",sP=e=>(null!=e?e:o2()).interpreterMap.get(sw);const sb=(e,t=rL())=>t.getActivity().some((t=>{var n;return t.name===at.SIGNAL_EVENT&&"observability"===t.eventType&&(null===(n=t.data)||void 0===n?void 0:n.name)===e.name}));var sV=(e,t=!0,n=rL())=>{t&&sb(e,n)||n.emit({type:"observability",event:at.SIGNAL_EVENT,data:e})};const sM=new rn("6.4"),sk=new rn("6"),sU=(e=rh())=>e.getSdkVersion().isGreaterThanOrEqualTo(sM),sB=(e=rh())=>e.getOperatingSystem()===r9.iOS&&e.getOsVersion().isGreaterThanOrEqualTo(sk);var sH=(e=rh())=>sU(e)&&sB(e),sx=()=>!!sH()&&rB(n7().get(n9.APP_STORE_ON_FIRST_TRANSITION)),sW=(e,t)=>{let n=o1(),i=sL(),r=sP();if(t.event===sR.MINIMIZED)n.standby(),i.pauseAll();else if(t.event===sR.MAXIMIZED){if(null==r?void 0:r.state.matches(ej.AUTO_PLAY_FAIL))return;n.wake(),i.startAll(),oz({name:ai.APP_STORE_CLOSE}),sV({name:ai.APP_STORE_CLOSE},!1),sx()&&oz({name:ai.APP_STORE_ON_FIRST_TRANSITION_COMPLETE})}};(f=eq||(eq={})).START="start",f.STOP="stop";var sF=eq;let sK=null;var sG=(e,t,n=n8())=>{if(t.event===sF.START){let t=n.getMraidBridgeExt();t&&(sK=window.setInterval((()=>{t.creativeHeartbeat(),e.getLogger("heartbeat").info("Heartbeat")}),4e3))}else t.event===sF.STOP&&sK&&window.clearInterval(sK)},sY=()=>{var e;return null!==(e=n7().get(n9.CTA_BUTTON_URL))&&void 0!==e?e:""};(N=e$||(e$={}))[N.PRODUCT_VIEW_MODE=0]="PRODUCT_VIEW_MODE",N[N.OVERLAY_MODE=1]="OVERLAY_MODE";const sX=e=>{if(0===e){if(ox()){let e=o6();(null==e?void 0:e.isStoreKitOverlayShowing())&&se().send({type:eP.CLOSE})}}else if(1===e){let e=o6();null==e||e.setStoreKitOverlayShowing(!0)}},sj=e=>{var t;if(0===e)null===(t=sd())||void 0===t||t.close();else if(1===e){let e=o6();null==e||e.setStoreKitOverlayShowing(!1);let t=se().state.value;t!==eb.DELAYED_SKO_INTERRUPTED&&t!==eb.IMMEDIATE_SHOW_INTERRUPTED&&se().send({type:eP.FINISH})}},sz=e=>{let t=sd();if(0===e)null==t||t.fallback();else if(1===e){se().send({type:eP.FINISH});let e=o6(),i=null==e?void 0:e.getFallback();if(i===ew.SKPV&&sH())null==t||t.open();else if(i===ew.APP_STORE){var n;let e=sY();e&&(null===(n=n8().getMraid())||void 0===n||n.open(e))}}};var sq=(e,t)=>{var n;if(!Object.values(eR).includes(t.event))return;let i=null===(n=t.data)||void 0===n?void 0:n.mode;switch(t.event){case eR.VISIBLE:sX(i);break;case eR.FINISHED:sj(i);break;case eR.FAILED:sz(i)}},s$=()=>rV(),sZ=(e,t=rV())=>{let n,i,r=t.getActivity(),a=r.filter((e=>"event"===e.type&&"viewability"===e.eventType)),o=r.filter((e=>"event"===e.type&&"observability"===e.eventType)),s=[];a.forEach((e=>{e.name===sR.MINIMIZED?n=e:e.name===sR.MAXIMIZED&&n&&(s.push([n,e]),n=null)}));let l=0;s.forEach((e=>{l+=e[1].timestamp-e[0].timestamp}));let d=[];o.forEach((e=>{var t,n;(null===(t=e.data)||void 0===t?void 0:t.name)===ai.APP_STORE_OPEN?i=e:(null===(n=e.data)||void 0===n?void 0:n.name)===ai.APP_STORE_CLOSE&&i&&(d.push([i,e]),i=null)}));let c=0;return d.forEach((e=>{c+=e[1].timestamp-e[0].timestamp})),Date.now()-e-l+c},sQ=(e=n8(),t=o1(),n=s$(),i=nU.getInstance().startTimestamp)=>{var r;n.emit({type:"heartbeat",event:sF.STOP}),oz({name:ai.AD_CLOSE,ad_duration:sZ(i,n)},void 0,void 0,n),t.destroyAll(),null===(r=e.getMraid())||void 0===r||r.close()},sJ=(e,t)=>{var n;["Cannot resolve token to an initial state.",nZ].includes(null===(n=t.data.error)||void 0===n?void 0:n.message)&&sQ()},s0="product-view";const s1=(e,t)=>e.interpreterMap.get(t);var s2=(e=o2(),t=s0)=>s1(e,t),s3=(e,t)=>{sH()&&Object.values(ey).includes(t.event)&&{[ey.STORE_VIEW_PREPARED]:()=>{var e;null===(e=s2())||void 0===e||e.send({type:eB.PREPARE_SUCCESS})},[ey.STORE_VIEW_CLOSED]:()=>{var e;null===(e=s2())||void 0===e||e.send({type:eB.CLOSE})}}[t.event]()},s5=(e,t)=>{var n;if(!ox())return;let i=o6();null===(n={[eD.OVERLAY_PREPARED]:()=>{null==i||i.setStoreKitOverlayPrepared(!0)},[eD.OVERLAY_FINISHED]:()=>{null==i||i.setStoreKitOverlayShowing(!1),null==i||i.setStoreKitOverlayPrepared(!1),null==i||i.prepareStoreKitOverlay();let e=se().state.value;e!==eb.DELAYED_SKO_INTERRUPTED&&e!==eb.IMMEDIATE_SHOW_INTERRUPTED&&se().send({type:eP.FINISH})},[eD.OVERLAY_FAILED]:()=>{var e;let t=nU.getInstance();t.has(oV)&&(null===(e=t.get(oV))||void 0===e||e.call(void 0))},[eD.OVERLAY_VISIBLE]:()=>{null==i||i.setStoreKitOverlayShowing(!0)}}[t.event])||void 0===n||n.call(void 0)};(eZ||(eZ={})).CLOSE="vungle.events.request.close";var s6=eZ;(D=eQ||(eQ={})).CLOSE_BUTTON_MOUNT="CLOSE_BUTTON_MOUNT",D.CLOSE_BUTTON_UNMOUNT="CLOSE_BUTTON_UNMOUNT",D.CLOSE_BUTTON_CLICK="CLOSE_BUTTON_CLICK",D.CLOSE_BUTTON_WILL_SHOW="CLOSE_BUTTON_WILL_SHOW",D.COMPLETE="COMPLETE",D.LAST_CHANCE_ENDCARD="LAST_CHANCE_ENDCARD",D.LAST_CHANCE_ENDCARD_CLOSE="LAST_CHANCE_ENDCARD_CLOSE",D.MUTE="MUTE",D.NEXT="NEXT",D.PRIVACY_LOGO_SHOW="PRIVACY_LOGO_SHOW",D.PRIVACY_LOGO_HIDE="PRIVACY_LOGO_HIDE",D.PRIVACY_BOTTOM_DRAWER_OPEN="PRIVACY_BOTTOM_DRAWER_OPEN",D.PRIVACY_BOTTOM_DRAWER_CLOSE="PRIVACY_BOTTOM_DRAWER_CLOSE",D.PRODUCT_VIEW_CLOSE="PRODUCT_VIEW_CLOSE",D.OPEN_PRIVACY_PAGE="OPEN_PRIVACY_PAGE",D.UNMUTE="UNMUTE",D.VIDEO_ERROR="VIDEO_ERROR",D.VIDEO_FAILURE="VIDEO_FAILURE",D.CLOSE="CLOSE",D.CREATIVE_VIEW="CREATIVE_VIEW",(y=eJ||(eJ={})).SHOWING="SHOWING",y.HIDDEN="HIDDEN",(R=e0||(e0={})).SHOW="SHOW",R.HIDE="HIDE",R.CLOSE="CLOSE",(L=e1||(e1={})).PAUSE_INTERVALS="pauseAllIntervals",L.START_INTERVALS="startAllIntervals";var s4=e=>({pauseAllIntervals:()=>{(e||sL()).pauseAll()},startAllIntervals:()=>{(e||sL()).startAll()}});(w=e2||(e2={})).STANDBY_TIMERS="standbyTimers",w.WAKE_TIMERS="wakeTimers";var s8=e=>({standbyTimers:()=>{(e||o1()).standby()},wakeTimers:()=>{(e||o1()).wake()}});(P=e3||(e3={})).PAUSE_VIDEO="pauseVideo",P.PLAY_VIDEO="playVideo",P.FORFEIT_REWARD="forfeitReward";const s7="incentivized-dialog",s9=()=>({id:s7,initial:eJ.HIDDEN,context:{},states:{[eJ.HIDDEN]:{on:{[e0.SHOW]:{target:eJ.SHOWING,actions:[e3.PAUSE_VIDEO,e1.PAUSE_INTERVALS,e2.STANDBY_TIMERS]}}},[eJ.SHOWING]:{on:{[e0.HIDE]:{target:eJ.HIDDEN,actions:[e3.PLAY_VIDEO,e1.START_INTERVALS,e2.WAKE_TIMERS]},[e0.CLOSE]:{target:eJ.HIDDEN,actions:[e3.FORFEIT_REWARD,e1.START_INTERVALS,e2.WAKE_TIMERS]}}}}}),le={actions:nx({},s8(),{pauseVideo:()=>{let e=sP();null==e||e.send({type:eX.PAUSE})},playVideo:()=>{let e=sP();null==e||e.send({type:eX.PLAY})},forfeitReward:()=>{oz({name:ai.FORFEIT_REWARD})}},s4())};var lt=e=>(null!=e?e:o2()).interpreterMap.get(s7);const li={V4_9_0:new rn("4.9.0"),V4_9_3:new rn("4.9.3"),V5_0_0:new rn("5.0.0"),V5_0_1:new rn("5.0.1"),V5_1_2:new rn("5.1.2"),V5_2_1:new rn("5.2.1")};(b=e5||(e5={})).EMIT_PRIVACY_TPAT="emitPrivacyTpat",b.OPEN_PRIVACY_URL="openPrivacyUrl",b.SET_PRIVACY_BUTTON_VISIBLE="setPrivacyButtonVisible",b.SET_PRIVACY_BUTTON_HIDDEN="setPrivacyButtonHidden",b.SET_PRIVACY_DRAWER_OPEN="setPrivacyDrawerOpen",b.SET_PRIVACY_DRAWER_CLOSED="setPrivacyDrawerClosed";var ln=()=>({emitPrivacyTpat:()=>{sC(sv.PRIVACY_BUTTON_CLICK)},setPrivacyButtonVisible:nQ({isPrivacyButtonVisible:!0}),setPrivacyButtonHidden:nQ({isPrivacyButtonVisible:!1}),openPrivacyUrl:()=>{var e,t;let n=rh(),i=n7(),r=n.getOperatingSystem(),a=r===r9.Android||r===r9.iOS&&n.getMraidVersion().isGreaterThanOrEqualTo(li.V5_0_0),o=i.get(n9.VUNGLE_PRIVACY_URL);oz({name:ai.PRIVACY_CTA});let s=n8();a?null===(e=s.getMraidBridgeExt())||void 0===e||e.openPrivacy(o):null===(t=s.getMraid())||void 0===t||t.open(o)},setPrivacyDrawerOpen:nQ({isPrivacyDrawerOpen:!0}),setPrivacyDrawerClosed:nQ({isPrivacyDrawerOpen:!1})});const lr=(e=rU())=>({scene_id:e.getId(),scene_type:e.getSceneType()}),la=()=>{var e;let t=null===(e=rU())||void 0===e?void 0:e.prev;return t?lr(t):void 0};var lo=lr;const ls="close-or-skip-button",ll="privacy-drawer",ld="privacy-popup",lc="privacy-popup-mask",lu="shield-icon",lE=(e,t,n)=>rV().getActivity().filter((i=>{var r,a,o,s;return i.type===at.EVENT&&"observability"===i.eventType&&(null===(r=i.data)||void 0===r?void 0:r.name)===ai.NEAR_CLOSE_BUTTON_CLICK&&(null===(a=i.data)||void 0===a?void 0:a.scene_type)===t&&(null===(o=i.data)||void 0===o?void 0:o.scene_id)===e&&(null===(s=i.data)||void 0===s?void 0:s.close_button_visible)===n})),l_=e=>{let t=document.querySelector(`#${ls}`);if(null===t)return!1;let{clientX:n,clientY:i}=e,{top:r,right:a,bottom:o,left:s}=t.getBoundingClientRect();return(n<s&&n>=s-30||n>a&&n<=a+30)&&i>=r-30&&i<=o+30||(i<r&&i>=r-30||i>o&&i<=o+30)&&n>=s-30&&n<=a+30},lv=e=>{let t=window.innerWidth-75,n=75;return e.clientX>=t&&e.clientY<=n},lT=(e,t,n,i)=>{l_(e)&&i({name:ai.NEAR_CLOSE_BUTTON_CLICK,close_button_visible:!0,coordinate:e,scene_id:n,scene_type:t})},lh=(e,t,n,i)=>{lv(e)&&i({name:ai.NEAR_CLOSE_BUTTON_CLICK,close_button_visible:!1,coordinate:e,scene_id:n,scene_type:t})},lS=(e,t=rU().getSceneType(),n=rU().getId(),i=oz)=>{if(void 0===e)return;let r={clientX:"touches"in e?e.touches[0].clientX:e.clientX,clientY:"touches"in e?e.touches[0].clientY:e.clientY};null===document.querySelector(`#${ls}`)?lh(r,t,n,i):lT(r,t,n,i)};var lp=(e,t)=>{let n=lE(e,t,!1),i=lE(e,t,!0),r=n.map((e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.coordinate})).map((e=>({x:e.clientX,y:e.clientY}))),a=i.map((e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.coordinate})).map((e=>({x:e.clientX,y:e.clientY})));oz({name:ai.NEAR_CLOSE_BUTTON_CLICK_COUNT,scene_id:e,scene_type:t,before_close_button_appears:n.length,after_close_button_appears:i.length,coordinates:r.concat(a)})};const lg=e=>rV().getActivity().filter((t=>{var n,i;return t.type===at.EVENT&&"observability"===t.eventType&&(null===(n=t.data)||void 0===n?void 0:n.name)===ai.CLICK_OCCURRED&&(null===(i=t.data)||void 0===i?void 0:i.scene_id)===e})).length,lC=e=>rV().getActivity().filter((t=>{var n;return t.type===at.EVENT&&"error-logging"===t.eventType&&t.name===o3.PLAYABLE&&(null===(n=t.data)||void 0===n?void 0:n.scene_id)===e})).length,lO=(e,t)=>{var n,i,r,a,o;return{near_click_count_after_close_button_appears:null===(n=t.getPendingEventData(ai.NEAR_CLOSE_BUTTON_CLICK_COUNT,e))||void 0===n?void 0:n.after_close_button_appears,near_click_count_before_close_button_appears:null===(i=t.getPendingEventData(ai.NEAR_CLOSE_BUTTON_CLICK_COUNT,e))||void 0===i?void 0:i.before_close_button_appears,near_close_button_clicks:null===(r=t.getPendingEventData(ai.NEAR_CLOSE_BUTTON_CLICK_COUNT,e))||void 0===r?void 0:r.coordinates,close_button_idle_time:null===(a=t.getPendingEventData(ai.CLOSE_BUTTON_VISIBLE,e))||void 0===a?void 0:a.duration,interaction_after_close_button_visible:!!(null===(o=t.getPendingEventData(ai.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE,e))||void 0===o?void 0:o.value)}},lA=(e,t,n,i)=>{var r,a,o;n(nW(nx({name:ai.VIDEO_SCENE_END,scene_id:e,scene_type:t},lO(e,i)),{first_click_after_video_play:null===(r=i.getPendingEventData(ai.FIRST_INTERACTION_AFTER_VIDEO_PLAY_DURATION))||void 0===r?void 0:r.duration,video_load_duration:null===(a=i.getPendingEventData(ai.VIDEO_START_DELAY))||void 0===a?void 0:a.duration,persistent_cta_duration:null===(o=i.getPendingEventData(ai.PERSISTENT_CTA_BUTTON_DURATION))||void 0===o?void 0:o.duration,video_click_count:lg(e)}),1,["name","scene_id"])},lI=(e,t,n,i)=>{var r,a,o;n(nW(nx({name:ai.ENDCARD_SCENE_END,scene_id:e,scene_type:t},lO(e,i)),{endcard_duration:null===(r=i.getPendingEventData(ai.ENDCARD_DURATION,e))||void 0===r?void 0:r.duration,endcard_load_duration:null===(a=i.getPendingEventData(ai.ENDCARD_LOAD_DURATION,e))||void 0===a?void 0:a.duration,endcard_click_count:lg(e),endcard_error_count:lC(e),endcard_first_click:null===(o=i.getPendingEventData(ai.ENDCARD_FIRST_CLICK_DURATION,e))||void 0===o?void 0:o.duration}),1,["name","scene_id"])},lm=(e=oz,t=oL())=>{var n;let i=ar.lastChanceEndcard,r=ar.lastChanceEndcard;e(nW(nx({name:ai.LAST_CHANCE_ENDCARD_END,scene_id:i,scene_type:r},lO(i,t)),{last_chance_endcard_clicked:0!==lg(i),last_chance_endcard_cta_button_duration:null===(n=t.getPendingEventData(ai.LAST_CHANCE_ENDCARD_CTA_BUTTON_DURATION))||void 0===n?void 0:n.duration}),1,["name","scene_id"])};var lf=(e,t,n=oz,i=oL())=>{t===aa.video&&lA(e,t,n,i),(t===aa.endcard||t===aa.adaptiveCreativeEndcard)&&lI(e,t,n,i),t===ar.lastChanceEndcard&&lm(n,i)},lN=(e,t)=>{lp(e,t),(t===aa.endcard||t===aa.adaptiveCreativeEndcard)&&oz({name:ai.ENDCARD_CLOSE,scene_id:e},1,["name","scene_id"]);let n=new Map([[aa.video,ai.VIDEO_CLOSE_BUTTON_CLICK],[aa.endcard,ai.ENDCARD_CLOSE_BUTTON_CLICK],[aa.adaptiveCreativeEndcard,ai.ENDCARD_CLOSE_BUTTON_CLICK]]);n.set(ar.lastChanceEndcard,ai.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_CLICK),n.has(t)&&oz({name:n.get(t),scene_id:e},1,["name","scene_id"]),lf(e,t)},lD=()=>{let e=nU.getInstance(),t=of.getServiceIdentifier();return e.get(t)};(V=e6||(e6={})).MUTE_SOUND="muteSound",V.UN_MUTE_SOUND="unMuteSound",V.EMIT_MUTED="emitMuted",V.EMIT_VIDEO_ERROR="emitVideoError",V.CLOSE_VIDEO="closeVideo",V.CLOSE_VIDEO_CURRENT_SCENE="closeVideoCurrentScene",V.PAUSE_VIDEO="pauseVideo",V.PLAY_VIDEO="playVideo",V.POSTROLL_VIEW="postrollView",V.SEND_EVENT_VIDEO_SKIP_TO_NEXT_SCENE="sendEventVideoSkipToNextScene";var ly=()=>({muteSound:()=>{lD().mute()},unMuteSound:()=>{lD().unmute()},emitMuted:()=>{let e=rN(),t=lD();e.emit({type:"video",event:t.isMuted()?s_.MUTE:s_.UNMUTE})},emitVideoError:(e,t)=>{rN().emit({type:"video",event:s_.ERROR,data:t});let n=cm();null==n||n.send({type:eQ.VIDEO_FAILURE})},closeVideo:()=>{let e=sP();null==e||e.send({type:eX.CLOSE});let t=la();t&&lN(t.scene_id,t.scene_type)},closeVideoCurrentScene:()=>{let e=sP();null==e||e.send({type:eX.CLOSE});let t=lo();t&&lN(t.scene_id,t.scene_type)},pauseVideo:()=>{let e=sP();null==e||e.send({type:eX.PAUSE})},playVideo:()=>{let e=sP();null==e||e.send({type:eX.PLAY})},postrollView:()=>{sC(sv.POSTROLL_VIEW,!0)},sendEventVideoSkipToNextScene:()=>{oz({name:ai.VIDEO_SKIP_TO_ENDCARD})}});(M=e4||(e4={}))[M.CLOSE=0]="CLOSE",M[M.SKIP=1]="SKIP",(k=e8||(e8={})).SET_CLOSE_BUTTON_VISIBLE="setCloseButtonVisible",k.EMIT_CLOSE_BUTTON_SHOW="emitCloseButtonShow",k.EMIT_CLOSE_BUTTON_CLICK="emitCloseButtonClick",k.SET_CLOSE_BUTTON_HIDDEN="setCloseButtonHidden";var lR=e4;(U=e7||(e7={})).SHOW="SHOW",U.HIDE="HIDE",(B=e9||(e9={})).SHOWING="SHOWING",B.HIDDEN="HIDDEN",(te||(te={})).ON_LAST_CHANCE_ENDCARD_START="onLastChanceEndcardStart";const lL="last-chance-endcard",lw=e=>({id:null!=e?`${lL}-${e}`:lL,initial:e9.HIDDEN,context:{delay:0},states:{[e9.SHOWING]:{on:{[e7.HIDE]:{target:e9.HIDDEN}}},[e9.HIDDEN]:{on:{[e7.SHOW]:{target:e9.SHOWING,actions:[te.ON_LAST_CHANCE_ENDCARD_START]}}}}}),lP={actions:{[te.ON_LAST_CHANCE_ENDCARD_START]:()=>{oz({name:ai.LAST_CHANCE_ENDCARD_START})}}};var lb=(e,t)=>{let n=null!=t?t:o2(),i=null!=e?`${lL}-${e}`:lL;return n.interpreterMap.get(i)},lV=(e=lo,t=lb)=>{let n=t(e().scene_id);return null==n?void 0:n.state.matches(e9.SHOWING)},lM=(e=lo,t=lV)=>{let n=e();return{sceneId:t()?ar.lastChanceEndcard:n.scene_id,sceneType:t()?ar.lastChanceEndcard:n.scene_type}},lk=(e=lM)=>({[e8.EMIT_CLOSE_BUTTON_SHOW]:()=>{sn(sr.ENGAGED_VIEW);let{sceneId:t,sceneType:n}=e(),i=new Map([[aa.video,ai.VIDEO_CLOSE_BUTTON_SHOW],[aa.endcard,ai.ENDCARD_CLOSE_BUTTON_SHOW],[aa.adaptiveCreativeEndcard,ai.ENDCARD_CLOSE_BUTTON_SHOW]]);i.set(ar.lastChanceEndcard,ai.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_SHOW),i.has(n)&&oz({name:i.get(n),scene_type:n,scene_id:t},1,["name","scene_id"])},[e8.EMIT_CLOSE_BUTTON_CLICK]:()=>{let{sceneId:t,sceneType:n}=e();lN(t,n)},[e8.SET_CLOSE_BUTTON_VISIBLE]:nQ({isCloseButtonVisible:!0}),[e8.SET_CLOSE_BUTTON_HIDDEN]:nQ({isCloseButtonVisible:!1})});const lU=[{currentTime:.1,timeout:0},{currentTime:2,timeout:2e3},{currentTime:3,timeout:1e3},{currentTime:4,timeout:1e3},{currentTime:5,timeout:1e3}],lB=(e,t)=>[sv.CHECKPOINT_0,sv.CHECKPOINT_25,sv.CHECKPOINT_50,sv.CHECKPOINT_75,sv.CHECKPOINT_100][Math.floor(e/t*4)],lH=(e,t=o1())=>{let n=lU[e],i=lU.length-1;t.getNewTimer(n.timeout,(()=>{sC(lB(n.currentTime,5),!0,{currentTime:n.currentTime,endcardDuration:5}),sm(n.currentTime,5,Math.round(n.currentTime)),e!==i&&lH(e+1)})).start()};var lx=()=>"true"===n7().get(n9.OM_ENABLED);(tt||(tt={})).REMOVE_HANDLER="REMOVE_HANDLER";var lW=()=>{try{return window.OmidSessionClient.default}catch(e){return}},lF=class{init(e,t){var n,i;if(this.sessionClient=lW(),!this.sessionClient)return;let{AdSession:r,Partner:a,Context:o,VerificationScriptResource:s,AdEvents:l,MediaEvents:d}=this.sessionClient;if(t){let e=new s(t.vendorURL,t.vendorKey,t.params);this.verificationScriptResources=[e]}let c=rh().getSdkVersion().toString();this.partner=new a(this.vungleData.partnerName,c||this.vungleData.partnerVersion),this.context=new o(this.partner,this.verificationScriptResources),void 0!==e&&(null===(n=this.context)||void 0===n||n.setVideoElement(e)),this.adSession=new r(this.context),(null===(i=this.adSession)||void 0===i?void 0:i.isSupported)&&this.adSession.isSupported()&&(this.adEvents=new l(this.adSession),this.mediaEvents=new d(this.adSession))}eventDrain(){this.funcsOnImpression.forEach((e=>{e()})),this.funcsOnImpression=[]}pushOrCallFunction(e){this.hasSessionStarted?e():this.funcsOnImpression.push(e)}onCtaClick(){this.pushOrCallFunction((()=>{var e;null===(e=this.mediaEvents)||void 0===e||e.adUserInteraction("click")}))}constructor(){this.vungleData={partnerName:"Vungle",partnerVersion:"1.0"},this.hasSessionStartRequested=!1,this.initialized=!1,this.hasSessionStarted=!1,this.funcsOnImpression=[]}};(H=ti||(ti={})).HTML_DISPLAY="htmlDisplay",H.VIDEO="video";var lK=ti;(tn||(tn={})).LOADED="loaded";var lG=tn;(x=tr||(tr={})).SESSION_START="sessionStart",x.SESSION_ERROR="sessionError",x.SESSION_FINISH="sessionFinish";var lY=tr,lX=class extends lF{init(){if(!this.initialized)try{var e,t,n;this.initialized=!0,super.init(),null===(e=this.adSession)||void 0===e||e.setCreativeType(lK.HTML_DISPLAY),null===(t=this.adSession)||void 0===t||t.setImpressionType(lG.LOADED),null===(n=this.adSession)||void 0===n||n.registerSessionObserver(this.onSessionChange.bind(this))}catch(e){rV().emit({type:"error-logging",event:o3.EXCEPTION,data:{error:{message:"Unable to init omsdk banner and mrec"}}})}}onSessionStarted(){var e,t;this.hasSessionStartRequested&&this.initialized&&!this.hasSessionStarted&&(null===(e=this.adEvents)||void 0===e||e.impressionOccurred(),this.hasSessionStarted=!0,null===(t=this.adEvents)||void 0===t||t.loaded(null),this.eventDrain())}onSessionChange(e){if(e.type===lY.SESSION_START)return this.hasSessionStartRequested=!0,void this.onSessionStarted();e.type===lY.SESSION_FINISH&&rV().emit({type:"cta",event:tt.REMOVE_HANDLER})}static getServiceIdentifier(){return"OmsdkHtmlDisplayServiceInterface"}constructor(){super(),this.init()}},lj=()=>{if(lx()){let e=lX.getServiceIdentifier(),t=new lX;nU.getInstance().bind(e,t)}};(W=ta||(ta={})).SILENT="silent",W.UN_SILENT="un-silent";var lz=ta,lq=(e=n8())=>{var t,n,i;return null!==(i=null===(n=e.getMraidExt())||void 0===n||null===(t=n.isSilent)||void 0===t?void 0:t.call(n))&&void 0!==i&&i},l$=(e=rG())=>{var t;let n=e.find((e=>e.getSceneType()===aa.video));return null!==(t=null==n?void 0:n.muteVideo)&&void 0!==t&&t};const lZ=(e=rV())=>e.getActivity().some((e=>"silent"===e.eventType&&(e.name===lz.SILENT||e.name===lz.UN_SILENT))),lQ=(e,t,n)=>{t||n||e.emit({type:"silent",event:lz.UN_SILENT})},lJ=(e,t)=>{e.emit({type:"silent",event:t?lz.SILENT:lz.UN_SILENT})},l0=(e=n8(),t=rw(),n=rh(),i=l$())=>{let r=lq(e);var a;n.getOperatingSystem()===r9.iOS?(null===(a=e.getMraid())||void 0===a||a.removeEventListener("silentChange",l0),lQ(t,i,r)):lJ(t,r)};var l1=()=>{let e=nU.getInstance(),t=aO.getServiceIdentifier();return e.get(t)},l2=(e=rD(),t=l1())=>{let n=t.isViewable();e.emit({type:"viewability",event:n?sR.MAXIMIZED:sR.MINIMIZED})};(F=to||(to={})).INFO="info",F.READY="ready",F.ERROR="error",F.STATE_CHANGE="stateChange",F.ORIENTATION_CHANGE="orientationChange",F.VIEWABLE_CHANGE="viewableChange",F.SIZE_CHANGE="sizeChange",F.SILENT_CHANGE="silentChange",(ts||(ts={})).CLOSE_BUTTON_WILL_SHOW="closeButtonWillShow";var l3=class extends nB{getEventCallbacks(e){return this.callbacks[e]=this.callbacks[e]||[],[...this.callbacks[e]]}updateEventCallbacks(e,t){this.callbacks[e]=t}addEventListener(e,t){if(!this.allowedMraidEvents.includes(e))return;let n=this.getEventCallbacks(e);this.updateEventCallbacks(e,[...n,t])}removeEventListener(e,t){if(this.allowedMraidEvents.includes(e))if(t){let n=this.getEventCallbacks(e).filter((e=>e!==t));this.updateEventCallbacks(e,n)}else this.updateEventCallbacks(e,[])}flushAllEventCallbacks(){this.allowedMraidEvents.forEach((e=>{this.updateEventCallbacks(e,[])}))}init(){this.mraidEvents.forEach((e=>{this.mraidService.getMraid().addEventListener(e,((...t)=>{"silentChange"===e&&this.injectedHandleAdSilentMessage(),"viewableChange"===e&&this.injectedHandleAdViewabilityMessage(),this.getEventCallbacks(e).forEach((e=>{e(...t)}))}))}))}triggerEvent(e,...t){this.getEventCallbacks(e).forEach((e=>{e(...t)}))}static getServiceIdentifier(){return"MraidEventsProxyServiceInterface"}constructor(e,t=n8(),n=l0,i=l2){super(),this.mraidEvents=e,this.mraidService=t,this.injectedHandleAdSilentMessage=n,this.injectedHandleAdViewabilityMessage=i,this.allowedMraidEvents=[...this.mraidEvents,...Object.values(ts)],this.callbacks={}}},l5=()=>{let e=nU.getInstance(),t=l3.getServiceIdentifier();return e.get(t)},l6=e=>{e.length>0&&((new Image).src=e)};const l4=(e,t)=>`${e}_${t}`,l8=e=>{let t=e.split("_");return t[t.length-1]},l7=(e,t)=>{var n,i;if(!(null===(n=t.data)||void 0===n?void 0:n.eventMapConfig.enabled))return;let r=l8(t.event),a=null===(i=t.data)||void 0===i?void 0:i.eventMapConfig.events;if(!(null==a?void 0:a[r]))return;let o=a[r];null==o||o.forEach((e=>{l6(e)}))};var l9=(e=rP())=>{a2((()=>(e.addEventHandler("scene-event",l7),()=>{e.removeEventHandler("scene-event",l7)})),[e])},de=(e,t,n,i=!1,r=rP())=>{if(!t||!n||!n.enabled)return;let a=n.events;if(!(null==a?void 0:a[e]))return;let o=l4(t,e);r.emit({type:"scene-event",event:o,fireOnlyOnce:i,data:{eventMapConfig:n}})};(K=tl||(tl={})).ON_CREATIVE_VIEW="onCreativeView",K.DESTROY_IFRAME="destroyIframe",K.FLUSH_MRAID_EVENTS_PROXY_CALLBACKS="flushMraidEventsProxyCallbacks",K.INIT_CHECKPOINTS="initCheckpoints",K.INIT_OMSDK_HTML_DISPLAY_SERVICE="initOmsdkHtmlDisplayService",K.ON_ENDCARD_START="onEndcardStart",K.ON_ENDCARD_CLOSE="onEndcardClose",K.ON_ENDCARD_CLOSE_BUTTON_WILL_SHOW="closeWillAppear";var dt=tl,di=(e=la,t=rU)=>({[dt.ON_CREATIVE_VIEW]:()=>{let e=t();e&&[aa.endcard,aa.image].includes(e.getSceneType())&&de(as.CREATIVE_VIEW,e.getId(),e.getEventMapConfig(),!0)},[dt.FLUSH_MRAID_EVENTS_PROXY_CALLBACKS]:()=>{l5().flushAllEventCallbacks()},[dt.DESTROY_IFRAME]:nQ({shouldRenderIFrame:!1}),[dt.INIT_CHECKPOINTS]:()=>{!rV().hasExistingEvent({type:"tpat",event:sv.CHECKPOINT_0})&&l1().isViewable()&&lH(0)},[dt.INIT_OMSDK_HTML_DISPLAY_SERVICE]:()=>{lj()},[dt.ON_ENDCARD_START]:()=>{oz({name:ai.ENDCARD_START}),oz({name:ai.ENDCARD_LOAD_START}),oz({name:ai.ENDCARD_FIRST_CLICK_START})},[dt.ON_ENDCARD_CLOSE]:()=>{let t=e();t&&lN(t.scene_id,t.scene_type)},[dt.ON_ENDCARD_CLOSE_BUTTON_WILL_SHOW]:()=>{let e=l5();e.triggerEvent(ts.CLOSE_BUTTON_WILL_SHOW),e.removeEventListener(ts.CLOSE_BUTTON_WILL_SHOW)}});(G=td||(td={})).SK_PRESENTATION_SETTINGS="sk-presentation-settings",G.SK_SKO_DISMISS="sk-sko-dismiss",G.ASOI_SETTINGS="asoi-settings",G.AD_EVENT_LOADED="ad-event-loaded",G.AD_LOADED="ad-loaded",G.DOWNLOAD="download",G.COMPLETE="complete",G.INTERACTED="interacted";var dn=td;(Y=tc||(tc={})).SK_PRESENTATION_SETTINGS="sk-presentation-settings",Y.SK_SKO_DISMISS="sk-sko-dismiss",Y.ASOI_SETTINGS="asoi-settings",Y.AD_EVENT_LOADED="ad-event-loaded",Y.AD_LOADED="ad-loaded",Y.DOWNLOAD="download",Y.INTERACTED="interacted",Y.COMPLETE="complete",Y.CLOSE_BUTTON_REVEAL="close-button-reveal",(X=tu||(tu={})).AD_EVENT_INIT="ad-event-init",X.AD_EVENT_OVERLAY_VIEW_VISIBLE="ad-event-overlay-view-visible",X.AD_EVENT_OVERLAY_VIEW_FINISHED="ad-event-overlay-view-finished",X.AD_EVENT_OVERLAY_VIEW_FAILED="ad-event-overlay-view-failed",X.AD_EVENT_RESUME="ad-event-resume",X.AD_EVENT_PAUSE="ad-event-pause";var dr=tc;(j=tE||(tE={})).ANDROID_INSTALL_BUTTON_CTA="ANDROID_INSTALL_BUTTON_CTA",j.DOWNLOAD_BUTTON_CTA="DOWNLOAD_BUTTON_CTA",j.ENDCARD_CTA="ENDCARD_CTA",j.LAST_CHANCE_ENDCARD_CTA="LAST_CHANCE_ENDCARD_CTA",j.PERSISTENT_CTA="PERSISTENT_CTA",(z=t_||(t_={})).CTA="CTA",z.ASOI_INTERACTION="ASOI_INTERACTION",z.ASOI_COMPLETE="ASOI_COMPLETE";var da=tE;const ds=e=>{if(e.data){let t,n;return"string"==typeof e.data?t=e.data:"object"==typeof e.data&&({title:t,content:n}=e.data),[t,n]}return[void 0,void 0]},dl=e=>{switch(e){case dn.SK_PRESENTATION_SETTINGS:return dr.SK_PRESENTATION_SETTINGS;case dn.SK_SKO_DISMISS:return dr.SK_SKO_DISMISS;case dn.ASOI_SETTINGS:return dr.ASOI_SETTINGS;case dn.AD_EVENT_LOADED:return dr.AD_EVENT_LOADED;case dn.AD_LOADED:return dr.AD_LOADED;case dn.COMPLETE:return dr.COMPLETE;case dn.INTERACTED:return dr.INTERACTED;default:return}};var dd=()=>{window.addEventListener("message",(e=>{let[t,n]=ds(e);if(void 0!==t&&Object.values(dn).includes(t))if(t===dn.DOWNLOAD)rg().emit({type:"cta",event:t_.CTA,data:{content:n}});else{let e=dl(t);e&&rR().emit({type:"adaptive-creative-endcard",event:e,data:{content:n}})}}))};(q=tv||(tv={})).INTERACTION="interaction",q.COMPLETE="complete",($=tT||(tT={})).AGGRESSIVE="aggressive",$.COMPLETE="complete",$.OFF="off";var dc=class extends nB{updateSkPresentationSettings(e){let t=this.skPresentationSettingsArray.find((t=>t.eventType===e.eventType));t?Object.assign(t,e):this.skPresentationSettingsArray.push(e)}getSkPresentationSettingsArray(){return this.skPresentationSettingsArray}getHasVungleSettingsBeenUpdated(){return this.hasVungleSettingsBeenUpdated}updateVungleSettings(e){this.settings=nx({},this.settings,e),this.hasVungleSettingsBeenUpdated=!0}isAsoiDisabled(){return"off"===this.tokenAsoi||!this.settings.ASOIEnabled}triggerAsoiEvent(e){if(!this.hasAsoiEventTriggered){let t={interaction:t_.ASOI_INTERACTION,complete:t_.ASOI_COMPLETE}[e];t&&(this.hasAsoiEventTriggered=!0,rg().emit({type:"cta",event:t,data:{appsFlyerEvent:sr.CLICK_TO_APP}}))}}handleInteractionEvent(){let{ASOITapInteractions:e,ASOIDelayTimer:t}=this.settings;if(rm().emit({type:"tpat",event:sv.PLAYABLE_ENDCARD_CLICK}),sn(sr.ENGAGED_CLICK),this.interactions+=1,this.isAsoiDisabled()||this.hasAsoiEventTriggered)return;let n=o1();(e>0&&this.interactions>=e&&"aggressive"===this.tokenAsoi||this.isCompleteEventReceived)&&n.getNewTimer(1e3*t,(()=>{this.triggerAsoiEvent("interaction")})).start()}handleCompleteEvent(){if(this.isAsoiDisabled()||this.hasAsoiEventTriggered||this.isCompleteEventReceived)return;this.isCompleteEventReceived=!0;let{ASOIDelayTimer:e}=this.settings,t=o1();(this.interactions>0||this.asoiDelayCompleted)&&t.getNewTimer(1e3*e,(()=>{this.triggerAsoiEvent("complete")})).start()}initAsoiDelayTimerAutoplay(){this.isAsoiDisabled()||this.hasAsoiEventTriggered||o1().getNewTimer(1e3*this.asoiDelayTimerAutoplay,(()=>{this.asoiDelayCompleted=!0,this.isCompleteEventReceived&&0===this.interactions&&this.triggerAsoiEvent("complete")})).start()}static getServiceIdentifier(){return"AsoiServiceInterface"}constructor(){var e,t;super(),this.hasAsoiEventTriggered=!1,this.interactions=0,this.asoiDelayCompleted=!1,this.isCompleteEventReceived=!1,this.asoiDelayTimerAutoplay=5,this.hasVungleSettingsBeenUpdated=!1,this.settings={ASOIEnabled:!1,ASOIDelayTimer:0,ASOITapInteractions:0},this.skPresentationSettingsArray=[],this.tokenAsoi=null!==(t=null===(e=n7())||void 0===e?void 0:e.get(n9.ASOI_SETTINGS))&&void 0!==t?t:"complete"}},du=()=>{let e=new dc;nU.getInstance().bind(dc.getServiceIdentifier(),e)},dE=(e=n7())=>{var t;let n=n9.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS,i=Number(null!==(t=e.get(n9.ENDCARD_ONLY_DURATION_SECONDS))&&void 0!==t?t:0);return 9999===Number(e.get(n))&&e.has(n9.ENDCARD_ONLY_DURATION_SECONDS)?i:e.has(n9.ENDCARD_ONLY_DURATION_SECONDS)?Math.ceil(.8*i):Number(e.get(n))};(Z=th||(th={})).INIT_ASOI_SERVICE="initAsoiService",Z.INIT_AC_ENDCARD_MESSAGE_EVENT_LISTENER="initAdaptiveCreativeEndcardMessageEventListener",Z.INIT_REWARDED_COUNTDOWN="initRewardedCountdown";var d_=()=>({initAsoiService:()=>{du()},initAdaptiveCreativeEndcardMessageEventListener:()=>{dd()},initRewardedCountdown:()=>{if(sg()&&rH()){let e=o1(),t=1e3*dE();e.getNewTimer(t,(()=>{ry().emit({type:"videoViewed",event:sT.SUCCESSFUL_VIEW_AD,fireOnlyOnce:!0})})).start()}}}),dv=class extends nB{getAdStartTime(){let e=this.reportingService.getActivity().find((e=>{var t;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===ai.AD_START}));if(e)return new Date(e.timestamp)}getVideoEnd(){var e;let t=this.reportingService.getActivity().find((e=>{var t;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===ai.VIDEO_CLOSE}));if(null==t||null===(e=t.data)||void 0===e?void 0:e.maximumViewingTime)return Math.floor(1e3*t.data.maximumViewingTime)}getEndcardInteractions(){var e;let t=this.reportingService.getActivity().find((e=>{var t,n;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===ai.ENDCARD_SCENE_END&&"endcard_0"===(null===(n=e.data)||void 0===n?void 0:n.scene_id)}));return null==t||null===(e=t.data)||void 0===e?void 0:e.endcard_click_count}getEndcardDuration(){var e;let t=this.reportingService.getActivity().find((e=>{var t,n;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===ai.ENDCARD_SCENE_END&&"endcard_0"===(null===(n=e.data)||void 0===n?void 0:n.scene_id)}));return null==t||null===(e=t.data)||void 0===e?void 0:e.endcard_duration}getVideoCloseShown(){let e=this.reportingService.getActivity(),t=e.find((e=>{var t;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===ai.VIDEO_START})),n=e.find((e=>{var t;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===ai.VIDEO_CLOSE_BUTTON_SHOW}));if(t&&n)return n.timestamp-t.timestamp}getEndcardCloseShown(){let e=this.reportingService.getActivity(),t=e.find((e=>{var t;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===ai.ENDCARD_START})),n=e.find((e=>{var t;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===ai.ENDCARD_CLOSE_BUTTON_SHOW}));if(t&&n)return n.timestamp-t.timestamp}getEndcardInteractionsAfterCloseButton(){return this.reportingService.getActivity().filter((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.name)===ai.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE})).length}addRecord(){var e,t,n;let i={eventId:null!==(e=this.tokenService.get(n9.SESSION_ID))&&void 0!==e?e:"",creativeId:null!==(t=this.tokenService.get(n9.CREATIVE_ID))&&void 0!==t?t:"",time:this.getAdStartTime(),videoUrl:null!==(n=this.tokenService.get(n9.ORIGINAL_VIDEO_URL))&&void 0!==n?n:this.tokenService.get(n9.MAIN_STREAM),videoStart:0,videoEnd:this.getVideoEnd(),endcardInteractions:this.getEndcardInteractions(),endcardDuration:this.getEndcardDuration(),videoCloseShown:this.getVideoCloseShown(),endcardCloseShown:this.getEndcardCloseShown(),endcardInteractionsAfterCloseButton:this.getEndcardInteractionsAfterCloseButton(),rewarded:this.rewarded,createDate:Date.now()};this.indexedDatabaseService.addRecord(i)}getAllRecords(){return this.indexedDatabaseService.getAllRecords()}clearStore(){this.indexedDatabaseService.clearStore()}deleteExpiredRecords(){return this.indexedDatabaseService.deleteExpiredRecords()}static getIndexedDatabaseConfig(){return{storeName:"userActivity",keyPath:"eventId",expiry:90}}static getServiceIdentifier(){return"UserActivityServiceInterface"}constructor(e,t=n7(),n=s$(),i=rH(t)){super(),this.indexedDatabaseService=e,this.tokenService=t,this.reportingService=n,this.rewarded=i}},dT=()=>{let e=nU.getInstance();if(e.has(dv.getServiceIdentifier()))return e.get(dv.getServiceIdentifier())};(Q=tS||(tS={})).CLOSE_AD="closeAd",Q.CLOSE_STOREKIT_OVERLAY="closeStoreKitOverlay",Q.ENSURE_REWARD_GRANTED="ensureRewardGranted";var dh=()=>({closeAd:()=>{var e;null===(e=dT())||void 0===e||e.addRecord(),sQ()},closeStoreKitOverlay:()=>{ox()&&se().send({type:eP.CLOSE})},ensureRewardGranted:(e,t,n=n7(),i=rL(),r=rV(),a=n8(),o=sC)=>{var s;!i.getActivity().some((e=>{var t;return(null==e||null===(t=e.data)||void 0===t?void 0:t.name)===ai.FORFEIT_REWARD}))&&rH(n)&&(r.getActivity().some((e=>"tpat"===e.eventType&&e.name===sv.REWARD_GRANTED))||(null===(s=a.getMraidBridgeExt())||void 0===s||s.notifySuccessfulViewAd(),o(sv.REWARD_GRANTED,!0)))}});(J=tp||(tp={})).INTERRUPT="interrupt",J.RESUME="resume";var dS=()=>({interrupt:()=>{var e;(null===(e=o6())||void 0===e?void 0:e.isStoreKitOverlayShowing())&&se().send({type:eP.INTERRUPT})},resume:()=>{if(!ox())return;let e=se().state.value;(e===eb.DELAYED_SKO_INTERRUPTED||e===eb.IMMEDIATE_SHOW_INTERRUPTED)&&se().send({type:eP.RESUME})}}),dp=function(e){return!!e&&"function"==typeof e.getLastChanceEndcardConfig};const dg=rM({isLastChanceEndcardOverlayShowing:!1},"LastChanceEndcardOverlayContext");(ee=tg||(tg={})).SHOW_LAST_CHANCE_ENDCARD="showLastChanceEndcard",ee.CLOSE_LAST_CHANCE_ENDCARD="closeLastChanceEndcard";var dC=()=>({showLastChanceEndcard:()=>{let e=rk.getValue().scene;if(dp(e)){let t=lb(e.getId());dg.setValue({isLastChanceEndcardOverlayShowing:!0}),null==t||t.send({type:e7.SHOW})}},closeLastChanceEndcard:()=>{dg.setValue({isLastChanceEndcardOverlayShowing:!1});let e=rk.getValue().scene;if(dp(e)){let t=lb(e.getId());null==t||t.send({type:e7.HIDE})}}});(et=tC||(tC={})).SHOW_PRODUCT_VIEW="showProductView",et.HIDE_PRODUCT_VIEW="hideProductView",et.END_AD_ON_PRODUCT_VIEW_CLOSE="endAdOnProductViewClose",et.EMIT_TRANSITION_OPEN_OBSERVABILITY_EVENT="emitTransitionOpenObservabilityEvent",et.EMIT_ENGAGED_VIEW_WHILE_PAGE_TRANSITION="emitEngagedViewWhilePageTransition";const dO=()=>({showProductView:()=>{if(ss()&&ox()){let e=o6();return void((null==e?void 0:e.isStoreKitOverlayPrepared())&&se().send({type:eP.START_IMMEDIATE_SHOW,fallback:ew.OFF}))}let e=sd();null==e||e.open(!1)},emitEngagedViewWhilePageTransition:()=>{sn(sr.ENGAGED_VIEW)},hideProductView:()=>{},endAdOnProductViewClose:()=>{rh().getSdkVersion().isEqualTo(rr.sdkSeven)&&sH()&&rV().addEventHandler("viewability",((e,t)=>{t.event===sR.MAXIMIZED&&sQ()}))},emitTransitionOpenObservabilityEvent:()=>{oz({name:ai.APP_STORE_ON_FIRST_TRANSITION_START})}}),dA=()=>({showProductView:()=>{let e=sd();null==e||e.open()},hideProductView:()=>{let e=sd();null==e||e.close()},endAdOnProductViewClose:()=>{sQ()},emitEngagedViewWhilePageTransition:()=>{sn(sr.ENGAGED_VIEW)}});var dI=()=>sH()?dO():dA(),dm=()=>nx({},dh(),ln(),ly(),dS(),dI(),s8(),s4(),lk(),di(),d_(),dC()),df=()=>({isPrivacyButtonVisible:!1,isPrivacyDrawerOpen:!1,isCloseButtonVisible:!1,shouldRenderIFrame:!0}),dN=class{convertScene(e){let t=e.getTransitions(),n={[e.getId()]:{entry:[],exit:[],on:{}}};return e.getEntryActions().forEach((t=>{n[e.getId()].entry.push(t.name)})),e.getExitActions().forEach((t=>{n[e.getId()].exit.push(t.name)})),t.forEach((t=>{let i=t.actions.map((e=>e.name)),{cond:r}=t;t.scene?n[e.getId()].on[t.name]={actions:i,target:t.scene.getId(),cond:r}:n[e.getId()].on[t.name]={actions:i,cond:r}})),this.removeFalsyValues(n)}convertScenes(e){let t={};return e.forEach((e=>{Object.assign(t,this.convertScene(e))})),t}removeFalsyValues(e){return Object.keys(e).forEach((t=>{e[t]&&"object"==typeof e[t]?(this.removeFalsyValues(e[t]),0===Object.keys(e[t]).length&&delete e[t]):e[t]||delete e[t]})),e}},dD=()=>{let e=new dN,t=rG(),n=e.convertScenes(t);return{id:"ad",initial:t[0].getId(),states:n,context:df()}},dy={},dR=function(e,t,n,i,r){var a=new Worker(dy[t]||(dy[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(e){var t=e.data,n=t.$e$;if(n){var i=Error(n[0]);i.code=n[1],i.stack=n[2],r(i,null)}else r(null,t)},a.postMessage(n,i),a},dL=Uint8Array,dw=Uint16Array,dP=Int32Array,db=new dL([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dV=new dL([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dM=new dL([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dk=function(e,t){for(var n=new dw(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];var r=new dP(n[30]);for(i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r:r}},dU=dk(db,2),dB=dU.b,dH=dU.r;dB[28]=258,dH[258]=28;for(var dx=dk(dV,0),dW=dx.b,dF=dx.r,dK=new dw(32768),dG=0;dG<32768;++dG){var dY=(43690&dG)>>1|(21845&dG)<<1;dY=(61680&(dY=(52428&dY)>>2|(13107&dY)<<2))>>4|(3855&dY)<<4,dK[dG]=((65280&dY)>>8|(255&dY)<<8)>>1}var dX=function(e,t,n){for(var i,r=e.length,a=0,o=new dw(t);a<r;++a)e[a]&&++o[e[a]-1];var s=new dw(t);for(a=1;a<t;++a)s[a]=s[a-1]+o[a-1]<<1;if(n){i=new dw(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var d=a<<4|e[a],c=t-e[a],u=s[e[a]-1]++<<c,E=u|(1<<c)-1;u<=E;++u)i[dK[u]>>l]=d}else for(a=0,i=new dw(r);a<r;++a)e[a]&&(i[a]=dK[s[e[a]-1]++]>>15-e[a]);return i},dj=new dL(288);for(dG=0;dG<144;++dG)dj[dG]=8;for(dG=144;dG<256;++dG)dj[dG]=9;for(dG=256;dG<280;++dG)dj[dG]=7;for(dG=280;dG<288;++dG)dj[dG]=8;var dz=new dL(32);for(dG=0;dG<32;++dG)dz[dG]=5;var dq=dX(dj,9,0),d$=dX(dj,9,1),dZ=dX(dz,5,0),dQ=dX(dz,5,1),dJ=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},d0=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(7&t)&n},d1=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},d2=function(e){return(e+7)/8|0},d3=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new dL(e.subarray(t,n))},d5=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],d6=function(e,t,n){var i=Error(t||d5[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,d6),!n)throw i;return i},d4=function(e,t,n,i){var r=e.length,a=i?i.length:0;if(!r||t.f&&!t.l)return n||new dL(0);var o=!n,s=o||2!=t.i,l=t.i;o&&(n=new dL(3*r));var d=function(e){var t=n.length;if(e>t){var i=new dL(Math.max(2*t,e));i.set(n),n=i}},c=t.f||0,u=t.p||0,E=t.b||0,_=t.l,v=t.d,T=t.m,h=t.n,S=8*r;do{if(!_){c=d0(e,u,1);var p=d0(e,u+1,3);if(u+=3,!p){var g=e[(L=d2(u)+4)-4]|e[L-3]<<8,C=L+g;if(C>r){l&&d6(0);break}s&&d(E+g),n.set(e.subarray(L,C),E),t.b=E+=g,t.p=u=8*C,t.f=c;continue}if(1==p)_=d$,v=dQ,T=9,h=5;else if(2==p){var A=d0(e,u,31)+257,O=d0(e,u+10,15)+4,I=A+d0(e,u+5,31)+1;u+=14;for(var m=new dL(I),N=new dL(19),f=0;f<O;++f)N[dM[f]]=d0(e,u+3*f,7);u+=3*O;var D=dJ(N),y=(1<<D)-1,R=dX(N,D,1);for(f=0;f<I;){var L,w=R[d0(e,u,y)];if(u+=15&w,(L=w>>4)<16)m[f++]=L;else{var P=0,b=0;for(16==L?(b=3+d0(e,u,3),u+=2,P=m[f-1]):17==L?(b=3+d0(e,u,7),u+=3):18==L&&(b=11+d0(e,u,127),u+=7);b--;)m[f++]=P}}var V=m.subarray(0,A),M=m.subarray(A);T=dJ(V),h=dJ(M),_=dX(V,T,1),v=dX(M,h,1)}else d6(1);if(u>S){l&&d6(0);break}}s&&d(E+131072);for(var k=(1<<T)-1,U=(1<<h)-1,B=u;;B=u){var H=(P=_[d1(e,u)&k])>>4;if((u+=15&P)>S){l&&d6(0);break}if(P||d6(2),H<256)n[E++]=H;else{if(256==H){B=u,_=null;break}var x=H-254;if(H>264){var W=db[f=H-257];x=d0(e,u,(1<<W)-1)+dB[f],u+=W}var K=v[d1(e,u)&U],F=K>>4;K||d6(3),u+=15&K;M=dW[F];if(F>3){W=dV[F];M+=d1(e,u)&(1<<W)-1,u+=W}if(u>S){l&&d6(0);break}s&&d(E+131072);var G=E+x;if(E<M){var Y=a-M,z=Math.min(M,G);for(Y+E<0&&d6(3);E<z;++E)n[E]=i[Y+E]}for(;E<G;++E)n[E]=n[E-M]}}t.l=_,t.p=B,t.b=E,t.f=c,_&&(c=1,t.m=T,t.d=v,t.n=h)}while(!c);return E!=n.length&&o?d3(n,0,E):n.subarray(0,E)},d8=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},d7=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},d9=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,a=n.slice();if(!r)return{t:co,l:0};if(1==r){var o=new dL(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],l=n[1],d=0,c=1,u=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=r-1;)s=n[n[d].f<n[u].f?d++:u++],l=n[d!=c&&n[d].f<n[u].f?d++:u++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};var E=a[0].s;for(i=1;i<r;++i)a[i].s>E&&(E=a[i].s);var _=new dw(E+1),v=ce(n[c-1],_,0);if(v>t){i=0;var T=0,h=v-t,S=1<<h;for(a.sort((function(e,t){return _[t.s]-_[e.s]||e.f-t.f}));i<r;++i){var p=a[i].s;if(!(_[p]>t))break;T+=S-(1<<v-_[p]),_[p]=t}for(T>>=h;T>0;){var g=a[i].s;_[g]<t?T-=1<<t-_[g]++-1:++i}for(;i>=0&&T;--i){var C=a[i].s;_[C]==t&&(--_[C],++T)}v=t}return{t:new dL(_),l:v}},ce=function(e,t,n){return-1==e.s?Math.max(ce(e.l,t,n+1),ce(e.r,t,n+1)):t[e.s]=n},ct=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new dw(++t),i=0,r=e[0],a=1,o=function(e){n[i++]=e},s=1;s<=t;++s)if(e[s]==r&&s!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(r),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(r);a=1,r=e[s]}return{c:n.subarray(0,i),n:t}},ci=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},cn=function(e,t,n){var i=n.length,r=d2(t+2);e[r]=255&i,e[r+1]=i>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var a=0;a<i;++a)e[r+a+4]=n[a];return 8*(r+4+i)},cr=function(e,t,n,i,r,a,o,s,l,d,c){d8(t,c++,n),++r[256];for(var u,E,_,v,T=d9(r,15),h=T.t,S=T.l,p=d9(a,15),g=p.t,C=p.l,A=ct(h),O=A.c,I=A.n,m=ct(g),N=m.c,f=m.n,D=new dw(19),y=0;y<O.length;++y)++D[31&O[y]];for(y=0;y<N.length;++y)++D[31&N[y]];for(var R=d9(D,7),L=R.t,w=R.l,P=19;P>4&&!L[dM[P-1]];--P);var b=d+5<<3,V=ci(r,dj)+ci(a,dz)+o,M=ci(r,h)+ci(a,g)+o+14+3*P+ci(D,L)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&b<=V&&b<=M)return cn(t,c,e.subarray(l,l+d));if(d8(t,c,1+(M<V)),c+=2,M<V){u=dX(h,S,0),E=h,_=dX(g,C,0),v=g;var k=dX(L,w,0);d8(t,c,I-257),d8(t,c+5,f-1),d8(t,c+10,P-4),c+=14;for(y=0;y<P;++y)d8(t,c+3*y,L[dM[y]]);c+=3*P;for(var U=[O,N],B=0;B<2;++B){var H=U[B];for(y=0;y<H.length;++y){var x=31&H[y];d8(t,c,k[x]),c+=L[x],x>15&&(d8(t,c,H[y]>>5&127),c+=H[y]>>12)}}}else u=dq,E=dj,_=dZ,v=dz;for(y=0;y<s;++y){var W=i[y];if(W>255){d7(t,c,u[(x=W>>18&31)+257]),c+=E[x+257],x>7&&(d8(t,c,W>>23&31),c+=db[x]);var K=31&W;d7(t,c,_[K]),c+=v[K],K>3&&(d7(t,c,W>>5&8191),c+=dV[K])}else d7(t,c,u[W]),c+=E[W]}return d7(t,c,u[256]),c+E[256]},ca=new dP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),co=new dL(0),cs=function(e,t,n,i,r,a){var o=a.z||e.length,s=new dL(i+o+5*(1+Math.ceil(o/7e3))+r),l=s.subarray(i,s.length-r),d=a.l,c=7&(a.r||0);if(t){c&&(l[0]=a.r>>3);for(var u=ca[t-1],E=u>>13,_=8191&u,v=(1<<n)-1,T=a.p||new dw(32768),h=a.h||new dw(v+1),S=Math.ceil(n/3),p=2*S,g=function(t){return(e[t]^e[t+1]<<S^e[t+2]<<p)&v},C=new dP(25e3),A=new dw(288),O=new dw(32),I=0,m=0,N=a.i||0,f=0,D=a.w||0,y=0;N+2<o;++N){var R=g(N),L=32767&N,w=h[R];if(T[L]=w,h[R]=L,D<=N){var P=o-N;if((I>7e3||f>24576)&&(P>423||!d)){c=cr(e,l,0,C,A,O,m,f,y,N-y,c),f=I=m=0,y=N;for(var b=0;b<286;++b)A[b]=0;for(b=0;b<30;++b)O[b]=0}var V=2,M=0,k=_,U=L-w&32767;if(P>2&&R==g(N-U))for(var B=Math.min(E,P)-1,H=Math.min(32767,N),x=Math.min(258,P);U<=H&&--k&&L!=w;){if(e[N+V]==e[N+V-U]){for(var W=0;W<x&&e[N+W]==e[N+W-U];++W);if(W>V){if(V=W,M=U,W>B)break;var K=Math.min(U,W-2),F=0;for(b=0;b<K;++b){var G=N-U+b&32767,Y=G-T[G]&32767;Y>F&&(F=Y,w=G)}}}w=T[L=w],U+=L-w&32767}if(M){C[f++]=268435456|dH[V]<<18|dF[M];var z=31&dH[V],X=31&dF[M];m+=db[z]+dV[X],++A[257+z],++O[X],D=N+V,++I}else C[f++]=e[N],++A[e[N]]}}for(N=Math.max(N,D);N<o;++N)C[f++]=e[N],++A[e[N]];c=cr(e,l,d,C,A,O,m,f,y,N-y,c),d||(a.r=7&c|l[c/8|0]<<3,c-=7,a.h=h,a.p=T,a.i=N,a.w=D)}else{for(N=a.w||0;N<o+d;N+=65535){var j=N+65535;j>=o&&(l[c/8|0]=d,j=o),c=cn(l,c+1,e.subarray(N,j))}a.i=o}return d3(s,0,i+d2(c)+r)},cl=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new dL(a.length+e.length);o.set(a),o.set(e,a.length),e=o,r.w=a.length}return cs(e,null==t.level?6:t.level,null==t.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,i,r)},cd=function(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n},cc=function(e,t,n){for(var i=e(),r=e.toString(),a=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<i.length;++o){var s=i[o],l=a[o];if("function"==typeof s){t+=";"+l+"=";var d=s.toString();if(s.prototype)if(-1!=d.indexOf("[native code]")){var c=d.indexOf(" ",8)+1;t+=d.slice(c,d.indexOf("(",c))}else for(var u in t+=d,s.prototype)t+=";"+l+".prototype."+u+"="+s.prototype[u].toString();else t+=d}else n[l]=s}return t},cu=[],cE=function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t},c_=function(e){(31!=e[0]||139!=e[1]||8!=e[2])&&d6(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=2+(e[10]|e[11]<<8));for(var i=(t>>3&1)+(t>>4&1);i>0;i-=!e[n++]);return n+(2&t)},cv=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0};function cT(e,t){var n=c_(e);return n+8>e.length&&d6(6,"invalid gzip data"),d4(e.subarray(n,-8),{i:2},t&&t.out||new dL(cv(e)),t&&t.dictionary)}var ch="undefined"!=typeof TextDecoder&&new TextDecoder;try{ch.decode(co,{stream:!0})}catch(e){}var cS=function(e){for(var t="",n=0;;){var i=e[n++],r=(i>127)+(i>223)+(i>239);if(n+r>e.length)return{s:t,r:d3(e,n-1)};t+=r?3==r?String.fromCharCode(55296|(i=((15&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536)>>10,56320|1023&i):1&r?String.fromCharCode((31&i)<<6|63&e[n++]):String.fromCharCode((15&i)<<12|(63&e[n++])<<6|63&e[n++]):String.fromCharCode(i)}};"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout,(tO||(tO={})).DECODING_ERROR="decoding_error";var cp=tO,cg=(e=n8(),t=rS())=>{var n,i,r,a,o,s;return null!==(s=null!==(o=null===(i=e.getMraidExt())||void 0===i||null===(n=i.getConsentRequired)||void 0===n?void 0:n.call(i))&&void 0!==o?o:null===(a=e.getMraid())||void 0===a||null===(r=a.getConsentRequired)||void 0===r?void 0:r.call(a))&&void 0!==s&&s&&!t.isBanner()},cC=class{decodeAndUnzip(e){try{let t=Uint8Array.from(atob(e),(e=>e.charCodeAt(0))),n=cT(t),i=String.fromCharCode.apply(null,n).replace(/"stateMachine":/g,'"statemachine":');return JSON.parse(i)}catch(e){return void this.freeFormReportingService.emit({type:"free-form",event:cp.DECODING_ERROR})}}getAdExperience(e=cg(this.mraidService,this.placementTypeService)){var t,n;if(!this.adExperienceCache){let n=null!==(t=this.tokenService.get(n9.AD_EXPERIENCE))&&void 0!==t?t:"",i=this.decodeAndUnzip(n);this.adExperienceCache=this.addGDPRSceneIfConsentRequired(i,e)}return null!==(n=this.adExperienceCache)&&void 0!==n?n:{components:{},statemachine:{id:"ad",initial:"closed",states:{}}}}addGDPRSceneIfConsentRequired(e,t=cg(this.mraidService,this.placementTypeService)){if(e&&t){let t=e.statemachine.initial;e.statemachine.states.gdpr={on:{[eQ.NEXT]:{target:t}}},e.statemachine.initial=rK}return e}getAdMachineConfig(){let e=this.getAdExperience();return nW(nx({},null==e?void 0:e.statemachine),{id:"ad"})}getSceneData(){let e=this.getAdExperience();return(null==e?void 0:e.components)?Object.entries(e.components).map((([e,t])=>nW(nx({},t),{id:e}))):[]}constructor(e=n7(),t=rV(),n=n8(),i=rS()){this.tokenService=e,this.freeFormReportingService=t,this.mraidService=n,this.placementTypeService=i}},cO=(e=new cC,t=rG())=>{let n=e.getAdMachineConfig();return n.states=n.states||{},t.forEach((e=>{let t=e.getId();n.states[t]=n.states[t]||{on:{},entry:[],exit:[]},e.getTransitions().forEach((e=>{if(n.states[t].on){var i,r,a;let o=e.name,s=null===(i=e.scene)||void 0===i?void 0:i.getId(),l=null===(r=n.states[t].on)||void 0===r?void 0:r[o],d={actions:[...Array.from(null!==(a=null==l?void 0:l.actions)&&void 0!==a?a:[]),...e.actions.map((e=>e.name))],cond:(null==l?void 0:l.cond)?l.cond:e.cond};s&&(d.target=s),n.states[t].on[o]=nx({},null!=l?l:{},d)}})),n.states[t].entry||(n.states[t].entry=[]),n.states[t].entry.push(...e.getEntryActions().map((e=>e.name))),n.states[t].exit||(n.states[t].exit=[]),n.states[t].exit.push(...e.getExitActions().map((e=>e.name)))})),nW(nx({},n),{context:nx({},df(),n.context)})},cA=(e=n7())=>[e.has(n9.AD_EXPERIENCE)?cO():dD(),{actions:nx({},dm())}];const cI=(e=o2())=>{let t=e.machineMap.get("ad");if(t)return t.machine;let[n,i]=cA();return e.createMachine(n,i)};var cm=(e=o2())=>e.interpret(cI(e)),cf=(e,t=sP(),n=lt())=>i=>{if(i.type===eQ.NEXT){if(!0!==(null==t?void 0:t.state.context.successfulViewAdReached))return void(null==n||n.send({type:e0.SHOW}));null==n||n.send({type:e0.HIDE})}e(i)},cN=(e,t)=>{if(t.event===s6.CLOSE){let{sendAdEvent:n,isVideoState:i,isCloseButtonVisible:r}=t.data;if(!r)return;e.getLogger("custom-mraid").info(s6.CLOSE);let a=lt();if((null==a?void 0:a.state.value)===eJ.SHOWING)return void a.send({type:e0.HIDE});if(!cm().state.context.isPrivacyButtonVisible){if(rH()&&i)return void cf(n)({type:eQ.NEXT});n({type:eQ.NEXT})}}},cD=class extends lF{init(){if(!this.initialized)try{var e,t,n;this.initialized=!0;let i=JSON.parse(window.atob(this.rawOmsdkData));if(!i.vendorURL||!i.vendorKey)return;super.init(this.videoElement,i),null===(e=this.adSession)||void 0===e||e.setCreativeType(lK.VIDEO),null===(t=this.adSession)||void 0===t||t.setImpressionType(lG.LOADED),null===(n=this.adSession)||void 0===n||n.registerSessionObserver(this.onSessionChange.bind(this))}catch(e){rV().emit({type:"error-logging",event:o3.EXCEPTION,data:{error:{message:"Unable to init omsdk video"}}})}}onSessionStarted(){var e,t;this.hasSessionStartRequested&&this.initialized&&this.duration&&!this.hasSessionStarted&&(null===(e=this.adEvents)||void 0===e||e.impressionOccurred(),this.hasSessionStarted=!0,this.isSkippable=!ag(this.duration),this.vastProperties=new this.sessionClient.VastProperties(this.isSkippable,0,!0,"preroll"),null===(t=this.adEvents)||void 0===t||t.loaded(this.vastProperties),this.eventDrain())}onSessionChange(e){if(e.type===lY.SESSION_START)return this.hasSessionStartRequested=!0,void this.onSessionStarted();if(e.type===lY.SESSION_FINISH){let e=rV();e.emit({type:"video",event:tt.REMOVE_HANDLER}),e.emit({type:"cta",event:tt.REMOVE_HANDLER})}}onVideoCheckpoint(){let{currentTime:e,duration:t,muted:n}=this.videoElement;this.pushOrCallFunction((()=>{var i;this.isBuffering&&(this.isBuffering=!1,null===(i=this.mediaEvents)||void 0===i||i.bufferFinish());let r=sS(e,t);if(e>0&&this.mediaEvents){for(let e=this.checkpointsReached.length;e<=r;e+=1)switch(this.checkpointsReached[e]=!0,e){case 0:this.volume=n?0:1,this.mediaEvents.start(t,this.volume);break;case 1:this.mediaEvents.firstQuartile();break;case 2:this.mediaEvents.midpoint();break;case 3:this.mediaEvents.thirdQuartile();break;case 4:this.mediaEvents.complete()}}}))}onVideoTimeUpdate(){this.onSessionStarted()}onSoundChange(e){this.pushOrCallFunction((()=>{var t;this.volume="mute"===e?0:1,null===(t=this.mediaEvents)||void 0===t||t.volumeChange(this.volume)}))}onVideoBuffering(){this.isBuffering||(this.pushOrCallFunction((()=>{var e;null===(e=this.mediaEvents)||void 0===e||e.bufferStart()})),this.isBuffering=!0)}onVideoStateChanged(e){this.pushOrCallFunction((()=>{var t,n;if(this.checkpointsReached[0]){if("pause"===e)return void(null===(n=this.mediaEvents)||void 0===n||n.pause());null===(t=this.mediaEvents)||void 0===t||t.resume()}}))}onVideoDisplayState(e){let{duration:t}=this.videoElement;!this.isVideoReady&&t>0&&(this.isVideoReady=!0,this.pushOrCallFunction((()=>{var t;null===(t=this.mediaEvents)||void 0===t||t.playerStateChange(e)})))}onVideoMetadataAvailable(e){this.duration=e,this.onSessionStarted()}onVideoPageClose(){this.pushOrCallFunction((()=>{var e;this.isSkippable&&(null===(e=this.mediaEvents)||void 0===e||e.skipped())}))}static getServiceIdentifier(){return"OmsdkVideoServiceInterface"}constructor(e,t){super(),this.videoElement=e,this.rawOmsdkData=t,this.checkpointsReached=[],this.volume=0,this.vastProperties=null,this.isBuffering=!1,this.isSkippable=!1,this.isVideoReady=!1,this.videoElement=e,this.init()}},cy=()=>{let e=nU.getInstance(),t=cD.getServiceIdentifier();if(e.has(t))return e.get(t)};const cR=(e,t)=>{var n,i;let r=cy();if(r)switch(t.event){case s_.DURATION_CHANGE:{let e=(null===(n=t.data)||void 0===n?void 0:n.duration)||0;r.onVideoMetadataAvailable(e),r.onVideoDisplayState("fullscreen");break}case s_.WAITING:case s_.SUSPEND:r.onVideoBuffering();break;case s_.TIME_UPDATE:r.onVideoTimeUpdate(),r.onVideoCheckpoint();break;case s_.MUTE:case s_.UNMUTE:r.onSoundChange(t.event);break;case s_.PLAY:case s_.PAUSE:r.onVideoStateChanged(t.event);break;case s_.CLOSE:(null===(i=t.data)||void 0===i?void 0:i.isVideoFullyPlayed)||r.onVideoPageClose();break;case da.DOWNLOAD_BUTTON_CTA:case"FSC":r.onCtaClick();break;case tt.REMOVE_HANDLER:s$().removeEventHandler(t.type,cR)}},cL=()=>document.getElementById("adaptive-creative-endcard-iframe");var cw=e=>{var t;let n=cL();n&&(null===(t=n.contentWindow)||void 0===t||t.postMessage(e,"*"))},cP=()=>{let e=nU.getInstance(),t=dc.getServiceIdentifier();return e.get(t)};const cb="persistent-rich-cta",cV="persistent-rich-cta-screenshots",cM="persistent-simple-cta",ck="mute-button",cU="#555FFF",cB=(e,t)=>{if(e instanceof Element){var n;let i=null!==(n=e.getAttribute("id"))&&void 0!==n?n:"";return!t.includes(i)&&("body"===e.tagName.toLowerCase()||cB(e.parentElement,t))}return!0};var cH=()=>"ontouchstart"in document.documentElement==1?"touchstart":"click";const cx=[ck,ls,lu,ll],cW=(e,t,n=oz)=>{cB(e.target,cx)&&n({name:ai.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE,value:null!==document.querySelector(`#${ls}`),scene_id:t},1,["name","scene_id"])},cF=(e,t,n=oz)=>{cB(e.target,cx)&&n({name:ai.CLICK_OCCURRED,scene_id:t})},cK=(e,t,n=oz)=>{cB(e.target,cx)&&t===aa.video&&n({name:ai.FIRST_INTERACTION_ON_VIDEO_PAGE},1)},cG=(e,t,n,i=oz)=>{cB(e.target,cx)&&[aa.endcard,aa.adaptiveCreativeEndcard,aa.image].includes(t)&&(t===aa.adaptiveCreativeEndcard||e.isTrusted)&&(i({name:ai.ENDCARD_FIRST_CLICK,scene_id:n},1,["name","scene_id"]),i({name:ai.ENDCARD_CLICK,scene_id:n}))},cY=(e,t=!1,n=rU,i=oz)=>{var r,a;let o=t?ar.lastChanceEndcard:null===(r=n())||void 0===r?void 0:r.getSceneType(),s=t?ar.lastChanceEndcard:null===(a=n())||void 0===a?void 0:a.getId();cW(e,s,i),cF(e,s,i),cK(e,o,i),cG(e,o,s,i),lS(e,o,s)};var cX=(e,t=rU,n=oz,i=cY)=>{a2((()=>{let r=r=>{i(r,e,t,n)};return document.body.addEventListener(cH(),r,!0),()=>{document.body.removeEventListener(cH(),r,!0)}}),[e])};const cj=()=>{let e=rG().find((e=>e.getSceneType()===aa.adaptiveCreativeEndcard)).getCloseButtonConfig().delay,t={tokens:n7().replacementTokens,closeDelay:null!=e?e:0,rewardedAd:rH()};cw({title:tu.AD_EVENT_INIT,content:t})},cz=e=>{switch(e.event){case eR.VISIBLE:case eD.OVERLAY_VISIBLE:return tu.AD_EVENT_OVERLAY_VIEW_VISIBLE;case eR.FINISHED:case eD.OVERLAY_FINISHED:return tu.AD_EVENT_OVERLAY_VIEW_FINISHED;case eR.FAILED:case eD.OVERLAY_FAILED:return tu.AD_EVENT_OVERLAY_VIEW_FAILED;default:return}},cq=(e,t)=>{var n;if(void 0===t.data||1===(null===(n=t.data)||void 0===n?void 0:n.mode)){let e=cz(t);e&&cw({title:e})}},c$=e=>e===sR.MINIMIZED?tu.AD_EVENT_PAUSE:e===sR.MAXIMIZED?tu.AD_EVENT_RESUME:void 0,cZ=(e,t)=>{let n=c$(t.event);n&&cw({title:n})};var cQ=(e,t)=>{var n,i,r;let a=cP();switch(t.event){case dr.SK_PRESENTATION_SETTINGS:if(null===(n=t.data)||void 0===n?void 0:n.content){let e=t.data.content;e&&a.updateSkPresentationSettings(e)}break;case dr.SK_SKO_DISMISS:ox()&&se().send({type:eP.CLOSE});break;case dr.ASOI_SETTINGS:if(null===(i=t.data)||void 0===i?void 0:i.content){let e=t.data.content;e&&a.updateVungleSettings(e)}break;case dr.INTERACTED:a.handleInteractionEvent(),cY(null===(r=t.data)||void 0===r?void 0:r.content);break;case dr.COMPLETE:a.handleCompleteEvent();break;case dr.CLOSE_BUTTON_REVEAL:a.initAsoiDelayTimerAutoplay();break;case dr.AD_EVENT_LOADED:cj();break;case dr.AD_LOADED:oz({name:ai.ENDCARD_LOAD_COMPLETE,scene_id:rU().getId()})}},cJ=(e,t)=>{var n,i;let r=oL(),a=null!==(i=t.data)&&void 0!==i?i:{},o={type:t.type,value:t.event,context:JSON.stringify(a)};if(("error-logging"===t.type||"video"===t.type&&t.event===s_.ERROR)&&(null===(n=t.data)||void 0===n?void 0:n.error))r.pushError(t.data.error);else if("cta"===t.type||"fsc"===t.type){let e=nx({name:ai.CTA},o);r.pushEvent(e)}},c0=(e,t)=>{let n=oL();t.event===at.EVENT&&t.data.name?n.pushEvent(nx({name:t.data.name},t.data)):t.event===at.ERROR&&t.data.error&&n.pushError(t.data.error)};(ei=tA||(tA={}))[ei.TIME_FOR_CTA_CALLBACK=502]="TIME_FOR_CTA_CALLBACK";var c1=class{checkIfSignalsChanged(){return Object.keys(tA).some((e=>{let t=tA[e];return this.signals[t]!==this.previousSignals[t]}))}sendSignals(){if(this.checkIfSignalsChanged()){var e,t;let n=JSON.stringify(this.signals);null===(t=this.mraidService.getMraidBridgeExt())||void 0===t||null===(e=t.updateSignals)||void 0===e||e.call(t,n),this.previousSignals=nx({},this.signals)}}startUpdateSignalsTimer(){this.intervalService.getNewInterval(6e3,(()=>{this.sendSignals()})).start()}sendAppStoreDuration(e){e&&"number"==typeof e.duration&&(this.signals[tA.TIME_FOR_CTA_CALLBACK]=null==e?void 0:e.duration,this.sendSignals())}pushEvent(e,t){switch(e){case ai.SIGNAL_TIMER_START:this.startUpdateSignalsTimer();break;case ai.APP_STORE_DURATION:this.sendAppStoreDuration(t)}}pushError(){}isObserved(){return!0}static getServiceIdentifier(){return"SignalServiceInterface"}constructor(e=n8(),t=sL(),n={},i={},r=0,a=0,o=oM()){this.mraidService=e,this.intervalService=t,this.signals=n,this.previousSignals=i,this.availableDiskSpaceBeforeCta=r,this.diskSpaceAfterCta=a,this.rootElement=o}},c2=()=>{let e=nU.getInstance(),t=c1.getServiceIdentifier();if(e.has(t))return e.get(t)},c3=(e,t,n=c2())=>{n&&t.event===at.SIGNAL_EVENT&&t.data.name&&n.pushEvent(nx({name:t.data.name},t.data))};const c5=(e,t=n7())=>{let n=t.get(e);n&&l6(n)};var c6=(e,t,n=n7())=>{c5(t.event,n)},c4=(e,t,n=cm())=>{t.event===lz.SILENT?null==n||n.send({type:eQ.MUTE}):t.event===lz.UN_SILENT&&(null==n||n.send({type:eQ.UNMUTE}))},c8=(e,t,n=rU(),i=c5)=>{var r,a;(null==n||null===(r=n.getAppsFlyerConfig)||void 0===r?void 0:r.call(n).enabled)&&(null===(a=t.data)||void 0===a?void 0:a.appsFlyerEvent)===sr.CLICK_TO_APP&&i(sr.CLICK_TO_APP)},c7=(e,t,n=n8())=>{var i;t.event===cp.DECODING_ERROR&&(null===(i=n.getMraid())||void 0===i||i.close())},c9=()=>{let e=s$();e.addEventHandler("*",cJ),e.addEventHandler("observability",c0),e.addEventHandler("cta",c8),e.addEventHandler("fsc",c8),e.addEventHandler("heartbeat",sG),e.addEventHandler("storekit-mraid",sq),e.addEventHandler("storekit-mraid",s3),e.addEventHandler("storekit-mraid",s5),e.addEventHandler("storekit-mraid",cq),e.addEventHandler("tpat",sy),e.addEventHandler("appsflyer",c6),e.addEventHandler("video",sN),e.addEventHandler("video",cR),e.addEventHandler("viewability",sW),e.addEventHandler("viewability",cZ),e.addEventHandler("error-logging",sJ),e.addEventHandler("custom-mraid",cN),e.addEventHandler("videoViewed",sf),e.addEventHandler("adaptive-creative-endcard",cQ),e.addEventHandler("observability",c3),e.addEventHandler("silent",c4),e.addEventHandler("free-form",c7)};const ue=e=>{var t;return e.message&&""!==e.message?e.message:(null===(t=e.error)||void 0===t?void 0:t.message)&&""!==e.error.message?e.error.message:"Unexpected script error"};var ut=(e=rA())=>{window.addEventListener("error",(t=>{let{localName:n,currentSrc:i}=t.target;if("video"===n)return;let r={type:"error-logging",event:o3.EXCEPTION,data:{error:{message:ue(t),error_source:an.TEMPLATE,resource_url:null==t?void 0:t.filename}}};"img"===n&&(r.event=o3.RESOURCE,r.data.error={resource_url:i,error_source:an.RESOURCE,message:rd}),e.emit(r)}),!0),window.addEventListener("unhandledrejection",(t=>{var n,i;e.emit({type:"error-logging",event:o3.UNHANDLEDREJECTION,data:{error:{message:null!==(i=null===(n=t.reason)||void 0===n?void 0:n.toString())&&void 0!==i?i:"Unhandled rejection error",error_source:an.TEMPLATE}}})}));window.addEventListener("message",(t=>{var n,i,r,a;let o=t.data&&"playable-error"===t.data.title,s=null!==(r=null===(i=t.data)||void 0===i||null===(n=i.content)||void 0===n?void 0:n.message)&&void 0!==r?r:"";o&&!(e=>{let t=e.toLowerCase();return["syntaxerror: unexpected token ':'"].some((e=>-1!==t.indexOf(e)))})(s)&&(t.data.content.error_source=an.PLAYABLE,e.emit({type:"error-logging",event:o3.PLAYABLE,data:{error:t.data.content,sceneId:null===(a=rU())||void 0===a?void 0:a.getId()}}))}))};const ui=new rn("7");var un=(e=n8(),t=rI(),n=rh())=>{var i;let r=void 0!==(null===(i=e.getMraidBridgeExt())||void 0===i?void 0:i.creativeHeartbeat);n.getSdkVersion().isGreaterThanOrEqualTo(ui)&&r&&t.emit({type:"heartbeat",event:sF.START})},ur=(e,t,n=sL())=>{let i=oI(e),r=a3(void 0),a=()=>{var e;null==r||null===(e=r.current)||void 0===e||e.destroy(),r.current=void 0};return a2((()=>{var e;void 0===r.current&&(r.current=n.getNewInterval(1e3,(()=>{let e=i.value-1;i.value=e<=0?0:e})),null===(e=r.current)||void 0===e||e.start());return()=>a()}),[]),om((()=>{0===i.value&&a(),t&&t(i.value)})),i};tI="NQnIja_countdown";var ua=({delay:e,isVisible:t=!0,children:n,handleTimerUpdate:i,showNextButtonDuringCountDownInBackground:r})=>{let a=ur(e,i);if(a.value>0&&r)return oy("div",{children:n});if(a.value>0&&!t)return oy("div",{id:"countdown"});if(a.value>0&&t){let e=Math.round(a.value);return 0===e?null:oy("div",{id:"countdown",className:tI,children:e})}return oy("div",{children:n})},uo=(e,t,n=rV())=>(a2((()=>(n.addEventHandler(e,t),()=>{n.removeEventHandler(e,t)})),[n,e,t]),()=>{n.removeEventHandler(e,t)});const us=[r4.MREC,r4.BANNER,r4.IN_LINE];var ul=class{placementSupportsNextButton(){return!us.includes(this.placementTypeService.getPlacementType())}constructor(e=rS()){this.placementTypeService=e}},ud=()=>rm().getActivity().some((e=>Array.isArray(e.name)?e.name.some((e=>e===sv.CLICK_URL||e===sv.POSTROLL_CLICK)):e.name===sv.CLICK_URL||e.name===sv.POSTROLL_CLICK)),uc=class{getButtonPadding(e=0,t=10){return ud()?t:Math.min(Math.max(parseInt(this.tokenService.get(n9.CLOSE_BUTTON_PADDING),10)||e,e),t)}constructor(e=n7()){this.tokenService=e}},uu=()=>{let e=nU.getInstance(),t=dc.getServiceIdentifier(),n=!1;e.has(t)&&void 0!==e.get(t)&&(n=e.get(t).getHasVungleSettingsBeenUpdated()),a2((()=>{n&&rR().emit({type:"adaptive-creative-endcard",event:dr.CLOSE_BUTTON_REVEAL,fireOnlyOnce:!0})}),[n,rR])};tm="mqB7Ka_closeIcon",tf="mqB7Ka_skipIcon";var uE=({sendEvent:e=()=>{},type:t=lR.CLOSE,service:n=new uc,showLastChanceEndcard:i=!1,beforeClick:r=()=>{}})=>{let a=t===lR.SKIP?tf:tm,o=t===lR.SKIP?"Skip button":"Close button",s=oI(n.getButtonPadding());a2((()=>{e&&e({type:eQ.CLOSE_BUTTON_WILL_SHOW})}),[]),uo("tpat",(()=>{s.value=n.getButtonPadding()})),uu();let l=-s.value;return oy("button",{title:o,"aria-label":o,id:ls,type:"button",style:{padding:`${s.value}px`,margin:`${l}px`},onClick:t=>{t.stopPropagation(),e({type:eQ.CLOSE_BUTTON_CLICK}),r(),e(i?{type:eQ.LAST_CHANCE_ENDCARD}:{type:eQ.NEXT}),rm().emit({type:"tpat",event:sv.CLOSE_BUTTON_CLICK})},children:oy("div",{className:a})})};tN="LJWyoG_nextButton";const u_=oc(!0);var uv=({handleTimerUpdate:e,showNextButtonDuringCountDownInBackground:t,sendAdEvent:n,showLastChanceEndcard:i=!1,config:r,beforeClick:a=()=>{}})=>{let{delay:o=0,countdown:s=!0}=r,l=new ul,d=o>0;return uo("viewability",((e,t)=>{u_.value=t.event===sR.MAXIMIZED})),l.placementSupportsNextButton()?oy("div",{id:i?"last-chance-endcard-next-button":"next-button",className:tN,role:"button",tabIndex:0,"data-countdown-running":u_.value,children:d?oy(ua,{delay:o,isVisible:s,handleTimerUpdate:e,showNextButtonDuringCountDownInBackground:t,children:oy(uE,{sendEvent:n,type:r.style,showLastChanceEndcard:i,beforeClick:a})}):oy(uE,{sendEvent:n,type:r.style,showLastChanceEndcard:i,beforeClick:a})}):null},uT=e=>{if(/Android/i.test(e.navigator.userAgent)){let t,n=e.addEventListener;e.addEventListener=(t,i,r)=>{n.call(e,"load"===t?"DOMContentLoaded":t,i,r)},Object.defineProperty(e,"onload",{set:n=>{t=n,e.addEventListener("DOMContentLoaded",t)},get:()=>t})}},uh=(e=rS(),t=n7())=>t.has(n9.ADM_HTML)&&(e.isBanner()||e.isMrec()||e.isInLine()),uS=e=>{e.addEventListener("error",(t=>{var n,i,r;e.parent.postMessage({title:"playable-error",content:{message:null!==(r=null==t?void 0:t.message)&&void 0!==r?r:null==t||null===(n=t.error)||void 0===n?void 0:n.message,stack:null==t||null===(i=t.error)||void 0===i?void 0:i.stack}},"*")})),e.addEventListener("unhandledrejection",(t=>{e.parent.postMessage({title:"playable-error",content:{message:null==t?void 0:t.reason}},"*")}))},up=class{getObservabilityData(){return{}}getTransitions(){return this.transitions}addTransition(e){return this.transitions.push(e),this}addOrUpdateTransition(e){let t=this.getTransitions().find((t=>t.name===e.name));if(t){t.scene=e.scene,t.cond=e.cond;let n={};t.actions.forEach((e=>{n[e.name]=!0}));let i=e.actions.filter((e=>!n[e.name]));t.actions.push(...i)}else this.addTransition(e);return this}getEntryActions(){return this.entryActions}addEntryAction(e){return this.entryActions.push(e),this}getExitActions(){return this.exitActions}addExitAction(e){return this.exitActions.push(e),this}isAlternative(){return this.alternative}static getInstances(){return[]}constructor(){this.transitions=[],this.entryActions=[],this.exitActions=[],this.alternative=!1}};const ug={name:eQ.PRIVACY_LOGO_SHOW,actions:[{name:e5.SET_PRIVACY_BUTTON_VISIBLE}]},uC={name:eQ.PRIVACY_LOGO_HIDE,actions:[{name:e5.SET_PRIVACY_BUTTON_HIDDEN}]},uO=e=>({name:eQ.PRIVACY_BOTTOM_DRAWER_OPEN,actions:e?[{name:e5.EMIT_PRIVACY_TPAT},{name:e5.SET_PRIVACY_DRAWER_OPEN},{name:e6.PAUSE_VIDEO},{name:e1.PAUSE_INTERVALS},{name:e2.STANDBY_TIMERS},{name:tp.INTERRUPT}]:[{name:e5.EMIT_PRIVACY_TPAT},{name:e5.OPEN_PRIVACY_URL}]}),uA={name:eQ.PRIVACY_BOTTOM_DRAWER_CLOSE,actions:[{name:e6.PLAY_VIDEO},{name:e5.SET_PRIVACY_DRAWER_CLOSED},{name:e1.START_INTERVALS},{name:e2.WAKE_TIMERS},{name:tp.RESUME}]},uI={name:eQ.OPEN_PRIVACY_PAGE,actions:[{name:e5.OPEN_PRIVACY_URL}]},um={name:eQ.PRODUCT_VIEW_CLOSE,actions:[{name:tC.HIDE_PRODUCT_VIEW}]},uf={name:eQ.PRODUCT_VIEW_CLOSE,actions:[{name:tC.HIDE_PRODUCT_VIEW},{name:tC.END_AD_ON_PRODUCT_VIEW_CLOSE}]};var uN=class extends up{getTransitions(){return super.getTransitions().concat(uC,ug,uO(this.isFullscreen),uA,uI)}isLastPage(){var e;return!(dp(this)&&this.getLastChanceEndcardConfig().enabled||(null===(e=this.next)||void 0===e?void 0:e.getSceneType())!==aa.closed)}constructor({isFullscreen:e}){super(),this.isFullscreen=e}},uD=(e=n7())=>e.has(n9.ENDCARD_URL),uy=(e=rh(),t=n7())=>e.getOperatingSystem()===r9.Android&&uD(t),uR=(e=sC)=>{e(sv.CLICK_URL,!0),e(sv.POSTROLL_CLICK,!0)},uL=e=>{var t;return!!e&&"false"===(null==e||null===(t=e.trim())||void 0===t?void 0:t.toLowerCase())},uw=class{getStoreKitOverlayAutoShowConfig(e=uR){let t=this.isEndcardOnly?this.skOverlayDelaySecondsTokenValue:this.ecSkOverlayDelaySecondsTokenValue,n="false"===this.ecSkOverlayDisableAutoMMPTokenValue&&0===this.endcardIndex;return{enabled:!(!ox(this.environmentService,this.placementTypeService)||void 0===this.appStoreId||0===this.appStoreId.length||uL(this.skOverlayAutoTokenValue))&&!(this.endcardIndex>0)&&("adv_pref"===this.fullCtaOptionTokenValue||this.isEndcardOnly)&&!!t&&parseInt(t,10)>=0,isAutoClose:!!this.skOverlayAutoCloseTokenValue&&!["0","-1"].includes(this.skOverlayAutoCloseTokenValue),autoShowDelay:(()=>{let e=parseInt(null!=t?t:"5",10);return Number.isNaN(e)?3e3:Math.max(3e3,1e3*e)})(),autoCloseDelay:(()=>{var e;let t=parseInt(null!==(e=this.skOverlayAutoCloseTokenValue)&&void 0!==e?e:"0",10);return Number.isNaN(t)?5e3:Math.max(5e3,1e3*t)})(),openCallback:n?()=>e():()=>{}}}constructor(e,t,n,i,r,a,o,s,l,d=rh(),c=rS()){this.endcardIndex=e,this.isEndcardOnly=t,this.appStoreId=n,this.fullCtaOptionTokenValue=i,this.skOverlayAutoTokenValue=r,this.skOverlayDelaySecondsTokenValue=a,this.ecSkOverlayDelaySecondsTokenValue=o,this.skOverlayAutoCloseTokenValue=s,this.ecSkOverlayDisableAutoMMPTokenValue=l,this.environmentService=d,this.placementTypeService=c}},uP=class{getAppStoreOnDelayConfig(){var e;let t=Number(null!==(e=this.appStoreOnEndcardAutoDelayTokenValue)&&void 0!==e?e:"0");return{enabled:!!sH(this.environmentService)&&void 0!==this.appStoreId&&0!==this.appStoreId.length&&0===this.endcardIndex&&!Number.isNaN(t)&&Number.isFinite(t)&&t>0,autoShowDelay:Number.isNaN(t)||!Number.isFinite(t)||t<3e3?3e3:t}}constructor(e,t,n,i=rh()){this.endcardIndex=e,this.appStoreId=t,this.appStoreOnEndcardAutoDelayTokenValue=n,this.environmentService=i}};(en=tD||(tD={})).OFF="off",en.SKO="overlay_view",en.SKP="product_view",en.DEFAULT="default";var ub=e=>{switch(e){case"off":return ao.OFF;case"overlay_view":return ao.SKO;default:return ao.SKPV}},uV=e=>decodeURIComponent(Array.prototype.map.call(atob(e),(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`)).join(""));const uM=(e,t=n7(),n=rS())=>({enabled:!1,id:e,appNameEncoded:t.get(n9.APP_NAME_ENCODED),appStoreId:t.get(n9.APP_STORE_ID),appsFlyerEnabled:t.get(n9.APPSFLYER_ENABLED),ctaButtonDelay:t.get(n9.DOWNLOAD_BUTTON_DELAY_SECONDS),ctaButtonText:t.get(n9.CTA_BUTTON_TEXT),ctaButtonTextEncoded:t.get(n9.CTA_BUTTON_ENCODED_TEXT),ctaButtonUrl:t.get(n9.CTA_BUTTON_URL),ctaTarget:ao.SKPV,endcardCloseButtonDelaySeconds:t.get(n9.EC_CLOSE_BUTTON_DELAY_SECONDS),fullCtaOptionTokenValue:t.get(n9.FULL_CTA_OPTION),fullCtaTokenValue:t.get(n9.FULL_CTA),hasEndcard:t.has(n9.EC_HTML)||t.has(n9.EC_IMAGE)||t.has(n9.ENDCARD_URL),hasVideo:t.has(n9.MAIN_VIDEO)||t.has(n9.MAIN_STREAM),icon:t.get(n9.APP_ICON),isFullscreen:n.isFullscreen(),name:t.get(n9.APP_NAME),showECCloseButtonCountDownTokenValue:t.get(n9.SHOW_EC_CLOSE_BUTTON_COUNTDOWN),skCtaOnlyTokenValue:t.get(n9.SK_CTA_ONLY),skFscTokenValue:t.get(n9.SK_FSC),staticEndcardCloseButtonDelaySeconds:t.get(n9.STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS)});var uk=class{getCtaButtonText(){if(this.ctaButtonTextEncoded)try{return uV(this.ctaButtonTextEncoded)}catch(e){}return this.ctaButtonText?this.ctaButtonText:this.icon&&this.name&&this.appStoreId?"GET":"Open"}getCtaButtonDelay(){var e;return parseInt(null!==(e=this.ctaButtonDelay)&&void 0!==e?e:"4",10)}getCloseDelay(){let e=this.hasVideo&&!this.hasEndcard,t=3;return e&&this.endcardCloseButtonDelaySeconds?t=Number(this.endcardCloseButtonDelaySeconds):this.staticEndcardCloseButtonDelaySeconds&&(t=Number(this.staticEndcardCloseButtonDelaySeconds)),Math.min(Math.max(t,1),e?6:30)}getCountDown(){return!this.showECCloseButtonCountDownTokenValue||"true"===this.showECCloseButtonCountDownTokenValue}getAppName(){var e;if(this.appNameEncoded)try{return uV(this.appNameEncoded)}catch(e){}return null!==(e=this.name)&&void 0!==e?e:""}getLastChanceEndcardConfig(){return{enabled:this.isFullscreen&&this.enabled,id:this.id,appMeta:{enabled:!(!this.icon||!this.name),name:this.getAppName(),icon:this.icon},cta:{text:this.getCtaButtonText(),url:this.ctaButtonUrl||"",isPersistent:!1,target:ub(this.skCtaOnlyTokenValue),delay:this.getCtaButtonDelay()},fsc:{enabled:rB(this.fullCtaTokenValue)&&"fsc_off"!==this.fullCtaOptionTokenValue,ctaUrl:this.ctaButtonUrl,target:ub(this.skFscTokenValue)},appsFlyerEnabled:rB(this.appsFlyerEnabled),close:{delay:this.getCloseDelay(),style:lR.CLOSE,countdown:this.getCountDown()}}}setLastChanceEndcardConfig(){}constructor({enabled:e=!1,id:t,name:n,icon:i,ctaButtonText:r,ctaButtonUrl:a,ctaButtonDelay:o,skCtaOnlyTokenValue:s,skFscTokenValue:l,showECCloseButtonCountDownTokenValue:d,ctaTarget:c,fullCtaOptionTokenValue:u,appStoreId:E,fullCtaTokenValue:_,appsFlyerEnabled:v,endcardCloseButtonDelaySeconds:T,staticEndcardCloseButtonDelaySeconds:h,hasVideo:S,hasEndcard:p,isFullscreen:g,ctaButtonTextEncoded:C,appNameEncoded:A}){this.enabled=e,this.id=t,this.name=n,this.icon=i,this.ctaButtonText=r,this.ctaButtonUrl=a,this.ctaButtonDelay=o,this.skCtaOnlyTokenValue=s,this.skFscTokenValue=l,this.showECCloseButtonCountDownTokenValue=d,this.ctaTarget=null!=c?c:ao.SKPV,this.fullCtaOptionTokenValue=u,this.appStoreId=E,this.fullCtaTokenValue=_,this.appsFlyerEnabled=v,this.endcardCloseButtonDelaySeconds=T,this.staticEndcardCloseButtonDelaySeconds=h,this.hasVideo=!!S,this.hasEndcard=!!p,this.isFullscreen=!!g,this.ctaButtonTextEncoded=C,this.appNameEncoded=A}};const uU={name:eQ.MUTE,actions:[{name:e6.MUTE_SOUND},{name:e6.EMIT_MUTED}]},uB={name:eQ.UNMUTE,actions:[{name:e6.UN_MUTE_SOUND},{name:e6.EMIT_MUTED}]},uH={name:eQ.VIDEO_ERROR,actions:[{name:e6.EMIT_VIDEO_ERROR}]},ux={name:eQ.CLOSE_BUTTON_MOUNT,actions:[{name:e8.SET_CLOSE_BUTTON_VISIBLE}]},uW={name:eQ.CLOSE_BUTTON_UNMOUNT,actions:[{name:e8.SET_CLOSE_BUTTON_HIDDEN}]},uF={name:eQ.CLOSE_BUTTON_CLICK,actions:[{name:e8.EMIT_CLOSE_BUTTON_CLICK}]},uK={name:eQ.CLOSE_BUTTON_WILL_SHOW,actions:[{name:e8.EMIT_CLOSE_BUTTON_SHOW}]};var uG=class{getCloseButtonConfig(){return{delay:this.getDelay(),style:this.getStyle(),countdown:this.getCountDown()}}constructor({ecCloseButtonDelaySecondsTokenValue:e,staticEcCloseButtonDelaySecondsTokenValue:t,endcardCloseButtonAsSkipTokenValue:n,showECCloseButtonCountDownTokenValue:i,isSecondEndcard:r}){this.getDelay=()=>{let e=0;return this.isSecondEndcard&&this.staticEcCloseButtonDelaySecondsTokenValue?e=Number(this.staticEcCloseButtonDelaySecondsTokenValue):this.ecCloseButtonDelaySecondsTokenValue&&(e=Number(this.ecCloseButtonDelaySecondsTokenValue)),e},this.getStyle=()=>this.isSecondEndcard?lR.CLOSE:rB(this.endcardCloseButtonAsSkipTokenValue)?lR.SKIP:lR.CLOSE,this.getCountDown=()=>!this.showECCloseButtonCountDownTokenValue||rB(this.showECCloseButtonCountDownTokenValue),this.ecCloseButtonDelaySecondsTokenValue=e,this.staticEcCloseButtonDelaySecondsTokenValue=t,this.endcardCloseButtonAsSkipTokenValue=n,this.showECCloseButtonCountDownTokenValue=i,this.isSecondEndcard=r}},uY=class{getEventMapConfig(){return{enabled:this.enabled,events:this.events}}constructor(e,t){this.enabled=e,this.events=t}};const uX=new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"});var uj=(e,t=rA())=>{if(!e)return[];try{let t=JSON.parse(e);return Array.isArray(t)?t.slice(0,4):[]}catch(e){t.emit({type:"error-logging",event:o3.RESOURCE,data:{error:{message:"Unable to parse app screenshots"}}})}return[]};const uz=(e=n7(),t=rA())=>({ctaButtonUrl:e.get(n9.CTA_BUTTON_URL),ctaButtonText:e.get(n9.CTA_BUTTON_TEXT),ctaButtonTextEncoded:e.get(n9.CTA_BUTTON_ENCODED_TEXT),ctaButtonDelay:e.get(n9.DOWNLOAD_BUTTON_DELAY_SECONDS),appName:e.get(n9.APP_NAME),appIcon:e.get(n9.APP_ICON),appDescription:e.get(n9.APP_DESCRIPTION),appRatingCount:e.get(n9.APP_RATING_COUNT),appLongDescription:e.get(n9.APP_LONG_DESCRIPTION),appContentRating:e.get(n9.APP_CONTENT_RATING),appScreenShots:e.get(n9.APP_SCREENSHOTS),appDownloadCount:e.get(n9.APP_DOWNLOAD_COUNT),appRating:e.get(n9.APP_RATING),appStoreRating:e.get(n9.APP_STORE_RATING),appStoreId:e.get(n9.APP_STORE_ID),appNameEncoded:e.get(n9.APP_NAME_ENCODED),appDescriptionEncoded:e.get(n9.APP_DESCRIPTION_ENCODED),appLongDescriptionEncoded:e.get(n9.APP_LONG_DESCRIPTION_ENCODED),errorLoggingReportingService:t});var uq=class{hasAppMetadata(){return!(!this.appIcon||!this.appName)}getAppRatingCount(){var e;let t=parseInt(null!==(e=this.appRatingCount)&&void 0!==e?e:"",10);return Number.isInteger(t)&&Number.isFinite(t)?uX.format(t):""}getAppContentRatingImg(){var e,t;return null!==(t={Everyone:"https://cdn-lb.vungle.com/esrb/E.svg","Everyone 10+":"https://cdn-lb.vungle.com/esrb/E10plus.svg",Teen:"https://cdn-lb.vungle.com/esrb/T.svg","Mature 17+":"https://cdn-lb.vungle.com/esrb/M.svg","Adults Only 18+":"https://cdn-lb.vungle.com/esrb/AO.svg"}[null!==(e=this.appContentRating)&&void 0!==e?e:""])&&void 0!==t?t:""}getAppDownloadCount(){let{appDownloadCount:e}=this;if(!e)return"";if(/[KMB]/.test(e))return e;e.includes("-")&&([e]=e.split("-"));let t=Number(e=e.replace(/[,+ ]+/g,""));return t?`${new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:0}).format(t)}+`:""}getAppRating(){var e,t;let n=null!==(t=null!==(e=this.appRating)&&void 0!==e?e:this.appStoreRating)&&void 0!==t?t:"4.4",i=n.lastIndexOf("/")+1,r=n.indexOf("-stars.svg"),a=n.substring(i,r);if(a){let e=parseFloat(a);if(!Number.isNaN(e))return e}let o=parseFloat(n);return Number.isNaN(o)?parseFloat("4.4"):o}getAppName(){var e;if(this.appNameEncoded)try{return uV(this.appNameEncoded)}catch(e){}return null!==(e=this.appName)&&void 0!==e?e:""}getAppDescription(){var e;if(this.appDescriptionEncoded)try{return uV(this.appDescriptionEncoded)}catch(e){}return null!==(e=this.appDescription)&&void 0!==e?e:""}getAppLongDescription(){var e;if(this.appLongDescriptionEncoded)try{return uV(this.appLongDescriptionEncoded)}catch(e){}return null!==(e=this.appLongDescription)&&void 0!==e?e:""}getCtaButtonText(){if(this.ctaButtonTextEncoded)try{return uV(this.ctaButtonTextEncoded)}catch(e){}return this.ctaButtonText&&""!==this.ctaButtonText.trim()?this.ctaButtonText:this.hasAppMetadata()&&this.appStoreId?"GET":"Open"}getCtaButtonDelay(){var e;let t=parseInt(null!==(e=this.ctaButtonDelay)&&void 0!==e?e:"",10);return Number.isInteger(t)&&Number.isFinite(t)?t:0}getCtaButtonUrl(){var e;return null!==(e=this.ctaButtonUrl)&&void 0!==e?e:""}getAppMetaData(){var e,t;return{enabled:this.hasAppMetadata(),company:this.getAppDescription(),contentRating:null!==(e=this.appContentRating)&&void 0!==e?e:"",contentRatingImg:this.getAppContentRatingImg(),description:this.getAppLongDescription(),downloads:this.getAppDownloadCount(),icon:null!==(t=this.appIcon)&&void 0!==t?t:"",isRatingGreaterThanMinimum:this.getAppRating()>=4,minimumAppRating:4,name:this.getAppName(),price:"",rating:this.getAppRating(),ratingCount:this.getAppRatingCount(),screenshots:uj(this.appScreenShots,this.errorLoggingReportingService)}}constructor({ctaButtonUrl:e,ctaButtonText:t,ctaButtonTextEncoded:n,ctaButtonDelay:i,appName:r,appIcon:a,appDescription:o,appRatingCount:s,appLongDescription:l,appContentRating:d,appScreenShots:c,appDownloadCount:u,appRating:E,appStoreRating:_,appStoreId:v,appNameEncoded:T,appDescriptionEncoded:h,appLongDescriptionEncoded:S,errorLoggingReportingService:p=rA()}){this.ctaButtonUrl=e,this.ctaButtonText=t,this.ctaButtonTextEncoded=n,this.ctaButtonDelay=i,this.appName=r,this.appIcon=a,this.appDescription=o,this.appRatingCount=s,this.appLongDescription=l,this.appContentRating=d,this.appScreenShots=c,this.appDownloadCount=u,this.appRating=E,this.appStoreRating=_,this.appStoreId=v,this.appNameEncoded=T,this.appDescriptionEncoded=h,this.appLongDescriptionEncoded=S,this.errorLoggingReportingService=p}},u$=class extends uq{getCallToActionConfig(){return{url:super.getCtaButtonUrl(),text:super.getCtaButtonText(),appMeta:super.getAppMetaData(),delay:super.getCtaButtonDelay(),target:ao.SKPV}}constructor({appMetaProviderParams:e}){super(e)}};class uZ extends up{getId(){return"closed"}static getInstances(){let e=rS();return e.isBanner()||e.isMrec()||e.isInLine()?[]:[new uZ]}getSceneType(){return aa.closed}constructor(){super(),this.addEntryAction({name:tS.ENSURE_REWARD_GRANTED}),this.addEntryAction({name:dt.DESTROY_IFRAME}),this.getEntryActions().some((e=>e.name===tS.CLOSE_AD))||this.addEntryAction({name:tS.CLOSE_AD}),this.addTransition(nx({},uf))}}const uQ=[n9.BANNER_IMAGE_6_1,n9.BANNER_IMAGE_8_1,n9.MREC_IMAGE_6_5,n9.EC_IMAGE,n9.EC_IMAGE_2,n9.EC_HTML,n9.ADM_HTML,n9.EC_HTML_2];(er=ty||(ty={})).BASE64_ENCODED="base64-encoded",er.GZIP="gzip",er.NONE="none";class uJ extends uN{static getInstances(e=n7(),t=rS(),n=rh(),i=uy(n,e),r=rA()){let a=[n9.EC_HTML,n9.ADM_HTML,n9.EC_HTML_2],o=[],s={[n9.EC_HTML]:"endcard",[n9.ADM_HTML]:"endcard",[n9.EC_HTML_2]:"secondEndcard"};return a.filter((t=>e.has(t))).forEach(((a,l)=>{var d;let c=a===n9.ADM_HTML,u=`${s[a]}_${l}`;o.push(new uJ({id:u,endcardContent:null!==(d=e.get(a))&&void 0!==d?d:"",index:l,isAlternative:!1,compressionType:e.get(n9.EC_HTML_COMPRESS)?"gzip":"base64-encoded",storeKitOverlayAutoShowConfig:new uw(l,this.isEndcardOnly(e),oW(e),e.get(n9.FULL_CTA_OPTION),e.get(n9.SKOVERLAY_AUTO),e.get(n9.SKOVERLAY_DELAY_SECONDS),e.get(n9.EC_SKOVERLAY_DELAY_SECONDS),e.get(n9.SKOVERLAY_AUTO_CLOSE),e.get(n9.EC_SKOVERLAY_DISABLE_AUTO_MMP),n,t).getStoreKitOverlayAutoShowConfig(),appStoreOnDelayConfig:new uP(l,oW(),e.get(n9.APP_STORE_ON_ENDCARD_AUTO_DELAY),n).getAppStoreOnDelayConfig(),lastChanceEndcardConfig:new uk(uM(u,e,t)).getLastChanceEndcardConfig(),omsdkEnabled:c,androidProductViewSupported:i,closeButtonConfig:new uG({ecCloseButtonDelaySecondsTokenValue:e.get(n9.EC_CLOSE_BUTTON_DELAY_SECONDS),staticEcCloseButtonDelaySecondsTokenValue:e.get(n9.STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS),showECCloseButtonCountDownTokenValue:e.get(n9.SHOW_EC_CLOSE_BUTTON_COUNTDOWN),endcardCloseButtonAsSkipTokenValue:e.get(n9.ENDCARD_CLOSE_BUTTON_AS_SKIP),isSecondEndcard:1===l}).getCloseButtonConfig(),eventMapConfig:new uY(!1).getEventMapConfig(),callToActionConfig:new u$({appMetaProviderParams:uz(e,r)}).getCallToActionConfig()}))})),o}getId(){return this.id}getSceneType(){return this.sceneType}getStoreKitOverlayAutoShowConfig(){return this.storeKitOverlayAutoShowConfig}getAppStoreOnDelayConfig(){return this.appStoreOnDelayConfig}getCloseButtonConfig(){return nW(nx({},this.closeButtonConfig),{style:this.isLastPage()?lR.CLOSE:this.closeButtonConfig.style})}getLastChanceEndcardConfig(){return this.lastChanceEndcardConfig}getEventMapConfig(){return this.eventMapConfig}getCallToActionConfig(){return this.callToActionConfig}setLastChanceEndcardConfig(e){this.lastChanceEndcardConfig=e}constructor({id:e,endcardContent:t,index:n,isAlternative:i,compressionType:r,storeKitOverlayAutoShowConfig:a,appStoreOnDelayConfig:o,lastChanceEndcardConfig:s,omsdkEnabled:l,closeButtonConfig:d,androidProductViewSupported:c,eventMapConfig:u,callToActionConfig:E,placementTypeService:_=rS()}){super({isFullscreen:_.isFullscreen()}),this.sceneType=aa.endcard,this.id=e,this.endcardContent=t,this.index=n,this.alternative=i,this.compressionType=r,this.storeKitOverlayAutoShowConfig=a,this.appStoreOnDelayConfig=o,this.lastChanceEndcardConfig=s,this.omsdkEnabled=l,this.androidProductViewSupported=c,this.eventMapConfig=u,this.closeButtonConfig=d,this.callToActionConfig=E,this.placementTypeService=_,c&&this.addTransition(um),l?this.addEntryAction({name:dt.INIT_OMSDK_HTML_DISPLAY_SERVICE}):(this.addEntryAction({name:dt.ON_ENDCARD_START}),this.addExitAction({name:dt.ON_ENDCARD_CLOSE})),0===n&&(this.addTransition(ux),this.addTransition(uW),this.addTransition(uF),this.addTransition(uK)),this.addOrUpdateTransition({name:eQ.CLOSE,actions:[],scene:new uZ}),this.addExitAction({name:dt.FLUSH_MRAID_EVENTS_PROXY_CALLBACKS}),this.addOrUpdateTransition({name:eQ.CLOSE_BUTTON_WILL_SHOW,actions:[{name:dt.ON_ENDCARD_CLOSE_BUTTON_WILL_SHOW}]}),this.addTransition({name:eQ.CREATIVE_VIEW,actions:[{name:dt.ON_CREATIVE_VIEW}]})}}uJ.isEndcardOnly=(e=n7())=>{let t=e.get(n9.CREATIVE_VIEW_TYPE)===sp.ENDCARD||e.has(n9.MREC_IMAGE_6_5),n=!e.has(n9.MAIN_VIDEO)&&!e.has(n9.MAIN_STREAM),i=uQ.reduce(((t,n)=>t+(e.has(n)?1:0)),0);return(n||t)&&1===i};var u0=uJ,u1=e=>{let t=/<script[^>]*?src=(["'][^"']*?mraid.js[^>]*?["'])[^>]*?>(<\/script>)?/gi;return t.test(e)?e.replace(t,""):e};(ea=tR||(tR={})).ADD_EVENT_LISTENER="addEventListener",ea.CLOSE="close",ea.CLOSE_STOREKIT_OVERLAY_VIEW="closeStoreKitOverlayView",ea.EXIT_ALTERNATIVE="exitAlternative",ea.GET_CURRENT_POSITION="getCurrentPosition",ea.GET_DEFAULT_POSITION="getDefaultPosition",ea.GET_EXPAND_PROPERTIES="getExpandProperties",ea.GET_MAX_SIZE="getMaxSize",ea.GET_PLACEMENT_TYPE="getPlacementType",ea.GET_SCREEN_SIZE="getScreenSize",ea.GET_STATE="getState",ea.GET_VIEWABLE="getViewable",ea.GRANT_REWARD="grantReward",ea.IS_VIEWABLE="isViewable",ea.OPEN="open",ea.OPEN_STOREKIT_OVERLAY_VIEW="openStoreKitOverlayView",ea.OPEN_STOREKIT_PRODUCT_VIEW="openStoreKitProductView",ea.REMOVE_EVENT_LISTENER="removeEventListener",ea.SET_ORIENTATION_PROPERTIES="setOrientationProperties",ea.SHOW_ALTERNATIVE="showAlternative",ea.NEXT="next",(eo=tL||(tL={})).CREATE_CALENDAR_EVENT="createCalendarEvent",eo.EXPAND="expand",eo.GET_CONSENT_ACCEPT_BUTTON_TEXT="getConsentAcceptButtonText",eo.GET_CONSENT_BODY_TEXT="getConsentBodyText",eo.GET_CONSENT_DENY_BUTTON_TEXT="getConsentDenyButtonText",eo.GET_CONSENT_REQUIRED="getConsentRequired",eo.GET_CONSENT_TITLE_TEXT="getConsentTitleText",eo.GET_ORIENTATION_PROPERTIES="getOrientationProperties",eo.GET_RESIZE_PROPERTIES="getResizeProperties",eo.GET_VERSION="getVersion",eo.PLAY_VIDEO="playVideo",eo.RESIZE="resize",eo.SET_EXPAND_PROPERTIES="setExpandProperties",eo.SET_RESIZE_PROPERTIES="setResizeProperties",eo.STORE_PICTURE="storePicture",eo.USE_CUSTOM_CLOSE="useCustomClose";var u2=()=>({[tL.CREATE_CALENDAR_EVENT]:()=>{},[tL.EXPAND]:()=>{},[tL.GET_CONSENT_ACCEPT_BUTTON_TEXT]:()=>{},[tL.GET_CONSENT_BODY_TEXT]:()=>{},[tL.GET_CONSENT_DENY_BUTTON_TEXT]:()=>{},[tL.GET_CONSENT_REQUIRED]:()=>{},[tL.GET_CONSENT_TITLE_TEXT]:()=>{},[tL.GET_ORIENTATION_PROPERTIES]:()=>{},[tL.GET_RESIZE_PROPERTIES]:()=>{},[tL.GET_VERSION]:()=>()=>"1.0",[tL.PLAY_VIDEO]:()=>{},[tL.RESIZE]:()=>{},[tL.SET_EXPAND_PROPERTIES]:()=>{},[tL.SET_RESIZE_PROPERTIES]:()=>{},[tL.STORE_PICTURE]:()=>{},[tL.USE_CUSTOM_CLOSE]:()=>()=>!1}),u3=()=>({width:window.innerWidth,height:window.innerHeight}),u5=()=>nW(nx({},u3()),{useCustomClose:!1,isModal:!1}),u6=()=>nx({x:0,y:0},u3()),u4={};function u8(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(u4=u8).default=u8;class u7 extends Error{}var u9=(e,t=1e4,n=new u7("Timed out waiting!"))=>new Promise(((r,a)=>{let o=t=>{let s=e();i(u4)(s)?s.then((e=>{e?r(e):t<0?a(n):setTimeout((()=>o(t-100)),100)})):s?r(s):t<0?a(n):setTimeout((()=>o(t-100)),100)};setTimeout((()=>o(t-100)),100)}));const Ee=(e=rV())=>e.getActivity().filter((e=>{var t;return e.type===at.EVENT&&"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===ai.OPEN_STOREKIT_PRODUCT_VIEW_COMMAND})).length>=2;var Et=async(e,t=sd(),n=Ee(),i=oQ(),r=oz)=>{if(n)return!1;if(r({name:ai.OPEN_STOREKIT_PRODUCT_VIEW_COMMAND}),null==t||t.open(),i)try{await u9((()=>null==t?void 0:t.isOpen()),e)}catch(e){return!1}return!0},Ei=()=>({[tR.OPEN_STOREKIT_OVERLAY_VIEW]:(e,t=ox,n=o6,i=se)=>async()=>{if(!t())return!1;let e=n();if(!e.isStoreKitOverlayPrepared())return!1;if(e.isStoreKitOverlayShowing())return!0;i().send({type:eP.START_IMMEDIATE_SHOW,fallback:ew.OFF});try{return await u9((()=>e.isStoreKitOverlayShowing()),3e3),!0}catch(e){return!1}},[tR.CLOSE_STOREKIT_OVERLAY_VIEW]:(e,t=ox,n=o6,i=se)=>async()=>{if(!t())return!1;let e=n();if(!e.isStoreKitOverlayShowing())return!0;i().send({type:eP.CLOSE});try{return await u9((()=>!e.isStoreKitOverlayShowing()),3e3),!0}catch(e){return!1}},[tR.OPEN_STOREKIT_PRODUCT_VIEW]:(e,t=sH,n=sd,i=Et)=>async()=>{if(!t())return!1;let e=n();return null!=e&&!!e.isOpen()||(null==e||e.open(),await i(3e3))}}),En=e=>(null!=e?e:rV()).getActivity().some((e=>e.type===at.EVENT&&"observability"===e.eventType&&e.data.name===ai.ENDCARD_CLICK)),Er=()=>{if(uh())return!1;let e=rh();if(e.getOperatingSystem()===r9.Android||e.getOperatingSystem()===r9.Unknown)return!1;let t=new rn("6.12.0");return!e.getSdkVersion().isLessThanOrEqualTo(t)},Ea=(es=e=>{rg().emit({type:"cta",event:da.ENDCARD_CTA,data:{ctaUrl:e}})},t=!1,function(...n){!t&&(e||(es.apply(this,n),t=!0,e=window.setTimeout((()=>{t=!1,e=void 0}),300)))}),Eo=e=>!!e&&!![aa.video,aa.image,aa.endcard,aa.adaptiveCreativeEndcard].includes(e.getSceneType())&&e.getLastChanceEndcardConfig().enabled,Es=()=>nx({[tR.CLOSE]:(e,t=cm)=>()=>t().send(eQ.CLOSE),[tR.ADD_EVENT_LISTENER]:()=>(e,t,n=l5)=>{n().addEventListener(e,t)},[tR.EXIT_ALTERNATIVE]:(e,t=cm,n=lN,i=Eo)=>()=>{let e=rU(),r={type:eQ.NEXT};e&&(n(e.getId(),e.getSceneType()),i(e)&&(r={type:eQ.LAST_CHANCE_ENDCARD})),t().send(r)},[tR.IS_VIEWABLE]:(e,t=l1)=>()=>t().isViewable(),[tR.GET_VIEWABLE]:(e,t=l1)=>()=>t().isViewable(),[tR.GET_CURRENT_POSITION]:()=>u6,[tR.GET_DEFAULT_POSITION]:()=>u6,[tR.GET_EXPAND_PROPERTIES]:()=>u5,[tR.GET_MAX_SIZE]:()=>u3,[tR.GET_PLACEMENT_TYPE]:e=>e.getPlacementType.bind(e),[tR.GET_SCREEN_SIZE]:()=>u3,[tR.GET_STATE]:e=>e.getState.bind(e),[tR.OPEN]:(e,t=uh,n=En,i=Ea)=>t()?e=>n()?i(e):null:e=>{i(e,"CTA")},[tR.REMOVE_EVENT_LISTENER]:()=>(e,t,n=l5)=>{n().removeEventListener(e,t)},[tR.SET_ORIENTATION_PROPERTIES]:(e,t=Er)=>t()?e.setOrientationProperties.bind(e):()=>null,[tR.SHOW_ALTERNATIVE]:(e,t=cm)=>e=>t().send(e),[tR.NEXT]:(e,t=cm)=>e=>{dg.getValue().isLastChanceEndcardOverlayShowing||t().send(e)},[tR.GRANT_REWARD]:(e,t=n8,n=oz,i=sC)=>{let r=t().getMraidBridgeExt();return n({name:ai.GRANT_REWARD}),null==r||r.notifySuccessfulViewAd(),i(sv.REWARD_GRANTED,!0),()=>null}},Ei()),El=()=>nW(nx({},Es(),u2()),{supports:()=>e=>Object.values(tR).includes(e)}),Ed=class{getProxyMraid(){return new Proxy(this.originalMraid,this.getProxyHandler())}constructor(e=n8().getMraid(),t=El(),n=oz){this.originalMraid=e,this.commandHandlers=t,this.injectedEmitObservabilityEvent=n,this.getProxyHandler=()=>{let{commandHandlers:e,injectedEmitObservabilityEvent:t}=this;return{get:(n,i)=>e[i]?e[i](n):n[i]?n[i]:(t({name:ai.UNKNOWN_MRAID_COMMAND,value:i}),()=>!1)}}}},Ec=e=>{e.addEventListener("load",(()=>{oz({name:ai.ENDCARD_LOAD_COMPLETE,scene_id:rU().getId()})}))},Eu=e=>{let t=/(?:window\.)?(?:top\.|parent\.)?(?:window\.)?(?:location(?:\.href)?)\s*=\s*([^;]+?)(;|\s*<\/script>|$)/g;return t.test(e)?e.replace(t,((e,t,n)=>`mraid.open(${t})${n}`)):e},EE=(e,t,n,i=cY,r=de)=>{e&&e.document.addEventListener(cH(),(e=>{(null==e?void 0:e.isTrusted)&&r(as.CLICK_THROUGH,n,t),i(e,!1)}),!0)},E_=e=>e.replace(/(top\.window\.open|top\.mraid\.open|parent\.window\.open|parent\.mraid\.open)\((.*?)\)/g,"mraid.open($2)"),Ev=()=>{let e=nU.getInstance(),t=aC.getServiceIdentifier();return e.get(t)},ET=(e,t)=>{Object.defineProperty(e,t,{configurable:!1,enumerable:!0,value:e[t],writable:!1})},Eh=e=>{let t=e.addEventListener;e.addEventListener=(n,i,r)=>{"beforeunload"!==n&&t.call(e,n,i,r)}},ES=class extends ul{getIframeHTML(){return this.scene.isAlternative()?this.decodeHtml(this.scene.endcardContent,!1):this.decodeHtml(this.scene.endcardContent,this.scene.compressionType===ty.GZIP)}getCloseButtonConfig(){let e=this.scene.getCloseButtonConfig(),t=this.scene instanceof u0&&1===this.scene.index;return nW(nx({},e),{delay:!t&&this.globalTimerService.isEnabled()?this.globalTimerService.getEndcardPageCloseButtonDelaySeconds():e.delay})}initMraidInIframeForFullscreen(e){if(!e)return;let t=this.proxyMraidService.getProxyMraid();e.mraid=t,ET(e,"mraid"),e.open=e=>t.open(e)}initMraidInIframeForNonFullscreen(e){let t=e.contentWindow;t.mraid=this.proxyMraidService.getProxyMraid(),ET(t,"mraid"),t.open=()=>null;let n=e=>{if(e.isTrusted){var i,r,a;t.document.removeEventListener("click",n,!0),t.open=e=>Ea(e);let o=e.target.closest("a");(null==o||null===(i=o.href)||void 0===i?void 0:i.startsWith("http"))?e.preventDefault():null===(r=(a=e.target).click)||void 0===r||r.call(a)}},i=e=>{var t;if(e&&!e.isTrusted)return void e.preventDefault();let{target:n}=e,i=n.closest("a");(null==i||null===(t=i.href)||void 0===t?void 0:t.startsWith("http"))&&(e.preventDefault(),Ea(i.href))},r=()=>{var e;"loading"!==(null===(e=t.document)||void 0===e?void 0:e.readyState)?(t.document.addEventListener("click",n,{capture:!0}),t.document.addEventListener("click",i,{capture:!0})):requestAnimationFrame(r)};requestAnimationFrame(r)}injectMethodToIframe(e){uh()?this.initMraidInIframeForNonFullscreen(e):this.initMraidInIframeForFullscreen(e.contentWindow)}decompressEncodedEndcard(e){let t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e+=1)n[e]=t.charCodeAt(e);return function(e){if(ch)return ch.decode(e);var t=cS(e),n=t.s;return t.r.length&&d6(8),n}(cT(n)).toString()}decodeHtml(e,t){try{let n;n=t&&this.placementTypeService.isFullscreen()?this.decompressEncodedEndcard(e):uV(e);let i=u1(n),r=Eu(i);return E_(r)}catch(e){return void this.errorLoggingService.emit({type:"error-logging",event:o3.EXCEPTION,data:{error:{message:"Failed to decode endcard"}}})}}addEndcardClickListener(e){if(this.scene.isAlternative())return;let t=this.scene;EE(e,t.getEventMapConfig(),t.getId())}updateIframeContent(e,t){if(null==e?void 0:e.current){var n;let i=null===(n=e.current)||void 0===n?void 0:n.contentWindow,r=null==i?void 0:i.document;uT(i),Eh(i),this.injectMethodToIframe(e.current);try{r.open(),uS(i),Ec(i),this.addEndcardClickListener(i),r.write('<base target="_parent"><style>body {margin: 0;padding: 0;overflow: hidden;}</style>'+(null!=t?t:"")),r.close()}catch(e){this.errorLoggingService.emit({type:"error-logging",event:o3.EXCEPTION,data:{error:{message:"Failed to write endcard to iframe"}}})}}}constructor(e,t=rg(),n=rA(),i=rh(),r=rS(),a=new Ed,o=Ev()){super(),this.scene=e,this.ctaReportingService=t,this.errorLoggingService=n,this.environmentService=i,this.placementTypeService=r,this.proxyMraidService=a,this.globalTimerService=o}},Ep=function(e,t,n=o2()){let i=a5((()=>n.createMachine(e,t)),[e]),r=oI(i.initialState),[a,o]=a5((()=>{let e=n.interpret(i),t=e.subscribe((e=>{r.value=e}));return[e,t]}),[i]);return a2((()=>(a.status!==r5.Running&&a.start(),()=>{o.unsubscribe(),a.stop()})),[a]),[r,a.send,a,e]};(el=tw||(tw={})).SHOW="ASOD_SHOW",el.CLOSE="ASOD_CLOSE",(ed=tP||(tP={})).INITIAL="ASOD_INITIAL",ed.SHOWN="ASOD_SHOWN",(ec=tb||(tb={})).SET_DELAY="ASOD_SET_DELAY",ec.OPEN_APP_STORE="ASOD_OPEN_APP_STORE";var Eg=()=>{let e=nU.getInstance(),t=sc.getServiceIdentifier();return e.get(t)};const EC=e=>({id:`app-store-on-delay-${e}`,initial:tP.INITIAL,context:{delay:0},states:{[tP.INITIAL]:{on:{[tw.SHOW]:{target:tP.SHOWN,actions:[tb.SET_DELAY]}}},[tP.SHOWN]:{entry:[tb.OPEN_APP_STORE]}}}),EO={actions:{[tb.SET_DELAY]:nQ({delay:(e,t)=>t.delay}),[tb.OPEN_APP_STORE]:e=>{Eg().openStoreViewWithDelay(e.delay)}}};var EA=(e,t,n=!0)=>{let[,i]=Ep(EC(e),EO);a2((()=>t.enabled&&n?(i({type:tw.SHOW,delay:t.autoShowDelay}),()=>{Eg().reset()}):()=>{}),[n])};const EI=oc(!1);var Em=(e,t=!0,n=se(),i=o5())=>{let r=()=>e.enabled&&EI.value&&t?(n.send({type:eP.START_DELAY_SHOW,config:e}),()=>{null==i||i.reset()}):()=>{};om(r),a2(r,[t]),a2((()=>{e.enabled&&(null==i||i.initializeForComponent((e=>{EI.value=e}),10,500))}),[])};tV="oAV7cW_endcard",tM="oAV7cW_endcardIframe";var Ef=({sendAdEvent:e,htmlService:t,scene:n})=>{let i=a3(null),[r,a]=(aX=1,function(e){var t=a1(aF++,2);if(t.t=e,!t.__c&&(t.__=[oe(void 0,!1),function(e){var n=t.__N?t.__N[0]:t.__[0],i=t.t(n,e);n!==i&&(t.__N=[i,t.__[1]],t.__c.setState({}))}],t.__c=aK,!aK.u)){var n=function(e,n,r){if(!t.__c.__H)return!0;var a=t.__c.__H.__.filter((function(e){return!!e.__c}));if(a.every((function(e){return!e.__N})))return!i||i.call(this,e,n,r);var o=!1;return a.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&t.__c.props===e)&&(!i||i.call(this,e,n,r))};aK.u=!0;var i=aK.shouldComponentUpdate,r=aK.componentWillUpdate;aK.componentWillUpdate=function(e,t,a){if(this.__e){var o=i;i=void 0,n(e,t,a),i=o}r&&r.call(this,e,t,a)},aK.shouldComponentUpdate=n}return t.__N||t.__}(oe));return a2((()=>{r&&requestAnimationFrame((()=>{let e=t.getIframeHTML(n);t.updateIframeContent(i,e)}))}),[r]),oy("iframe",{id:"endcardIframe",title:"endcard",onLoad:()=>{e({type:eQ.PRIVACY_LOGO_SHOW}),a(!0)},ref:i,className:tM,allow:"autoplay",scrolling:"no",frameBorder:"0"})},EN=(...e)=>e.filter(Boolean).join(" "),ED=(e,t)=>{a2((()=>{let n=window.setInterval((()=>{var i;(null===(i=e.current)||void 0===i?void 0:i.complete)&&(t({type:eQ.PRIVACY_LOGO_SHOW}),window.clearInterval(n))}),100);return()=>{window.clearInterval(n)}}),[])};(tk||(tk={})).FSC="FSC";var Ey=tk,ER=class{clickHandler(e){this.reportingService.emit({type:"fsc",event:Ey.FSC,data:{ctaUrl:e,appsFlyerEvent:sr.CLICK_TO_APP}})}constructor(e=rC()){this.reportingService=e}};tU="_7pzQ5q_hidden",tB="_7pzQ5q_overlayCta";const EL=oc(!1),Ew=(e,t)=>{EL.value=t.event===sR.MINIMIZED},EP=e=>e?`${e}-fullscreen-overlay`:"fullscreen-overlay";var Eb=({config:e,ctaUrl:t,service:n=new ER,reportingService:i=rD(),children:r})=>(a2((()=>(i.addEventHandler("viewability",Ew),()=>{i.removeEventHandler("viewability",Ew)})),[]),oy(aR,{children:[e.enabled&&oy("button",{className:EN(tB,EL.value?tU:""),type:"button",id:EP(e.id),"aria-label":"fsc","aria-hidden":EL.value,onClick:()=>n.clickHandler(t)}),r]})),EV=e=>{let[t]=Ep(lw(e),lP);return t};const EM=[ck,ls,lu,ld,lc,cM,cb,cV,"last-chance-endcard-app-icon","last-chance-endcard-app-name","last-chance-endcard-cta",s7],Ek=(e,t=!0,n=sn,i=s$())=>{cB(e.target,EM)&&n(sr.ENGAGED_CLICK,void 0,i,t)};var EU=(e=!0,t=!0)=>{let n=!e&&t,i=e=>{Ek(e,t)};a2((()=>(n&&document.body.addEventListener("click",i,!0),()=>{n&&document.body.removeEventListener("click",i,!0)})),[])};tH="poFP6W_animate",tx="poFP6W_backgroundNone",tW="poFP6W_button",tF="poFP6W_icon",tK="poFP6W_lastChanceEndCard",tG="poFP6W_name",tY="poFP6W_opaque",tX="poFP6W_overlay";const EB=oc(!1);var EH=({config:e,sendAdEvent:t=()=>{},backgroundNone:n=!1,injectedEmitObservabilityEvent:i=oz,onVisibilityChange:r})=>{var a,o,s,l,d,c,u,E;let _=a3(null),v=EV(e.id);ED(_,t),EU(e.enabled,e.appsFlyerEnabled);let T=()=>{rV().emit({type:"cta",event:da.LAST_CHANCE_ENDCARD_CTA,data:{appsFlyerEvent:sr.CLICK_TO_APP}}),EB.value=!0,i({name:ai.LAST_CHANCE_ENDCARD_CTA_BUTTON_CLICK})};return a2((()=>{r(e.enabled&&!v.value.matches(e9.HIDDEN))}),[e.enabled,v.value]),!e.enabled||v.value.matches(e9.HIDDEN)?null:oy("div",{className:EN(tX,null!=(null===(a=e.appMeta)||void 0===a?void 0:a.icon)?tY:""),id:"last-chance-endcard-overlay",children:oy(Eb,{config:{enabled:!!(null===(o=e.fsc)||void 0===o?void 0:o.enabled)},children:[oy(uv,{sendAdEvent:t,config:null!==(E=e.close)&&void 0!==E?E:{},showLastChanceEndcard:!1,beforeClick:()=>{lN(ar.lastChanceEndcard,ar.lastChanceEndcard)}}),oy("div",{className:EN(tK,n?tx:""),id:"last-chance-endcard",children:[(null===(s=e.appMeta)||void 0===s?void 0:s.icon)&&oy("img",{className:tF,ref:_,src:null===(l=e.appMeta)||void 0===l?void 0:l.icon,alt:null===(d=e.appMeta)||void 0===d?void 0:d.name,id:"last-chance-endcard-app-icon",onClick:T,"aria-hidden":"true"}),oy("p",{className:tG,id:"last-chance-endcard-app-name",onClick:T,"aria-hidden":"true",children:null===(c=e.appMeta)||void 0===c?void 0:c.name}),oy("button",{type:"button",className:EN(tW,EB.value?"":tH),"data-animate":!EB.value,onClick:T,id:"last-chance-endcard-cta",children:null===(u=e.cta)||void 0===u?void 0:u.text})]})]})})},Ex=e=>{a2((()=>(e&&e({type:eQ.CLOSE_BUTTON_MOUNT}),()=>{e&&e({type:eQ.CLOSE_BUTTON_UNMOUNT})})),[])},EW=class extends nB{openCTAWithMraid(){var e;this.url&&(null===(e=this.mraidService.getMraid())||void 0===e||e.open(this.url))}openOverlayView(){this.storeKitOverlayInterpreter.send({type:eP.START_IMMEDIATE_SHOW})}openProductView(){var e;null===(e=this.productViewService)||void 0===e||e.open()}handleOverlayViewCTA(){var e;this.isStoreKitOverlaySupported?this.openOverlayView():(null===(e=this.productViewService)||void 0===e?void 0:e.canOpen())?this.openProductView():this.openCTAWithMraid()}notifyClickEventToEDsp(){let{isClickEventFromIframe:e,url:t}=this;e&&t&&l6(t)}handleProductViewCTA(){var e,t;null!==(e=this.productViewService)&&void 0!==e&&e.isOpen()||(this.shouldReplaceShowStoreKitOverlay?this.openOverlayView():this.appStoreId&&(null===(t=this.productViewService)||void 0===t?void 0:t.canOpen())?(this.openProductView(),this.notifyClickEventToEDsp()):this.openCTAWithMraid())}invoke(e){let{target:t,url:n,shouldReplaceShowStoreKitOverlay:i,isClickEventFromIframe:r}=e;if(this.injectedFireMMPEvents(),this.url=n||this.ctaButtonUrl,this.shouldReplaceShowStoreKitOverlay=null!=i&&i,this.isClickEventFromIframe=null!=r&&r,this.environmentService.getOperatingSystem()===r9.iOS)switch(t){case ao.OFF:this.openCTAWithMraid();break;case ao.SKO:this.handleOverlayViewCTA();break;case ao.SKPV:default:this.handleProductViewCTA()}else this.openCTAWithMraid()}static getServiceIdentifier(){return"CallToActionServiceInterface"}constructor(e=n8(),t=rh(),n=sd(),i=se(),r=ox(),a=oW(),o=sY(),s=uR){super(),this.mraidService=e,this.environmentService=t,this.productViewService=n,this.storeKitOverlayInterpreter=i,this.isStoreKitOverlaySupported=r,this.appStoreId=a,this.ctaButtonUrl=o,this.injectedFireMMPEvents=s,this.url="",this.shouldReplaceShowStoreKitOverlay=!1,this.isClickEventFromIframe=!1}},EF=()=>{let e=nU.getInstance(),t=EW.getServiceIdentifier();return e.get(t)},EK=({callToActionConfig:e,eventMapConfig:t,isFromAndroidProductView:n,sceneId:i,shouldReplaceShowStoreKitOverlay:r,callToActionService:a=EF(),injectedEmitTpatEvent:o=sC,injectedEmitSceneEvent:s=de})=>uo("cta",((l,d)=>{if((d.event!==da.ANDROID_INSTALL_BUTTON_CTA||n)&&e){var c,u;let{target:n,url:l}=e,E=d.event===da.ENDCARD_CTA;a.invoke({target:n,url:null!==(u=null===(c=d.data)||void 0===c?void 0:c.ctaUrl)&&void 0!==u?u:l,shouldReplaceShowStoreKitOverlay:r,isClickEventFromIframe:E}),o(sv.DOWNLOAD_CTA_CLICK),s(as.CLICK_THROUGH,i,t)}})),EG=()=>{let e=nU.getInstance(),t=lX.getServiceIdentifier();if(e.has(t))return e.get(t)};const EY=(e,t)=>{let n=EG();if(n)switch(t.event){case da.ENDCARD_CTA:n.onCtaClick();break;case tt.REMOVE_HANDLER:s$().removeEventHandler(t.type,EY)}};var EX=({eventMapConfig:e,fullScreenClickConfig:t,sceneId:n,shouldReplaceShowStoreKitOverlay:i,callToActionService:r=EF(),injectedEmitTpatEvent:a=sC,injectedEmitSceneEvent:o=de})=>uo("fsc",(()=>{(null==t?void 0:t.enabled)&&(r.invoke({target:t.target,url:t.ctaUrl,shouldReplaceShowStoreKitOverlay:i}),a(sv.DOWNLOAD_FULLSCREEN_CLICK),o(as.CLICK_THROUGH,n,e))}));(tj||(tj={})).APP_META_UPDATE="APP_META_UPDATE";var Ej=tj,Ez=(e,t=rb())=>{a2((()=>{var n;e&&"function"==typeof e.getCallToActionConfig&&t.emit({type:"app-meta",event:Ej.APP_META_UPDATE,data:null!==(n=e.getCallToActionConfig().appMeta)&&void 0!==n?n:{enabled:!1}})}),[])};const Eq=oc(!1);var E$=({scene:e,sendAdEvent:t,shouldRenderIFrame:n=!0,isCloseButtonVisible:i=!0})=>{let r=new ES(e);return EA(e.getId(),e.getAppStoreOnDelayConfig()),Em(e.getStoreKitOverlayAutoShowConfig()),EK({callToActionConfig:Eq.value?e.getLastChanceEndcardConfig().cta:e.getCallToActionConfig(),eventMapConfig:e.isAlternative()?void 0:e.getEventMapConfig(),sceneId:e.getId()}),EX({fullScreenClickConfig:Eq.value?e.getLastChanceEndcardConfig().fsc:void 0,eventMapConfig:e.getEventMapConfig(),sceneId:e.getId()}),uo("cta",((e,t)=>{Eq.value||EY(e,t)})),Ex(t),l9(),Ez(e),cX(Eq.value),a2((()=>{t({type:eQ.CREATIVE_VIEW})}),[]),oy(aR,{children:[oy(EH,{config:e.getLastChanceEndcardConfig(),sendAdEvent:t,onVisibilityChange:e=>{Eq.value=e}}),oy("div",{className:tV,id:e.getId(),children:[i&&!Eq.value&&oy(uv,{sendAdEvent:t,config:r.getCloseButtonConfig(),showLastChanceEndcard:e.getLastChanceEndcardConfig().enabled}),n&&oy(Ef,{sendAdEvent:t,htmlService:r,scene:e})]})]})};(eu=tz||(tz={})).CALL="CALL",eu.DONE="DONE",(eE=tq||(tq={})).IDLE="IDLE",eE.BUSY="BUSY";const EZ=e=>({id:`throttle-${e}`,initial:tq.IDLE,context:{},states:{IDLE:{on:{[tz.CALL]:{target:tq.BUSY}}},BUSY:{on:{[tz.DONE]:{target:tq.IDLE}}}}});var EQ=(e,t=rG())=>{let n=t.find((t=>t.getId()===e.value));if(!n)throw Error(`No scene found for state ${e.value}`);return n},EJ=()=>{let e=cm(),t=e.send,n=oI(e.state),i=Ep(EZ("ad")),[r,a]=i;rk.setValue({scene:EQ(n.value)});let o=a5((()=>e=>{[eQ.NEXT,eQ.LAST_CHANCE_ENDCARD,eQ.LAST_CHANCE_ENDCARD_CLOSE].includes(e.type)?r.value.matches(tq.IDLE)&&(a({type:tz.CALL}),t(e),window.setTimeout((()=>{a({type:tz.DONE})}),500)):t(e)}),[i]);return a2((()=>{let t=e.subscribe((e=>{rk.setValue({scene:EQ(e)}),n.value=e,e.changed&&oz({name:ai.SCENE_CHANGE,value:e.value})}));return()=>{t.unsubscribe()}}),[e]),om((()=>{let e=oM(),i=rV(),r=()=>{var e;i.emit({type:"custom-mraid",event:s6.CLOSE,data:nx({isVideoState:(null===(e=EQ(n.value))||void 0===e?void 0:e.getSceneType())===aa.video,sendAdEvent:t},n.value.context)})};return null==e||e.addEventListener(s6.CLOSE,r),()=>{null==e||e.removeEventListener(s6.CLOSE,r)}})),[n,o]};(e_=t$||(t$={})).ASOI_INTERACTION="asoi-interaction",e_.ASOI_COMPLETE="asoi-complete",e_.CTA_CLICK="cta-click";var E0=t$;const E1=Object.freeze({APP_STORE:"off",PRODUCT_VIEW:"product_view",OVERLAY_VIEW:"overlay_view",DEFAULT:"default"}),E2=e=>{let t={[t_.CTA]:sv.DOWNLOAD_CTA_CLICK,[t_.ASOI_COMPLETE]:sv.ASOI_COMPLETE,[t_.ASOI_INTERACTION]:sv.ASOI_INTERACTION}[e];t&&sC(t)},E3=e=>e.replace("-","_"),E5=()=>{var e,t,n;let i=n7(),r=null!==(e=i.get(n9.SK_ASOI_AGGRESSIVE))&&void 0!==e?e:"",a=null!==(t=i.get(n9.SK_ASOI_COMPLETE))&&void 0!==t?t:"",o=null!==(n=i.get(n9.SK_CTA_ONLY))&&void 0!==n?n:"";return{[t_.ASOI_COMPLETE]:{eventType:E0.ASOI_COMPLETE,storeKitDisplayMethod:a},[t_.ASOI_INTERACTION]:{eventType:E0.ASOI_INTERACTION,storeKitDisplayMethod:r},[t_.CTA]:{eventType:E0.CTA_CLICK,storeKitDisplayMethod:o}}},E6=e=>{let t=o6(),n=n7(),i=n.get(n9.SKOVERLAY_POSITION),r=n.get(n9.SKOVERLAY_DISMISSIBLE);"default"===i&&(null==e?void 0:e.position)&&(null==t||t.setOverlayPosition(e.position)),"default"===r&&void 0!==(null==e?void 0:e.dismissible)&&(null==t||t.setOverlayDismissible(e.dismissible))},E4=e=>{let t=cP(),{eventType:n,storeKitDisplayMethod:i}=E5()[e];if(i===E1.DEFAULT){let e=t.getSkPresentationSettingsArray().find((e=>e.eventType===n));if(e){let{presentationType:t,presentationOptions:n}=e,i=E3(t);return i===E1.OVERLAY_VIEW&&n&&ox()&&E6(n),i}}return i},E8=e=>{switch(e){case t_.CTA:case t_.ASOI_COMPLETE:case t_.ASOI_INTERACTION:return E4(e);default:return E1.DEFAULT}};var E7=(e,t)=>{let n,i=t.event;t.event in t_&&(uR(),rh().getOperatingSystem()===r9.iOS&&(E2(i),n=ub(E8(i))),EF().invoke({target:n,url:sY()}))},E9=class{getCloseButtonConfig(e){let t=e.getCloseButtonConfig();return nW(nx({},t),{delay:this.globalTimerService.isEnabled()?this.globalTimerService.getEndcardPageCloseButtonDelaySeconds():t.delay})}isMuted(){return this.muteService.isMuted()}constructor(e=Ev(),t=lD()){this.globalTimerService=e,this.muteService=t}};tZ="__WwAW_adaptiveCreativeEndcard",tQ="__WwAW_adaptiveCreativeEndcardIframe";const _e=oc(!1);var _t=({scene:e,sendAdEvent:t,shouldRenderIFrame:n=!0,isCloseButtonVisible:i=!0})=>{let r=a3(null),a=new E9;return Ex(t),uo("cta",((e,t)=>{_e.value||E7(e,t)})),EX({fullScreenClickConfig:_e.value?e.getLastChanceEndcardConfig().fsc:void 0}),EK({callToActionConfig:_e.value?e.getLastChanceEndcardConfig().cta:void 0}),a2((()=>{let t=r.current;e.isRemoteEndcardUrl()?e.loadRemoteEndcardContentIntoIframe(t,a.isMuted()):t.src=e.getAdaptiveCreativeEndcardUrl(a.isMuted())}),[]),cX(_e.value),oy(aR,{children:[oy(EH,{config:e.getLastChanceEndcardConfig(),sendAdEvent:t,onVisibilityChange:e=>{_e.value=e}}),oy("div",{className:tZ,id:e.getId(),children:[i&&!_e.value&&oy(uv,{config:a.getCloseButtonConfig(e),showLastChanceEndcard:e.getLastChanceEndcardConfig().enabled,sendAdEvent:t}),n&&oy("iframe",{onLoad:()=>{t({type:eQ.PRIVACY_LOGO_SHOW})},id:"adaptive-creative-endcard-iframe",title:"Adaptive Creative Endcard",className:tQ,allow:"autoplay",scrolling:"no",frameBorder:"0",ref:r})]})]})};(ev=tJ||(tJ={}))[ev.LEFT=0]="LEFT",ev[ev.RIGHT=1]="RIGHT",ev[ev.UP=2]="UP",ev[ev.DOWN=3]="DOWN",(eT=t0||(t0={}))[eT.HORIZONTAL=0]="HORIZONTAL",eT[eT.VERTICAL=1]="VERTICAL";const _i=oc(0),_n=oc(0),_r=oc(!1),_a=oc(0);var _o=({children:e,onSwipeLeft:t,onSwipeRight:n,onSwipeUp:i,onSwipeDown:r})=>{let a=a3(null),o=(e,t)=>Math.abs(e)>Math.abs(t),s=(e,t)=>o(e,t)?e>0?1:0:t>0?3:2,l=(e,t)=>o(e,t)?Math.abs(e):Math.abs(t),d=(e,t)=>{let n=e-_i.value,i=t-_n.value;return{Direction:s(n,i),Orientation:o(n,i)?0:1,Distance:l(n,i),DeltaX:n,DeltaY:i}};return oy("div",{ref:a,title:"swipe",onTouchStart:e=>{_r.value=!0;let t=0,n=0;e instanceof TouchEvent?(t=e.touches[0].clientX,n=e.touches[0].clientY):e instanceof MouseEvent?(t=e.clientX,n=e.clientY):(t=e.detail.clientX,n=e.detail.clientY),_i.value=t,_n.value=n,_a.value=Date.now()},onTouchEnd:e=>{var o;let s=null==a||null===(o=a.current)||void 0===o?void 0:o.childNodes;if(!_r||!s)return;let{endX:l,endY:c}=(e=>{var t,n,i,r;return e instanceof TouchEvent?{endX:e.changedTouches[0].clientX,endY:e.changedTouches[0].clientY}:e instanceof MouseEvent?{endX:e.clientX,endY:e.clientY}:{endX:null!==(i=null===(t=e.detail)||void 0===t?void 0:t.clientX)&&void 0!==i?i:0,endY:null!==(r=null===(n=e.detail)||void 0===n?void 0:n.clientY)&&void 0!==r?r:0}})(e),u=d(l,c),E=s[0],_=0===u.Orientation?E.clientWidth:E.clientHeight;if(((e,t)=>Date.now()-_a.value>200||e.Distance>=.15*t)(u,_)&&((e,t)=>e.Distance>=.3*t)(u,_)){switch(u.Direction){case 0:t&&t();break;case 1:n&&n();break;case 3:r&&r();break;default:i&&i()}_r.value=!1}},children:e})},_s=({id:e="star",index:t=0,size:n,offset:i=100})=>{let r=`${e}-gradient-${t}`;return oy("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 100 100",children:[oy("defs",{children:oy("linearGradient",{id:r,x1:"0",x2:"100%",y1:"0",y2:"0",children:[oy("stop",{offset:"0%","stop-color":"#ffd055"}),oy("stop",{offset:`${i}%`,"stop-color":"#ffd055"}),oy("stop",{offset:`${i}%`,"stop-color":"#ddd"})]})}),oy("path",{d:"M50,0,64.69463130731182,29.774575140626315,97.55282581475768,34.54915028125263,73.77641290737884,57.72542485937368,79.38926261462366,90.45084971874736,50,75,20.61073738537635,90.45084971874738,26.223587092621162,57.72542485937369,2.447174185242318,34.549150281252636,35.30536869268816,29.774575140626318Z",fill:`url(#${r})`,"stroke-linejoin":"round","stroke-linecap":"round"})]})},_l=class{getOffsetPercent(e,t){let n=Math.floor(t);return e<n?100:e>n?0:Math.ceil(t%1*100/this.unitValue)*this.unitValue}constructor(){this.unitValue=10}};const _d=12,_c=5,_u=0;var _E=({id:e,size:t=12,count:n=5,value:i=0})=>{let r=[],a=new _l;for(let o=0;o<n;o+=1){let n=a.getOffsetPercent(o,i);r.push(oy(_s,{id:e,index:o,size:t,offset:n},o))}return oy("span",{id:e,children:r})},__=class{doneAction(e,t=150){this.viewableService.resetViewable(),this.timerService.getNewTimer(t,(()=>{e({type:eQ.PRODUCT_VIEW_CLOSE})})).start()}installAction(){this.reportingService.emit({type:"cta",event:da.ANDROID_INSTALL_BUTTON_CTA,data:{appsFlyerEvent:sr.CLICK_TO_APP}})}isSupported(){return uy(this.environmentService,this.tokenService)}constructor(e=rh(),t=n7(),n=rg(),i=o2(),r=o1(),a=l1()){this.environmentService=e,this.tokenService=t,this.reportingService=n,this.stateMachineService=i,this.timerService=r,this.viewableService=a}};const _v={actions:[],context:{delay:0},matches:()=>!1,value:eH.HIDDEN};var _T=(e=o2(),t=s0)=>{let n=a5((()=>e.machineMap.get(t)),[t]),i=oI(_v),r=a5((()=>{let e=sd();return null==e?void 0:e.subscribe((e=>{i.value=e}))}),[n]);return a2((()=>()=>{null==r||r.unsubscribe()}),[n,r]),i};t1="d9Dawa_aboutGame",t2="d9Dawa_androidProductView",t3="d9Dawa_appHeader",t5="d9Dawa_appIcon",t6="d9Dawa_appInfo",t4="d9Dawa_carousel",t8="d9Dawa_doneHeader",t7="d9Dawa_hidden",t9="d9Dawa_install",ie="d9Dawa_installBtn",it="d9Dawa_padding",ii="d9Dawa_productView",ir="d9Dawa_reviewCard",ia="d9Dawa_reviewColumn",io="d9Dawa_reviewInfo",is="d9Dawa_slide",il="d9Dawa_wrapper";const _h=oc(new Date);var _S=({androidProductViewService:e=new __,sendAdEvent:t,androidProductViewConfig:n})=>{var i,r,a,o,s,l,d,c,u,E,_,v,T,h,S,p,g,C,A;let{stateMachineService:O}=e,I=_T(O),m=()=>{let n=Date.now()-_h.value.getTime();Number.isNaN(n)||n<1e3||e.doneAction(t,150)};if(EK({callToActionConfig:n.cta,isFromAndroidProductView:!0}),a2((()=>{_h.value=new Date}),[]),!e.isSupported())return null;let N=n.cta;return oy(_o,{onSwipeDown:m,children:oy("div",{className:EN(t2,I.value.matches(eH.SHOWING)?"":t7),id:"android-product-view","data-state":I.value.matches(eH.SHOWING)?"visible":"hidden",children:oy("div",{className:il,children:[oy("div",{children:oy("div",{className:t8,children:oy("button",{type:"button",id:"android-product-view-done",onClick:m,children:"Done"})})}),oy("div",{className:ii,children:[oy("div",{className:it,children:[oy("div",{className:t3,children:[(null===(i=N.appMeta)||void 0===i?void 0:i.icon)&&oy("img",{className:t5,src:null===(r=N.appMeta)||void 0===r?void 0:r.icon,alt:null===(a=N.appMeta)||void 0===a?void 0:a.name,id:"android-product-view-app-icon"}),oy("div",{className:t6,children:[oy("h1",{children:null===(o=N.appMeta)||void 0===o?void 0:o.name}),oy("h2",{children:null===(s=N.appMeta)||void 0===s?void 0:s.company}),oy("p",{children:"Contains ads  In-app purchases"})]})]}),oy("div",{className:EN(io,(null===(l=N.appMeta)||void 0===l?void 0:l.downloads)?"":ia),children:[oy("div",{className:ir,children:[oy("h2",{children:(null===(d=N.appMeta)||void 0===d?void 0:d.isRatingGreaterThanMinimum)&&oy(_E,{value:null===(c=N.appMeta)||void 0===c?void 0:c.rating,id:"android-product-view-app-rating"})}),(null===(u=N.appMeta)||void 0===u?void 0:u.ratingCount)&&oy("p",{children:[oy("span",{children:null===(E=N.appMeta)||void 0===E?void 0:E.ratingCount}),oy("span",{children:" reviews"})]})]}),(null===(_=N.appMeta)||void 0===_?void 0:_.downloads)&&oy("div",{className:ir,children:[oy("h2",{children:null===(v=N.appMeta)||void 0===v?void 0:v.downloads}),oy("p",{children:"Downloads"})]}),oy("div",{className:ir,children:[oy("h2",{children:(null===(T=N.appMeta)||void 0===T?void 0:T.contentRatingImg)?oy("img",{src:null===(h=N.appMeta)||void 0===h?void 0:h.contentRatingImg,alt:null===(S=N.appMeta)||void 0===S?void 0:S.contentRating}):null===(p=N.appMeta)||void 0===p?void 0:p.contentRating}),oy("p",{children:"content"})]})]}),oy("div",{className:t9,children:oy("button",{className:ie,type:"button",onClick:()=>e.installAction(),children:"Install"})})]}),oy("div",{className:t4,id:"android-product-view-screenshots",children:(null!==(A=null===(g=N.appMeta)||void 0===g?void 0:g.screenshots)&&void 0!==A?A:[]).map((e=>e&&oy("div",{className:is,children:oy("img",{alt:e,src:e})},e)))}),oy("div",{className:it,children:oy("div",{className:t1,children:[oy("h1",{children:"About this game"}),oy("p",{children:null===(C=N.appMeta)||void 0===C?void 0:C.description})]})})]})]})})})};id="wnLcbW_closeIcon",ic="wnLcbW_fallback";var _p=()=>(a2((()=>{uy()||o1().getNewTimer(500,(()=>{sQ()})).start()}),[]),oy("div",{id:"app-store-transition-fallback",className:ic,children:oy("button",{title:"Close","aria-label":"Close",id:ls,type:"button",onClick:()=>{sQ()},style:id,children:oy("div",{className:id})})})),_g=class extends aL{componentDidCatch(e,t){rV().emit({type:"error-logging",event:o3.EXCEPTION,data:{error:{message:e.message,stack:`Stack trace:\n${e.stack}\n\nError info:\n${JSON.stringify(t)}\n`}}})}render(){let{children:e}=this.props;return e}},_C=class{getConsentTitleText(){var e,t,n,i,r,a;return null!==(a=null!==(r=null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getConsentTitleText)||void 0===e?void 0:e.call(t))&&void 0!==r?r:null===(i=this.mraidService.getMraid())||void 0===i||null===(n=i.getConsentTitleText)||void 0===n?void 0:n.call(i))&&void 0!==a?a:"Ad-Interaction Data Collection"}getConsentBodyText(){var e,t,n,i,r,a;return null!==(a=null!==(r=null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getConsentBodyText)||void 0===e?void 0:e.call(t))&&void 0!==r?r:null===(i=this.mraidService.getMraid())||void 0===i||null===(n=i.getConsentBodyText)||void 0===n?void 0:n.call(i))&&void 0!==a?a:"With permission, Liftoff collects your ad-interaction data to serve relevant ads to you. Note: you'll see ads independent of your selection, but they may not be as relevant. Do you consent to data tracking for more relevant ads?"}getConsentAcceptButtonText(){var e,t,n,i,r,a;return null!==(a=null!==(r=null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getConsentAcceptButtonText)||void 0===e?void 0:e.call(t))&&void 0!==r?r:null===(i=this.mraidService.getMraid())||void 0===i||null===(n=i.getConsentAcceptButtonText)||void 0===n?void 0:n.call(i))&&void 0!==a?a:"I consent"}getConsentDenyButtonText(){var e,t,n,i,r,a;return null!==(a=null!==(r=null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getConsentDenyButtonText)||void 0===e?void 0:e.call(t))&&void 0!==r?r:null===(i=this.mraidService.getMraid())||void 0===i||null===(n=i.getConsentDenyButtonText)||void 0===n?void 0:n.call(i))&&void 0!==a?a:"I do not consent"}consentAction(e){var t;null===(t=this.mraidService.getMraidBridgeExt())||void 0===t||t.consentAction(e)}constructor(e=n8()){this.mraidService=e}};iu="C4yOdG_bodyText",iE="C4yOdG_buttons",i_="C4yOdG_content",iv="C4yOdG_gdpr",iT="C4yOdG_header",ih="C4yOdG_icon",iS="C4yOdG_primaryButton",ip="C4yOdG_secondaryButton",ig="C4yOdG_title";var _O=({sendAdEvent:e=()=>{}})=>{let t=new _C,n=n=>{t.consentAction(n),e({type:eQ.NEXT})};return oy("div",{className:iv,id:"gdpr",children:[oy("div",{className:i_,children:[oy("header",{className:iT,children:[oy("span",{className:ih}),oy("h3",{id:"gdpr-title",className:ig,children:t.getConsentTitleText()})]}),oy("p",{id:"gdpr-body-text",className:iu,children:t.getConsentBodyText()})]}),oy("div",{className:iE,children:[oy("button",{type:"button",id:"gdpr-accept",className:iS,onClick:()=>n("opted_in"),children:t.getConsentAcceptButtonText()}),oy("button",{type:"button",id:"gdpr-deny",className:ip,onClick:()=>n("opted_out"),children:t.getConsentDenyButtonText()})]})]})};(eh=iC||(iC={})).SMALL_BANNER="smallBanner",eh.LARGE_BANNER="largeBanner",eh.MEDIUM_RECTANGLE="mediumRectangle",eh.FULLSCREEN="fullscreen";var _A=iC,_I=class extends ul{getCloseButtonConfig(){let e=this.scene.getCloseButtonConfig(),t=1===this.scene.index;return nW(nx({},e),{delay:!t&&this.globalTimerService.isEnabled()?this.globalTimerService.getEndcardPageCloseButtonDelaySeconds():e.delay})}getImageClass(){switch(this.scene.getImageType()){case _A.LARGE_BANNER:return"img81";case _A.SMALL_BANNER:return"img61";case _A.MEDIUM_RECTANGLE:return"img65";case _A.FULLSCREEN:return"fullscreenImage";default:return}}constructor(e,t=Ev()){super(),this.scene=e,this.globalTimerService=t}},_m={};n(_m,"fullscreenImage",(function(){return iO}),(function(e){return iO=e})),n(_m,"img61",(function(){return iA}),(function(e){return iA=e})),n(_m,"img65",(function(){return iI}),(function(e){return iI=e})),n(_m,"img81",(function(){return im}),(function(e){return im=e})),n(_m,"staticImageEndcard",(function(){return iN}),(function(e){return iN=e})),iO="J2DrKG_fullscreenImage",iA="J2DrKG_img61",iI="J2DrKG_img65",im="J2DrKG_img81",iN="J2DrKG_staticImageEndcard";const _f=oc(!1);var _N=({scene:e,sendAdEvent:t,isCloseButtonVisible:n=!0})=>{let i=new _I(e),r=a3(null),a=i.getImageClass();return EA(e.getId(),e.getAppStoreOnDelayConfig()),Em(e.getStoreKitOverlayAutoShowConfig()),ED(r,t),Ex(t),l9(),Ez(e),EX({fullScreenClickConfig:_f.value?e.getLastChanceEndcardConfig().fsc:e.getFullScreenClickConfig(),eventMapConfig:e.getEventMapConfig(),sceneId:e.getId()}),EK({callToActionConfig:_f.value?e.getLastChanceEndcardConfig().cta:void 0,eventMapConfig:e.getEventMapConfig(),sceneId:e.getId()}),a2((()=>{t({type:eQ.CREATIVE_VIEW})}),[]),cX(_f.value),oy(aR,{children:[oy(EH,{config:e.getLastChanceEndcardConfig(),sendAdEvent:t,onVisibilityChange:e=>{_f.value=e}}),oy("div",{className:_m.staticImageEndcard,children:oy(Eb,{config:e.getFullScreenClickConfig(),ctaUrl:e.getFullScreenClickConfig().ctaUrl,children:[n&&!_f.value&&oy(uv,{config:i.getCloseButtonConfig(),sendAdEvent:t,showLastChanceEndcard:e.getLastChanceEndcardConfig().enabled}),oy("img",{src:e.url,ref:r,className:a?_m[a]:"",alt:`${a} image`,id:e.getId()})]})})]})};(eS=iD||(iD={})).Native="native",eS.Custom="custom",eS.NotSupported="not-supported",(ep=iy||(iy={})).Manifest="manifest",ep.Video="video";var _D=function(e){if(null===e||"object"!=typeof e||"function"!=typeof e.getStreamManifest)return!1;let t=e.getStreamManifest();return void 0===t||!(null===t||"object"!=typeof t||void 0!==t.manifest&&"string"!=typeof t.manifest||void 0!==t.track_0&&"string"!=typeof t.track_0||!(void 0===t.chunks||Array.isArray(t.chunks)&&t.chunks.every((e=>"string"==typeof e||null!==e&&"object"==typeof e&&Object.values(e).every((e=>"string"==typeof e))))))};const _y=e=>{if("object"==typeof e)return Object.values(e).some((e=>_y(e)));let t=e.toLowerCase();return!t.startsWith("http://")&&!t.startsWith("https://")};var _R=e=>`file://${window.location.pathname.replace("index.html","")}${e}`,_L=class{getCachedFirstTrack(){var e,t;let n=null===(e=rk.getValue())||void 0===e?void 0:e.scene;if(!_D(n)||!this.hasCachedFirstTrack())return"";let i=null===(t=n.getStreamManifest())||void 0===t?void 0:t.track_0;return void 0===i?"":i}getCachedManifest(){var e,t;let n=null===(e=rk.getValue())||void 0===e?void 0:e.scene;if(!_D(n)||!this.hasCachedManifest())return"";let i=null===(t=n.getStreamManifest())||void 0===t?void 0:t.manifest;return void 0===i?"":i}getCachedVideoSegmentUrls(){var e,t,n,i;let r=null===(e=rk.getValue())||void 0===e?void 0:e.scene;return _D(r)&&null!==(i=null===(n=r.getStreamManifest())||void 0===n||null===(t=n.chunks)||void 0===t?void 0:t.map((e=>{if(_y(e))if("string"==typeof e){if(!e.toLowerCase().startsWith("file://"))return _R(e)}else if("object"==typeof e)return Object.entries(e).reduce(((e,[t,n])=>(e[t]=n.toLowerCase().startsWith("file://")?n:_R(n),e)),{});return e})))&&void 0!==i?i:[]}hasCachedFirstTrack(){var e,t;let n=null===(e=rk.getValue())||void 0===e?void 0:e.scene;return!!_D(n)&&!!(null===(t=n.getStreamManifest())||void 0===t?void 0:t.track_0)}hasCachedManifest(){var e,t;let n=null===(e=rk.getValue())||void 0===e?void 0:e.scene;return!!_D(n)&&!!(null===(t=n.getStreamManifest())||void 0===t?void 0:t.manifest)}hasCachedStreamChunks(){var e,t,n;let i=null===(e=rk.getValue())||void 0===e?void 0:e.scene;if(!_D(i))return!1;let r=null!==(n=null===(t=i.getStreamManifest())||void 0===t?void 0:t.chunks)&&void 0!==n?n:[];return 0!==r.length&&_y(r[0])}};class _w extends window.Hls.DefaultConfig.loader{openAndSendXhr(e,t,n){let i=new _L;this.hasCachedManifest(t,i)?this.loadFromString(i.getCachedManifest(),e,t):this.hasCachedLevel(t,i)?this.loadFromString(i.getCachedFirstTrack(),e,t):super.openAndSendXhr(e,t,n)}hasCachedLevel(e,t=new _L){return"type"in e&&"level"===e.type&&"id"in e&&0===(null==e?void 0:e.id)&&t.hasCachedFirstTrack()}hasCachedManifest(e,t=new _L){return"type"in e&&"manifest"===e.type&&t.hasCachedManifest()}loadFromString(e,t,n){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;let i={url:n.url,data:e,code:200};setTimeout((()=>{this.callbacks.onSuccess(i,this.stats,n,t)}),0)}}class _P extends window.Hls.DefaultConfig.loader{getLocalFileURL(e){let t=new _L,n=Number(e.sn),i=this.getIndexOffset(e);return t.getCachedVideoSegmentUrls()[n+i]}getIndexOffset(e){var t;return"initSegment"===(null===(t=e.initSegment)||void 0===t?void 0:t.sn)?-1:0}shouldLoadFromFileURL(e){if("main"!==e.type||"initSegment"===e.sn)return!1;let t=this.getLocalFileURL(e);return(null==t?void 0:t.length)>0&&_y(t)}async load(e,t,n){this.shouldLoadFromFileURL(e.frag)&&(e.url=this.getLocalFileURL(e.frag)),super.load(e,t,n)}readystatechange(){let{context:e,loader:t,stats:n}=this;if(e&&t&&!n.aborted)if(4===t.readyState&&this.shouldLoadFromFileURL(this.context.frag)){if(this.callbacks){let{onProgress:i}=this.callbacks;i&&i(n,e,t.response,t);let r={url:t.responseURL,data:t.response,code:200};setTimeout((()=>{this.callbacks.onSuccess(r,n,e,t)}),0)}}else super.readystatechange()}}var _b=e=>"data:application/x-mpegurl;base64,"+btoa(e),_V=(e,t)=>{let n=e.split("\n");for(let e=0;e<n.length;e+=1)if(n[e].startsWith("#EXT")&&n[e].includes("URI=")){let i=n[e].indexOf("URI="),r=i+4,a=n[e].charAt(r);for(let t=i+5;t<n[e].length&&r===i+4;t+=1)n[e].charAt(t)===a&&(r=t);let o=n[e].substring(i+5,r);if(!o.toLowerCase().startsWith("http")){let a=t.split("/");a.pop(),a.push(o),n[e]=n[e].substring(0,i+5)+a.join("/")+n[e].substring(r)}}return n.join("\n")},_M=(e,t,n)=>{let i=!1,r=e.split("\n"),a=n.split("/");a.pop();for(let e=0;e<r.length-1;e+=1)if(r[e].startsWith("#EXT-X-STREAM-INF"))if(i){if(!r[e+1].toLowerCase().startsWith("http")){let t=r[e+1].split("/");r[e+1]=a.concat(t).join("/")}}else i=!0,r[e+1]=t;return r.join("\n")},_k=(e,t)=>{let n=e.split("\n"),i=t.split("/");i.pop();for(let e=0;e<n.length-1;e+=1)if(n[e].startsWith("#EXT-X-STREAM-INF")&&!n[e+1].toLowerCase().startsWith("http")){let t=n[e+1].split("/");n[e+1]=i.concat(t).join("/")}return n.join("\n")},_U=(e,t)=>{let n=e.split("\n");for(let e=0;e<n.length-1;e+=1)if(n[e].startsWith("#EXT-X-STREAM-INF")){if(n[e+1].toLowerCase().startsWith("http"))return n[e+1];let i=t.split("/");return i.pop(),i.push(n[e+1]),i.join("/")}},_B=class{getStreamPlayer(e){if(null===e)return iD.NotSupported;if(window.Hls.isSupported()){let e=this.environmentService.getOperatingSystem(),t=this.environmentService.getSdkVersion();if(e!==r9.iOS||t.isGreaterThanOrEqualTo(new rn("7")))return iD.Custom}return""!==e.canPlayType(this.hlsMediaType)?iD.Native:iD.NotSupported}async loadHls(e,t){let n=new window.Hls({maxLoadingDelay:4,maxStarvationDelay:4,pLoader:_w,fLoader:_P,debug:!1});n.loadSource(e),n.attachMedia(t)}async getHlsManifest(e){if(!this.streamPunkService.hasCachedStreamChunks()&&!this.streamPunkService.hasCachedFirstTrack())return this.streamPunkService.hasCachedManifest()?_b(_k(this.streamPunkService.getCachedManifest(),e)):e;try{let t;if(this.streamPunkService.hasCachedManifest())t=this.streamPunkService.getCachedManifest();else{let n=await this.getManifest(e);if(void 0===n)return e;t=await n.text()}let n=_U(t,e);if(!n){let n=this.updateStream(t,e);return _b(n)}try{let i;if(this.streamPunkService.hasCachedFirstTrack())i=this.streamPunkService.getCachedFirstTrack();else{let t=await this.getVideo(n);if(void 0===t)return e;i=await t.text()}let r=this.updateStream(i,n),a=_b(r),o=_M(t,a,n),s=_V(o,e);return _b(s)}catch(t){return this.handleStreamError(t,n,iy.Video),e}}catch(t){return this.handleStreamError(t,e,iy.Manifest),e}}insertCachedVideoSegments(e,t){let n=this.streamPunkService.getCachedVideoSegmentUrls().reverse(),i=t.split("/");i.pop();let r=e.split("\n");for(let e=0;e<r.length-1;e+=1)if(r[e].startsWith("#EXTINF"))if(n.length>0)r[e+1]=n.pop();else if(!r[e+1].toLowerCase().startsWith("http")){let t=r[e+1].split("/");r[e+1]=i.concat(t).join("/")}return r.join("\n")}updateStream(e,t){return _V(this.insertCachedVideoSegments(e,t),t)}handleStreamError(e,t,n){var i;this.errorLoggingService.emit({type:"error-logging",event:o3.EXCEPTION,data:{error:{message:e instanceof TypeError||e.message.includes("ailed to fetch")||(null===(i=e.message)||void 0===i?void 0:i.includes("ross-origin"))?`CORS issue prevented HLS ${n} cache optimization from ${t}`:`Failed to download HLS ${n} from ${t}: ${e.message}`}}})}async getStream(e,t){let n=await window.fetch(e);if(n.ok||0===n.status)return n;this.errorLoggingService.emit({type:"error-logging",event:o3.EXCEPTION,data:{error:{message:`Network ${n.status} while loading HLS ${t}: ${e}`}}})}getManifest(e){return this.getStream(e,iy.Manifest)}getVideo(e){return this.getStream(e,iy.Video)}constructor(e=rh(),t=rA(),n=new _L){this.environmentService=e,this.errorLoggingService=t,this.streamPunkService=n,this.hlsMediaType="application/vnd.apple.mpegurl"}},_H=class{monitorVideoHealth(e,t,n){var i;n&&(null!=(null===(i=this.videoMonitorTimer)||void 0===i?void 0:i.getId())&&this.videoMonitorTimer.destroy(),this.videoMonitorTimer=this.timerService.getNewTimer(3e4,(()=>{!e.value.matches(ej.AUTO_PLAY_FAIL)&&!e.value.matches(ej.LOADING)&&(e.value.context.canPlay&&e.value.context.currentTime>=0||t(r_))})),this.videoMonitorTimer.start())}startStreamingVideo(e,t,n,i=new _B(this.environmentService,this.errorLoggingService)){switch(e.setAttribute("type","application/x-mpegURL"),i.getStreamPlayer(e)){case iD.Custom:i.loadHls(t,e);break;case iD.Native:e.setAttribute("src",t),e.load();break;default:this.observabilityReportingService.emit({type:"observability",event:at.EVENT,data:{name:ai.HLS_NOT_SUPPORTED}}),n({type:eQ.NEXT})}}getMutedSignal(){return this.muteService.getMutedSignal()}constructor(e=o1(),t=rh(),n=rA(),i=rL(),r=lD()){this.timerService=e,this.environmentService=t,this.errorLoggingService=n,this.observabilityReportingService=i,this.muteService=r}};const _x=()=>n7().has(n9.OM_SDK_DATA)&&lx();var _W=e=>{if(_x()){var t;let n=null!==(t=n7().get(n9.OM_SDK_DATA))&&void 0!==t?t:"";nU.getInstance().bind(cD.getServiceIdentifier(),new cD(e,n))}},_F=class{getFullScreenClickConfig(){return{enabled:(()=>{if(this.placementType!==r4.FULLSCREEN)return!0;let e=this.skOverlayAutoTokenValue,t=this.fullCtaOptionTokenValue,n=this.fullCtaTokenValue;return"fsc_off"!==t&&("true"===e||"true"===n)})(),id:this.id,target:[r4.BANNER,r4.MREC].includes(this.placementType)?ao.SKPV:ub(this.skFullCtaTokenValue)}}constructor({skOverlayAutoTokenValue:e,fullCtaOptionTokenValue:t,fullCtaTokenValue:n,skFullCtaTokenValue:i,id:r,placementType:a}){this.skOverlayAutoTokenValue=e,this.fullCtaOptionTokenValue=t,this.fullCtaTokenValue=n,this.skFullCtaTokenValue=i,this.id=r,this.placementType=a}},_K=class{getStoreKitOverlayAutoShowConfig(e=uR){let t="adv_pref"===this.fullCtaOptionTokenValue;return{enabled:!!ox(this.environmentService,this.placementTypeService)&&void 0!==this.appStoreId&&0!==this.appStoreId.length&&rB(this.skOverlayAutoTokenValue)&&t,autoShowDelay:(()=>{if(!this.skOverlayDelaySecondsTokenValue)return 5e3;let e=parseInt(this.skOverlayDelaySecondsTokenValue,10);return Number.isNaN(e)?5e3:1e3*e})(),isAutoClose:!!this.skOverlayAutoCloseTokenValue&&!["0","-1"].includes(this.skOverlayAutoCloseTokenValue),autoCloseDelay:(()=>{var e;let t=parseInt(null!==(e=this.skOverlayAutoCloseTokenValue)&&void 0!==e?e:"0",10);return Number.isNaN(t)?5e3:Math.max(5e3,1e3*t)})(),openCallback:(void 0!==this.skOverlayDisableAutoMMPTokenValue?"false"===this.skOverlayDisableAutoMMPTokenValue:void 0!==this.mmpAutoClickTokenValue&&"true"===this.mmpAutoClickTokenValue)?e:()=>{}}}constructor(e,t,n,i,r,a,o,s=rh(),l=rS()){this.appStoreId=e,this.fullCtaOptionTokenValue=t,this.skOverlayAutoTokenValue=n,this.skOverlayDelaySecondsTokenValue=i,this.skOverlayAutoCloseTokenValue=r,this.skOverlayDisableAutoMMPTokenValue=a,this.mmpAutoClickTokenValue=o,this.environmentService=s,this.placementTypeService=l}},_G=class{getAppStoreOnDelayConfig(){var e;let t=Number(null!==(e=this.appStoreOnVideoAutoDelayTokenValue)&&void 0!==e?e:"0");return{enabled:!(!sH(this.environmentService)||void 0===this.appStoreId||0===this.appStoreId.length||this.placementService.isInLine())&&!Number.isNaN(t)&&Number.isFinite(t)&&t>0,autoShowDelay:Number.isNaN(t)||!Number.isFinite(t)||t<3e3?3e3:t}}constructor(e,t,n=rh(),i=rS()){this.appStoreOnVideoAutoDelayTokenValue=e,this.appStoreId=t,this.environmentService=n,this.placementService=i}},_Y=class{getAppsFlyerConfig(){return{enabled:rB(this.enabledTokenValue),isRewardTypeAd:rB(this.incentivizedTokenValue)}}constructor(e,t){this.enabledTokenValue=e,this.incentivizedTokenValue=t}},_X=class{getDelay(){return rB(this.incentivizedTokenValue)&&this.incentivizedCloseButtonDelaySecondsTokenValue?Number(this.incentivizedCloseButtonDelaySecondsTokenValue):this.closeButtonDelaySecondsTokenValue?Number(this.closeButtonDelaySecondsTokenValue):0}getCountDown(){return void 0===this.showVideoCloseButtonCountDownTokenValue||rB(this.showVideoCloseButtonCountDownTokenValue)}getStyle(){return rB(this.videoCloseButtonAsSkipTokenValue)?lR.SKIP:lR.CLOSE}getCloseButtonConfig(){return{delay:this.getDelay(),style:this.getStyle(),countdown:this.getCountDown()}}constructor({closeButtonDelaySecondsTokenValue:e,incentivizedCloseButtonDelaySecondsTokenValue:t,incentivizedTokenValue:n,videoCloseButtonAsSkipTokenValue:i,showVideoCloseButtonCountDownTokenValue:r}){this.closeButtonDelaySecondsTokenValue=e,this.incentivizedCloseButtonDelaySecondsTokenValue=t,this.incentivizedTokenValue=n,this.videoCloseButtonAsSkipTokenValue=i,this.showVideoCloseButtonCountDownTokenValue=r}},_j=class{getProgressBarConfig(){var e,t;return{show:!this.isBanner&&!uL(this.videoProgressBarTokenValue),color:null!==(t=null!==(e=this.videoProgressBarColorTokenValue)&&void 0!==e?e:this.ctaButtonBackgroundTokenValue)&&void 0!==t?t:cU}}constructor({videoProgressBarTokenValue:e,videoProgressBarColorTokenValue:t,ctaButtonBackgroundTokenValue:n,isBanner:i}){this.videoProgressBarTokenValue=e,this.videoProgressBarColorTokenValue=t,this.ctaButtonBackgroundTokenValue=n,this.isBanner=i}};const _z=(e=n7(),t=rS(),n=rA())=>{let i=uz(e,n);return{appStoreId:oW(e),skCtaOnlyTokenValue:e.get(n9.SK_CTA_ONLY),blockPersistentCtaTokenValue:e.get(n9.BLOCK_PERSISTENT_CTA),appMetaProviderParams:i,placementTypeService:t}};var _q=class extends uq{getCallToActionTarget(){return this.placementTypeService.isBanner()||this.placementTypeService.isMrec()?ao.SKPV:ub(this.skCtaOnlyTokenValue)}isPersistentCtaEnabled(){return(this.placementTypeService.isFullscreen()||this.placementTypeService.isMrec()||this.placementTypeService.isInLine())&&!rB(this.blockPersistentCtaTokenValue)}getCallToActionConfig(){return{isPersistent:this.isPersistentCtaEnabled(),target:this.getCallToActionTarget(),url:super.getCtaButtonUrl(),text:super.getCtaButtonText(),appMeta:super.getAppMetaData(),delay:super.getCtaButtonDelay()}}constructor({appStoreId:e,skCtaOnlyTokenValue:t,blockPersistentCtaTokenValue:n,appMetaProviderParams:i,placementTypeService:r=rS()}){super(i),this.appStoreId=e,this.skCtaOnlyTokenValue=t,this.blockPersistentCtaTokenValue=n,this.placementTypeService=r}},_$=class{getStreamManifest(){var e;if(void 0!==this.mainManifestTokenValue&&""!==this.mainManifestTokenValue)return{manifest:uV(this.mainManifestTokenValue),track_0:uV(null!==(e=this.track0TokenValue)&&void 0!==e?e:""),chunks:this.chunkSeriesValues}}constructor(e,t,n){this.mainManifestTokenValue=e,this.track0TokenValue=t,this.chunkSeriesValues=n}},_Z=(e=n7(),t=rS())=>!!t.isMrec()||rB(e.get(n9.START_MUTED))||rB(e.get(n9.REAL_START_MUTED));(eg=iR||(iR={})).PROGRESSIVE="mp4",eg.HLS="hls";class _Q extends uN{getTransitions(){let e=super.getTransitions();return e.push(uU,uB,uH,ux,uW,uF,uK),e}getId(){return this.id}getSceneType(){return aa.video}getVideoPlayer(){return"mp4"===this.videoType?"progressive":window.Hls.isSupported()?"custom":"native"}getVideoUrl(){return"mp4"===this.videoType&&void 0!==this.originalVideoUrl?this.originalVideoUrl:this.url}getObservabilityData(){var e,t,n,i;let r=new _L;return{url:null!==(n=this.getVideoUrl())&&void 0!==n?n:"",video:this.videoType,player:this.getVideoPlayer(),manifest:r.hasCachedManifest(),track:r.hasCachedFirstTrack(),segments:null!==(i=null===(t=this.getStreamManifest())||void 0===t||null===(e=t.chunks)||void 0===e?void 0:e.length)&&void 0!==i?i:0,cached:r.getCachedVideoSegmentUrls().length}}getProgressBarConfig(){return this.progressBarConfig}getFullScreenClickConfig(){return this.fullScreenClickConfig}getAppsFlyerConfig(){return this.appsFlyerConfig}getAppStoreOnDelayConfig(){return this.appStoreOnDelayConfig}getCloseButtonConfig(){return nW(nx({},this.closeButtonConfig),{style:this.isLastPage()?lR.CLOSE:this.closeButtonConfig.style})}getStoreKitOverlayAutoShowConfig(){return this.storeKitOverlayAutoShowConfig}getCallToActionConfig(){return this.callToActionConfig}getLastChanceEndcardConfig(){return this.lastChanceEndcardConfig}getEventMapConfig(){return this.eventMapConfig}setLastChanceEndcardConfig(e){this.lastChanceEndcardConfig=e}getStreamManifest(){return this.streamManifest}static isLoopingVideo(e,t=!1){return t||rB(e)}static getInstances(e=n7(),t=rS(),n=rh(),i=_z()){if(sg(e)||e.has(n9.MREC_IMAGE_6_5))return[];let r=[n9.MAIN_VIDEO,n9.MAIN_STREAM],a=[],o=e.get(n9.ORIGINAL_VIDEO_URL),s=_Q.isLoopingVideo(e.get(n9.VIDEO_LOOPING),_Q.isVideoOnly(e));return r.filter((t=>e.has(t))).forEach(((r,l)=>{var d;let c=r===n9.MAIN_STREAM?"hls":"mp4",u=`video_${l}`;a.push(new _Q({id:u,url:null!==(d=e.get(r))&&void 0!==d?d:"",index:l,isAlternative:!1,videoType:c,streamManifest:new _$(e.get(n9.MAIN_MANIFEST),e.get(n9.TRACK_0),e.getSeriesValues("STREAM_CHUNK_")).getStreamManifest(),progressBarConfig:new _j({videoProgressBarTokenValue:e.get(n9.VIDEO_PROGRESS_BAR),videoProgressBarColorTokenValue:e.get(n9.VIDEO_PROGRESS_BAR_COLOR),ctaButtonBackgroundTokenValue:e.get(n9.CTA_BUTTON_BACKGROUND),isBanner:t.isBanner()}).getProgressBarConfig(),fullScreenClickConfig:new _F({skOverlayAutoTokenValue:e.get(n9.SKOVERLAY_AUTO),fullCtaOptionTokenValue:e.get(n9.FULL_CTA_OPTION),fullCtaTokenValue:e.get(n9.FULL_CTA),skFullCtaTokenValue:e.get(n9.SK_FSC),id:u,placementType:t.getPlacementType()}).getFullScreenClickConfig(),storeKitOverlayAutoShowConfig:new _K(oW(e),e.get(n9.FULL_CTA_OPTION),e.get(n9.SKOVERLAY_AUTO),e.get(n9.SKOVERLAY_DELAY_SECONDS),e.get(n9.SKOVERLAY_AUTO_CLOSE),e.get(n9.SKOVERLAY_DISABLE_AUTO_MMP),e.get(n9.MMP_AUTO_CLICK),n,t).getStoreKitOverlayAutoShowConfig(),appStoreOnDelayConfig:new _G(e.get(n9.APP_STORE_ON_VIDEO_AUTO_DELAY),oW(e),n,t).getAppStoreOnDelayConfig(),appsFlyerConfig:new _Y(e.get(n9.APPSFLYER_ENABLED)).getAppsFlyerConfig(),callToActionConfig:new _q(i).getCallToActionConfig(),lastChanceEndcardConfig:new uk(uM(u,e,t)).getLastChanceEndcardConfig(),eventMapConfig:new uY(!1).getEventMapConfig(),closeButtonConfig:new _X({closeButtonDelaySecondsTokenValue:e.get(n9.CLOSE_BUTTON_DELAY_SECONDS),incentivizedCloseButtonDelaySecondsTokenValue:e.get(n9.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS),incentivizedTokenValue:e.get(n9.INCENTIVIZED),videoCloseButtonAsSkipTokenValue:e.get(n9.VIDEO_CLOSE_BUTTON_AS_SKIP),showVideoCloseButtonCountDownTokenValue:e.get(n9.SHOW_VIDEO_CLOSE_BUTTON_COUNTDOWN)}).getCloseButtonConfig(),originalVideoUrl:o,loopVideo:s,androidProductViewSupported:uy(n,e),isFullscreen:t.isFullscreen(),muteVideo:_Z(e,t)}))})),a}constructor({id:e,url:t,index:n,isAlternative:i,videoType:r,streamManifest:a,fullScreenClickConfig:o,storeKitOverlayAutoShowConfig:s,appStoreOnDelayConfig:l,appsFlyerConfig:d,callToActionConfig:c,lastChanceEndcardConfig:u,progressBarConfig:E,closeButtonConfig:_,originalVideoUrl:v,eventMapConfig:T,loopVideo:h=!1,muteVideo:S=!1,androidProductViewSupported:p=!1,isFullscreen:g}){super({isFullscreen:g}),this.id=e,this.url=t,this.index=n,this.alternative=i,this.videoType=r,this.streamManifest=a,this.progressBarConfig=E,this.fullScreenClickConfig=o,this.storeKitOverlayAutoShowConfig=s,this.appStoreOnDelayConfig=l,this.appsFlyerConfig=d,this.callToActionConfig=c,this.lastChanceEndcardConfig=u,this.closeButtonConfig=_,this.originalVideoUrl=v,this.loopVideo=h,this.muteVideo=S,this.androidProductViewSupported=p,this.eventMapConfig=T,this.addTransition({name:eQ.NEXT,actions:[{name:e6.CLOSE_VIDEO}]})}}_Q.isVideoOnly=(e=n7())=>{let t=[...uQ,n9.ENDCARD_URL].every((t=>!e.has(t))),n=1===[n9.MAIN_VIDEO,n9.MAIN_STREAM].filter((t=>e.has(t))).length;return t&&n};var _J=(e,t,n=rU(),i=sP(),r=cm(),a=lt())=>{if(!(n instanceof _Q&&Object.values(iR).includes(n.videoType)&&"object"==typeof n.progressBarConfig&&"object"==typeof n.fullScreenClickConfig&&"object"==typeof n.storeKitOverlayAutoShowConfig&&"object"==typeof n.appStoreOnDelayConfig&&"object"==typeof n.appsFlyerConfig&&"object"==typeof n.callToActionConfig&&"object"==typeof n.lastChanceEndcardConfig&&"object"==typeof n.eventMapConfig&&(n.originalVideoUrl,1)&&(n.loopVideo,1)&&(n.androidProductViewSupported,1)))return;let o=!1;r.state.context.isPrivacyDrawerOpen&&(o=!0),(null==a?void 0:a.state.value)===eJ.SHOWING&&(o=!0),t.event!==sR.MAXIMIZED||o?t.event===sR.MINIMIZED&&(null==i||i.send({type:eX.MINIMIZE})):null==i||i.send({type:eX.MAXIMIZE,hasHlsVideo:n.videoType===iR.HLS})},_0=(e=rS())=>!e.isBanner();iL="S2LOeW_icon",iw="S2LOeW_muted",iP="S2LOeW_unmuted";const _1={marginLeft:"0px",marginTop:"0px"},_2=oc(_1);var _3=({sendAdEvent:e,isMuted:t,isVisible:n,videoPlayerHeight:i})=>{let r=()=>{if(!n)return;let e=document.querySelector("video");if(!e)return;let t=nx({},_1),{videoWidth:i,videoHeight:r}=e,{clientWidth:a,clientHeight:o}=null==e?void 0:e.parentElement,s=i/r;a/o>s?t.marginLeft=(a-o*s)/2+"px":t.marginTop=(o-a/s)/2+"px",_2.value=t};return a2((()=>(window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}))),a2((()=>{r()}),[n,i]),n?oy("button",{type:"button",className:t?iw:iP,id:ck,title:t?"Unmute":"Mute","aria-label":"Mute button",style:_2.value,onClick:()=>{e({type:t?eQ.UNMUTE:eQ.MUTE})},children:oy("span",{className:iL})}):null};ib="OaF7uW_paused",iV="OaF7uW_videoProgress";var _5=({value:e,duration:t,progressBarConfig:{show:n,color:i},paused:r})=>n?oy("div",{role:"progressbar",title:"Video progress",className:iV,"aria-label":"Video progress",children:oy("span",{className:!r&&e>0?"":ib,style:{backgroundColor:i,animationDuration:`${t}s`},id:"video-progress-bar"})}):null,_6=e=>{var t;let n=null===(t=e.next)||void 0===t?void 0:t.getSceneType();return void 0!==n&&[aa.endcard,aa.adaptiveCreativeEndcard].includes(n)};iM="ok_seq_videoPlayer",ik="ok_seq_videoPlayerWrap";var _4=({sendVideoEvent:e,sendAdEvent:t,videoState:n,scene:i})=>{var r;let a=new _H,o=new _B,s=a5((()=>rD()),[]),{url:l}=i,d=a3(null),c=a3(null),u=a3(null),E=oI(0),_=oI(l),v=a.getMutedSignal(),T=oI(""),h=t=>{e({type:t,eventTarget:d.current,url:_.value})},S=()=>{h(eX.CAN_PLAY),t({type:eQ.PRIVACY_LOGO_SHOW})},p=e=>{t({type:eQ.VIDEO_ERROR,error:Error(e),videoUrl:_.value})},g=()=>{setTimeout((()=>{d.current&&(d.current.muted=v.value)}),100)},C=()=>{let e=o1();c.current=e.getNewTimer(1e4,(()=>{n.value.value!==ej.AUTO_PLAY_FAIL&&(!n.value.context.canPlay||n.value.context.currentTime<=0)&&p(rE)})),c.current.start()};return a2((()=>{var r,a,o;switch(n.value.value){case ej.PLAYING:null===(a=c.current)||void 0===a||null===(r=a.destroy)||void 0===r||r.call(a),(()=>{var t;let i=null===(t=d.current)||void 0===t?void 0:t.play();i?i.then(g).catch((t=>{let n=t.name.toLowerCase();"notallowederror"===n?e({type:eX.AUTO_PLAY_FAIL}):"aborterror"===n||p(rv)})):window.setTimeout((()=>{var t;n.value.value===ej.PLAYING&&0===(null===(t=document.getElementsByTagName("video")[0])||void 0===t?void 0:t.currentTime)&&e({type:eX.AUTO_PLAY_FAIL})}),2500)})();break;case ej.LOAD_FAIL_RETRY:(()=>{e({type:eX.RETRY});let t=i.originalVideoUrl;t&&t!==_.value?_.value=t:p(ru)})();break;case ej.PAUSED:null===(o=d.current)||void 0===o||o.pause();break;case ej.ENDED:if(i.loopVideo)e({type:eX.PLAY});else{let n=i.getLastChanceEndcardConfig().enabled;e({type:eX.CLOSE}),t(n?{type:eQ.LAST_CHANCE_ENDCARD}:{type:eQ.COMPLETE})}}}),[n.value.value]),om((()=>{d.current&&_.value&&(_W(d.current),d.current.setAttribute("muted","true"),i.videoType===iR.PROGRESSIVE&&(e=>{d.current&&e&&(d.current.setAttribute("src",e),d.current.load(),_6(i)?C():a.monitorVideoHealth(n,p,d.current))})(_.value))})),om((()=>{let e=o.getStreamPlayer(d.current);if(_.value&&i.videoType===iR.HLS&&e!==iD.NotSupported){let t=async()=>{e===iD.Native?T.value=await o.getHlsManifest(_.value):T.value=_.value};_6(i)?C():a.monitorVideoHealth(n,p,d.current),t()}})),om((()=>{""!==T.value&&(null==d?void 0:d.current)&&a.startStreamingVideo(d.current,T.value,t)})),om((()=>{var e,t;d.current&&(null===(e=(t=n.value).matches)||void 0===e?void 0:e.call(t,ej.PLAYING))&&!d.current.paused&&!d.current.ended&&(d.current.muted=v.value)})),a2((()=>(s.addEventHandler("viewability",_J),()=>{s.removeEventHandler("viewability",_J)})),[e,s]),a2((()=>{let e=t=>{d.current&&(d.current.readyState>2?S():o1().getNewTimer(t,(()=>{e(t)})).start())};e(200)}),[]),oy("div",{className:EN(ik,"videoPlayer"),ref:u,id:i.getId(),children:[oy(_3,{sendAdEvent:t,isMuted:v.value,isVisible:n.value.context.canPlay&&_0(),videoPlayerHeight:null===(r=u.current)||void 0===r?void 0:r.clientHeight}),oy("video",{title:"Video player",id:"video-player",ref:d,muted:!0,playsInline:!0,className:iM,poster:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQAAAAA3bvkkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAnRSTlMAAHaTzTgAAAACYktHRAAB3YoTpAAAAAd0SU1FB+YHDAoSGnw+PegAAAAKSURBVAjXY2AAAAACAAHiIbwzAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA3LTEyVDEwOjE4OjI2KzA4OjAww+Ou8wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNy0xMlQxMDoxODoyNiswODowMLK+Fk8AAAAASUVORK5CYII=",onError:()=>{_.value===l?h(eX.LOAD_FAIL):p(rc)},onDurationChange:()=>{h(eX.DURATION_CHANGE)},onWaiting:()=>{h(eX.WAITING)},onSuspend:()=>{h(eX.SUSPEND)},onCanPlay:S,onTimeUpdate:t=>{let{target:i}=t,r=n.value.value!==ej.PLAYING;Number.isNaN(i.duration)||0===i.duration||i.seeking||r||(E.value=i.currentTime,e({eventTarget:i,type:eX.TIME_UPDATE}))},onEnded:()=>{E.value=0,e({type:eX.END})},onPlaying:()=>{oz({name:ai.VIDEO_START_SUCCESS},1)},onSeeking:e=>{let t=e.target,n=t.currentTime-E.value;!(t.readyState<3)&&Math.abs(n)>.01&&(t.currentTime=E.value)},"data-loop-count":n.value.context.loopCount,"data-scene-id":i.getId(),disableRemotePlayback:!0}),oy(_5,{value:n.value.context.progress,duration:n.value.context.duration,paused:n.value.value===ej.PAUSED,progressBarConfig:i.getProgressBarConfig()})]})},_8=(e,t=rh())=>{var n;let i=t.getOperatingSystem();if(i===r9.Android)return!!(null!==(n=null==e?void 0:e.filter)&&void 0!==n?n:null==e?void 0:e.webkitFilter);if(i===r9.iOS){let e=document.createElement("div");if("webkitFilter"in e.style||"filter"in e.style)return!0}return!1};iU="RypQCq_videoBlurWrap";var _7=({isInLine:e=!1})=>{var t,n,i,r;let a=a3(null),o=a3(),s=a3(),l=oI(!1),d=oI(window.document.body.clientWidth),c=oI(window.document.body.clientHeight),u=oI(0),E=oI(0),_=oI(0),v=oI(0),T=null===(t=sP())||void 0===t?void 0:t.state.context.videoElement,h=null===(n=sP())||void 0===n?void 0:n.state.context.canPlay,S=null===(i=sP())||void 0===i?void 0:i.state.context.videoWidth,p=null===(r=sP())||void 0===r?void 0:r.state.context.videoHeight,g=()=>{d.value=window.document.body.clientWidth,c.value=window.document.body.clientHeight},C=()=>{if(!T)return;let t=T.videoHeight>T.videoWidth;l.value=(e||t)&&!!T&&(!!e||T.videoWidth/T.videoHeight<d.value/c.value)&&_8(o.current)},A=()=>{g(),(()=>{var e;null===(e=o.current)||void 0===e||e.clearRect(0,0,_.value,v.value)})(),C()};return a2((()=>{T&&(u.value=T.clientHeight,E.value=T.clientWidth),C()}),[null==T?void 0:T.clientHeight,null==T?void 0:T.clientWidth,o.current]),a2((()=>{if(h){window.addEventListener("resize",A),g(),(()=>{if(a.current&&d&&c&&S&&p&&c){var e;let t=S/d.value,n=p/c.value,i=S/p<d.value/c.value?t:n,r=Math.floor(Number(S/i)),s=Math.floor(Number(p/i));o.current=null===(e=a.current)||void 0===e?void 0:e.getContext("2d"),_.value=r,v.value=s}})();let e=sL();s.current=e.getNewInterval(60,(()=>{l.value&&o.current&&o.current.drawImage(T,0,0,_.value,v.value)})),s.current.start()}return()=>{var e;window.removeEventListener("resize",A),null===(e=s.current)||void 0===e||e.destroy()}}),[h]),oy("div",{id:"video-blur",className:iU,children:oy("canvas",{id:"video-blur-canvas",ref:a,width:_,height:v})})};iB="dDtiqq_tapToPlayContainer",iH="dDtiqq_tapToPlayIcon",ix="dDtiqq_tapToPlayMask",iW="dDtiqq_tapToPlayText";var _9=({isVisible:e,sendVideoEvent:t})=>e?oy("div",{role:"none",className:ix,onClick:()=>{var e;null===(e=document.getElementsByTagName("video")[0])||void 0===e||e.play(),t({type:eX.PLAY})},id:"tap-to-play",title:"tap-to-play",children:oy("div",{className:iB,children:[oy("div",{className:iH}),oy("div",{className:iW,children:"Tap to play"})]})}):null,ve=()=>rB(n7().get(n9.VIDEO_SHOW_CTA));iF="Zz6y0G_download",iK="Zz6y0G_downloadIcon";const vt=()=>{rV().emit({type:"cta",event:da.DOWNLOAD_BUTTON_CTA})};var vi=()=>ve()?oy("button",{className:iF,"aria-label":"cta",id:"download-button",type:"button",onClick:vt,children:oy("span",{className:iK})}):null,vn=class{getVideoComputedHeight(){let e=sP(),t=null==e?void 0:e.state.context.videoElement;if(!t)return 0;let n=t.videoWidth/t.videoHeight;return parseFloat(window.getComputedStyle(t).getPropertyValue("width"))/n}updateScreenshotsHeight(e){if(!e.current)return;let t=this.getVideoComputedHeight();if(0===t)return;let n=window.innerHeight-t-120;n>=100?e.current.style.height=`${n}px`:e.current.style.display="none"}handleClick(e,t,n){let i=e.target;if(n.some((e=>null!==i.closest(`#${e}`))))return this.ctaReportingService.emit({type:"cta",event:da.PERSISTENT_CTA,data:{appsFlyerEvent:sr.CLICK_TO_APP}}),void this.handleObservabilityEvent({name:ai.PERSISTENT_CTA_BUTTON_CLICK});t.enabled&&this.fullCtaReportingService.emit({type:"fsc",event:Ey.FSC})}constructor(e=n7(),t=rg(),n=rC(),i=oz){this.tokenService=e,this.ctaReportingService=t,this.fullCtaReportingService=n,this.handleObservabilityEvent=i}};iG="UUyEIq_appDetail",iY="UUyEIq_appIcon",iX="UUyEIq_persistentSimpleCta",ij="UUyEIq_persistentSimpleCtaBtn",iz="UUyEIq_slideIn";const vr=oc(!1);var va=({fullScreenClickConfig:e,callToActionConfig:t})=>{var n,i,r,a;return a2((()=>{o1().getNewTimer(t.delay,(()=>{vr.value=!0,oz({name:ai.PERSISTENT_CTA_BUTTON_SHOW})})).start()}),[]),oy("div",{id:cM,className:EN(iX,vr.value?iz:""),"aria-hidden":"true",onClick:t=>{(new vn).handleClick(t,e,["persistent-simple-cta-app-name","persistent-simple-cta-app-icon","persistent-simple-cta-app-company","persistent-simple-cta-app-rating","persistent-simple-cta-button"])},children:[(null===(n=t.appMeta)||void 0===n?void 0:n.icon)&&oy("img",{className:iY,id:"persistent-simple-cta-app-icon",alt:"app-icon",src:t.appMeta.icon}),((null===(i=t.appMeta)||void 0===i?void 0:i.name)||(null===(r=t.appMeta)||void 0===r?void 0:r.company))&&oy("div",{className:iG,id:"persistent-simple-cta-app-detail",children:[t.appMeta.name&&oy("h1",{id:"persistent-simple-cta-app-name",children:t.appMeta.name}),t.appMeta.company&&oy("h2",{id:"persistent-simple-cta-app-company",children:t.appMeta.company}),t.appMeta.isRatingGreaterThanMinimum&&oy(_E,{value:t.appMeta.rating,id:"persistent-simple-cta-app-rating"})]}),oy("button",{className:ij,style:(null===(a=t.background)||void 0===a?void 0:a.color)?{backgroundColor:t.background.color}:{},type:"button",id:"persistent-simple-cta-button",children:t.text})]})};iq="DwKKSa_appIcon",i$="DwKKSa_appInfo",iZ="DwKKSa_persistentRichCta",iQ="DwKKSa_persistentRichCtaBtn";var vo=({fullScreenClickConfig:e,callToActionConfig:t})=>{var n,i,r,a,o,s,l,d;a2((()=>{let e=document.createElement("style");return e.textContent="\n    .videoPlayer {\n      width: 100%;\n      height: auto;\n      margin-top: 120px;\n    }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}}),[]),a2((()=>{oz({name:ai.PERSISTENT_CTA_BUTTON_SHOW})}),[]);let c=null===(n=t.appMeta)||void 0===n?void 0:n.isRatingGreaterThanMinimum;return oy("div",{id:cb,className:iZ,onClick:t=>{(new vn).handleClick(t,e,["persistent-rich-cta-app-name","persistent-rich-cta-app-icon","persistent-rich-cta-company-name","persistent-rich-cta-app-rating","persistent-rich-cta-button"])},"aria-hidden":"true",children:[(null===(i=t.appMeta)||void 0===i?void 0:i.icon)&&oy("img",{className:iq,alt:"app-icon",id:"persistent-rich-cta-app-icon",src:null===(r=t.appMeta)||void 0===r?void 0:r.icon}),oy("div",{className:i$,children:[(null===(a=t.appMeta)||void 0===a?void 0:a.name)&&oy("h1",{id:"persistent-rich-cta-app-name",children:null===(o=t.appMeta)||void 0===o?void 0:o.name}),c&&oy(_E,{value:null===(s=t.appMeta)||void 0===s?void 0:s.rating,id:"persistent-rich-cta-app-rating"}),!c&&oy("p",{id:"persistent-rich-cta-company-name",children:null===(l=t.appMeta)||void 0===l?void 0:l.company}),oy("button",{className:iQ,type:"button",style:(null===(d=t.background)||void 0===d?void 0:d.color)?{backgroundColor:t.background.color}:{},id:"persistent-rich-cta-button",children:t.text})]})]})};iJ="dalDea_persistentRichCtaScreenshots",i0="dalDea_slide";const vs=e=>{e.enabled?rC().emit({type:"fsc",event:Ey.FSC}):rg().emit({type:"cta",event:da.PERSISTENT_CTA})};var vl=({fullScreenClickConfig:e,callToActionConfig:t})=>{var n;let i=new vn,r=a3(null);a2((()=>{i.updateScreenshotsHeight(r)}),[window.innerHeight,window.innerWidth]);let a=null===(n=t.appMeta)||void 0===n?void 0:n.screenshots;return a&&0!==a.length?oy("div",{id:cV,ref:r,className:iJ,onClick:()=>vs(e),"aria-hidden":"true",children:a.map((e=>e&&oy("div",{className:i0,children:oy("img",{alt:e,src:e})},e)))}):null},vd=({videoOrientation:e,viewportOrientation:t,scene:n})=>{var i,r;return e===eY.UNKNOWN?null:e===eY.LANDSCAPE&&t===ae.PORTRAIT&&(null!==(r=null===(i=n.getCallToActionConfig().appMeta)||void 0===i?void 0:i.screenshots)&&void 0!==r?r:[]).length>0?oy(aR,{children:[oy(vo,{fullScreenClickConfig:n.getFullScreenClickConfig(),callToActionConfig:n.getCallToActionConfig()}),oy(vl,{fullScreenClickConfig:n.getFullScreenClickConfig(),callToActionConfig:n.getCallToActionConfig()})]}):oy(va,{fullScreenClickConfig:n.getFullScreenClickConfig(),callToActionConfig:n.getCallToActionConfig()})};(eC=i1||(i1={})).PERCENTAGE="percentage",eC.ABSOLUTE="absolute";const vc=e=>{let t,n,i;return e.includes("_")?[t,n,i]=e.split("_"):e.includes(":")?[t,n,i]=e.split(":"):(t=e.substring(0,2),n=e.substring(2,2),i=e.substring(4,2)),3600*Number(t)+60*Number(n)+Number(i)},vu=e=>e.endsWith("p")?Number(e.replace("p","")):e.endsWith("%")?Number(e.replace("%","")):Number(e),vE=e=>e.endsWith("p")||e.endsWith("%")?"percentage":"absolute",v_=e=>{let t=nU.getInstance(),n=t.has(e)?t.get(e):void 0;if(n)return n;let i=e.split(";").filter((e=>e&&""!==e));return i&&0!==i.length?(n=i.map((e=>{let t=e.split(".")[1],n=vE(t);return{type:n,tpat_event:e,value:"percentage"===n?vu(t):vc(t)}})),t.bind(e,n),n):[]};var vv=(e,t)=>{let n=n7();t.event===s_.PROGRESS&&n.has(n9.TPAT_PROGRESS_EVENTS)&&v_(n.get(n9.TPAT_PROGRESS_EVENTS)).forEach((n=>{let{currentTime:i,duration:r}=t.data,a=Math.floor(i/r*100),o=Math.floor(i);("percentage"===n.type&&a>=n.value||"absolute"===n.type&&n.value<=r&&o>=n.value)&&e.emit({type:"tpat",event:n.tpat_event,fireOnlyOnce:!0})}))};const vT=oc(0);var vh=(e=Ev())=>{let t=e.isEnabled();return om((()=>{t&&e.setTotalDelaySecondsConsumed(vT.value)})),n=>{t&&(vT.value=e.getTotalCloseButtonDelaySeconds()-n)}};const vS=[sv.CHECKPOINT_0,sv.CHECKPOINT_25,sv.CHECKPOINT_50,sv.CHECKPOINT_75,sv.CHECKPOINT_100],vp=(e,t)=>vS[sS(e,t)],vg=(e,t=rV())=>{let n=[];return vS.slice(0,e).forEach((e=>{t.hasExistingEvent({type:"tpat",event:e})||n.push(e)})),n};var vC=(e,t,n)=>{let i=vp(e,t);vg(sS(e,t)).forEach((i=>{sC(i,!0,{progress:n,currentTime:e,duration:t})})),sC(i,!0,{progress:n,currentTime:e,duration:t})},vO=(e,t,n=sn)=>{var i;(null==t||null===(i=t.getAppsFlyerConfig)||void 0===i?void 0:i.call(t).isRewardTypeAd)||!(e>=10)||n(sr.ENGAGED_VIEW,eU.WATCHING_VIDEO_MORE_THAN_10_SECONDS)},vA=(e,t,n,i=rP())=>{if((null==n?void 0:n.getSceneType())!==aa.video)return;let r=[as.START,as.FIRST_QUARTILE,as.MIDPOINT,as.THIRD_QUARTILE,as.COMPLETE][sS(e,t)];r&&de(r,n.getId(),n.getEventMapConfig(),!0,i)};const vI=()=>({id:sw,initial:ej.LOADING,context:{currentTime:0,duration:0,rewardDuration:0,progress:0,videoHeight:0,videoWidth:0,videoElement:null,canPlay:!1,loopCount:0,successfulViewAdReached:!1,orientation:eY.UNKNOWN},states:{[ej.LOADING]:{entry:ez.EMIT_LOAD,on:{[eX.LOAD_FAIL]:{target:ej.LOAD_FAIL_RETRY},[eX.CAN_PLAY]:{target:ej.PLAYING,actions:[ez.SET_CAN_PLAY,ez.REPORT_VIDEO_START]},[eX.PAUSE]:ej.PAUSED,[eX.DURATION_CHANGE]:{actions:ez.EMIT_DURATION_CHANGE},[eX.WAITING]:{actions:ez.EMIT_WAITING},[eX.SUSPEND]:{actions:ez.EMIT_SUSPEND}}},[ej.LOAD_FAIL_RETRY]:{on:{[eX.RETRY]:ej.LOADING}},[ej.PLAYING]:{entry:ez.EMIT_PLAY,on:{[eX.MINIMIZE]:{target:ej.PAUSED,actions:[ez.UPDATE_CURRENT_TIME]},[eX.PAUSE]:ej.PAUSED,[eX.END]:ej.ENDED,[eX.AUTO_PLAY_FAIL]:ej.AUTO_PLAY_FAIL,[eX.TIME_UPDATE]:{actions:[ez.UPDATE_PROGRESS,ez.EMIT_PROGRESS,ez.EMIT_CHECKPOINT_TPAT_EVENT,ez.EMIT_SCENE_EVENT,ez.EMIT_PLAYBACK_ENGAGED_VIEW,ez.CHECK_SUCCESS_FULL_VIEW_AD_REACHED,ez.EMIT_TIME_UPDATE]},[eX.SUSPEND]:{actions:ez.EMIT_SUSPEND},[eX.WAITING]:{actions:ez.EMIT_WAITING},[eX.CLOSE]:{actions:ez.EMIT_CLOSE},[eX.RESET_CLOSE]:{target:ej.LOADING,actions:[ez.RESET_CONTEXT]}}},[ej.PAUSED]:{entry:ez.EMIT_PAUSE,on:{[eX.MINIMIZE]:{actions:[ez.UPDATE_CURRENT_TIME]},[eX.CAN_PLAY]:{actions:ez.SET_CAN_PLAY},[eX.MAXIMIZE]:{target:ej.PLAYING,actions:[ez.RESET_CURRENT_TIME]},[eX.PLAY]:ej.PLAYING,[eX.TIME_UPDATE]:{actions:[ez.UPDATE_PROGRESS,ez.EMIT_PROGRESS,ez.EMIT_CHECKPOINT_TPAT_EVENT,ez.EMIT_SCENE_EVENT,ez.EMIT_PLAYBACK_ENGAGED_VIEW]},[eX.AUTO_PLAY_FAIL]:ej.AUTO_PLAY_FAIL,[eX.CLOSE]:{actions:ez.EMIT_CLOSE},[eX.RESET_CLOSE]:{target:ej.LOADING,actions:[ez.RESET_CONTEXT]}}},[ej.AUTO_PLAY_FAIL]:{entry:[e2.STANDBY_TIMERS,e1.PAUSE_INTERVALS],on:{[eX.PLAY]:{target:ej.PLAYING,actions:[e2.WAKE_TIMERS,e1.START_INTERVALS]}}},[ej.ENDED]:{on:{[eX.PLAY]:{target:ej.PLAYING,actions:[ez.INCREMENT_LOOP_COUNT]},[eX.PAUSE]:ej.PAUSED,[eX.CLOSE]:{actions:ez.EMIT_CLOSE_FULLY_PLAYED},[eX.RESET_CLOSE]:{target:ej.LOADING,actions:[ez.RESET_CONTEXT]}}}}}),vm={actions:nx({[ez.UPDATE_PROGRESS]:nQ({currentTime:(e,t)=>t.eventTarget.currentTime,duration:(e,t)=>t.eventTarget.duration,progress:(e,t)=>{let{currentTime:n,duration:i}=t.eventTarget;return Math.round(n/i*100)}}),[ez.EMIT_PROGRESS]:e=>{void 0!==e.duration&&rN().emit({type:"video",event:s_.PROGRESS,data:{progress:e.progress,currentTime:e.currentTime,duration:e.duration}})},[ez.EMIT_CHECKPOINT_TPAT_EVENT]:e=>{void 0!==e.duration&&vC(e.currentTime,e.duration,e.progress)},[ez.EMIT_SCENE_EVENT]:e=>{void 0!==e.duration&&vA(e.currentTime,e.duration,rU())},[ez.EMIT_PLAYBACK_ENGAGED_VIEW]:e=>{void 0!==e.duration&&vO(e.currentTime,rU())},[ez.EMIT_PAUSE]:()=>{rN().emit({type:"video",event:s_.PAUSE})},[ez.EMIT_PLAY]:()=>{rN().emit({type:"video",event:s_.PLAY})},[ez.REPORT_VIDEO_START]:()=>{let e=lD();oz({name:ai.VIDEO_START,is_muted:e.isMuted()}),oz({name:ai.VIDEO_START_COMPLETE})},[ez.INCREMENT_LOOP_COUNT]:nQ({loopCount:e=>e.loopCount+1}),[ez.CHECK_SUCCESS_FULL_VIEW_AD_REACHED]:nQ({successfulViewAdReached:e=>{let t=rU();return!((null==t?void 0:t.getSceneType())!==aa.video||!t.isAlternative())||(e.successfulViewAdReached?e.successfulViewAdReached:void 0!==e.duration&&e.currentTime>=e.rewardDuration)}}),[ez.EMIT_CLOSE]:e=>{var t;let n=e.loopCount>0,i=n?null==e?void 0:e.duration:null==e?void 0:e.currentTime;rN().emit({type:"video",event:s_.CLOSE,data:{isVideoFullyPlayed:n,maximumViewingTime:i}}),null===(t=sP())||void 0===t||t.send({type:eX.RESET_CLOSE})},[ez.EMIT_CLOSE_FULLY_PLAYED]:e=>{var t;rN().emit({type:"video",event:s_.CLOSE,data:{isVideoFullyPlayed:!0,maximumViewingTime:null==e?void 0:e.duration}}),null===(t=sP())||void 0===t||t.send({type:eX.RESET_CLOSE})},[ez.SET_CAN_PLAY]:nQ({canPlay:()=>!0,duration:(e,t)=>{var n;return null===(n=t.eventTarget)||void 0===n?void 0:n.duration},videoWidth:(e,t)=>{var n;return null===(n=t.eventTarget)||void 0===n?void 0:n.videoWidth},videoHeight:(e,t)=>{var n;return null===(n=t.eventTarget)||void 0===n?void 0:n.videoHeight},videoElement:(e,t)=>t.eventTarget,rewardDuration:(e,t)=>{var n;return sh(null===(n=t.eventTarget)||void 0===n?void 0:n.duration)},orientation:(e,t)=>{var n;let{videoWidth:i,videoHeight:r}=null!==(n=t.eventTarget)&&void 0!==n?n:{};return i/r>1?eY.LANDSCAPE:eY.PORTRAIT}}),[ez.EMIT_DURATION_CHANGE]:(e,t)=>{var n;rV().emit({type:"video",event:s_.DURATION_CHANGE,data:{duration:null===(n=t.eventTarget)||void 0===n?void 0:n.duration}})},[ez.EMIT_WAITING]:()=>{rV().emit({type:"video",event:s_.WAITING})},[ez.EMIT_SUSPEND]:()=>{rV().emit({type:"video",event:s_.SUSPEND})},[ez.EMIT_TIME_UPDATE]:()=>{rV().emit({type:"video",event:s_.TIME_UPDATE})},[ez.UPDATE_CURRENT_TIME]:nQ({currentTime:e=>e.videoElement?e.videoElement.currentTime:0}),[ez.RESET_CURRENT_TIME]:e=>{e.videoElement&&(e.videoElement.currentTime=e.currentTime)},[ez.RESET_CONTEXT]:nQ({canPlay:!1,currentTime:0,duration:0,rewardDuration:0,progress:0,loopCount:0,videoHeight:0,videoWidth:0}),[ez.EMIT_LOAD]:()=>{oz({name:ai.VIDEO_START_REQUEST})}},s4(),s8())};var vf=()=>Ep(vI(),vm),vN=class{getCloseButtonDelaySeconds(e,t){return this.globalTimerService.isEnabled()?this.globalTimerService.getTotalCloseButtonDelaySeconds():void 0===e?6:ag(e,this.placementTypeService,t)?e:t}getCloseButtonCountDown(e,t){return!(void 0===e||Number.isNaN(e))&&!(e<=0)&&t}getCloseButtonStyle(e,t){return e?lR.CLOSE:this.globalTimerService.isEnabled()&&this.globalTimerService.getTotalCloseButtonDelaySeconds()>0?lR.SKIP:t}getCloseButtonConfig(e,t){let n=e.getCloseButtonConfig(),i=e.isLastPage();return{delay:this.getCloseButtonDelaySeconds(t,n.delay),style:this.getCloseButtonStyle(i,n.style),countdown:this.getCloseButtonCountDown(t,n.countdown)}}isShowNextButtonDuringCountDownInBackground(){return!!this.globalTimerService.isEnabled()&&this.globalTimerService.hasReachedVideoPageCloseButtonDelaySeconds()}shouldReplaceShowStoreKitOverlay(){var e;return this.isStoreKitOverlaySupported&&this.placementTypeService.isFullscreen()&&(null===(e=this.productViewService)||void 0===e?void 0:e.isDone())}constructor(e=Ev(),t=ox(),n=sd(),i=rS()){this.globalTimerService=e,this.isStoreKitOverlaySupported=t,this.productViewService=n,this.placementTypeService=i}};const vD=oc(!1);var vy=({scene:e,sendAdEvent:t,isCloseButtonVisible:n=!0})=>{let i=new vN,[r,a]=vf(),o=rH()?cf(t):t,s=e.getStoreKitOverlayAutoShowConfig().enabled;EA(e.getId(),e.getAppStoreOnDelayConfig(),r.value.context.canPlay),Em(e.getStoreKitOverlayAutoShowConfig(),r.value.context.canPlay),uo("video",vv),EU(e.getFullScreenClickConfig().enabled,e.getAppsFlyerConfig().enabled),cX(vD.value),Ex(t),l9(),Ez(e);let l=vh();return EK({callToActionConfig:vD.value?e.getLastChanceEndcardConfig().cta:e.getCallToActionConfig(),eventMapConfig:e.getEventMapConfig(),sceneId:e.getId(),shouldReplaceShowStoreKitOverlay:i.shouldReplaceShowStoreKitOverlay()}),EX({fullScreenClickConfig:vD.value?e.getLastChanceEndcardConfig().fsc:e.getFullScreenClickConfig(),eventMapConfig:e.getEventMapConfig(),sceneId:e.getId(),shouldReplaceShowStoreKitOverlay:i.shouldReplaceShowStoreKitOverlay()}),uo("cta",((e,t)=>{vD.value||cR(e,t)})),uo("fsc",((e,t)=>{vD.value||cR(e,t)})),oy(aR,{children:[oy(EH,{config:e.getLastChanceEndcardConfig(),sendAdEvent:t,onVisibilityChange:e=>{vD.value=e}}),oy(Eb,{config:e.getFullScreenClickConfig(),children:[r.value.context.canPlay&&n&&!vD.value&&oy(uv,{config:i.getCloseButtonConfig(e,r.value.context.duration),handleTimerUpdate:l,showNextButtonDuringCountDownInBackground:i.isShowNextButtonDuringCountDownInBackground(),sendAdEvent:o,showLastChanceEndcard:e.getLastChanceEndcardConfig().enabled}),oy(_9,{isVisible:r.value.matches(ej.AUTO_PLAY_FAIL),sendVideoEvent:a}),oy(_7,{isInLine:rS().isInLine()}),oy(_4,{scene:e,videoState:r,sendVideoEvent:a,sendAdEvent:t}),(!e.getCallToActionConfig().isPersistent||s)&&oy(ua,{delay:e.getCallToActionConfig().delay,isVisible:!1,children:oy(vi,{})}),e.getCallToActionConfig().isPersistent&&!s&&r.value.context.canPlay&&oy(vd,{scene:e,videoOrientation:r.value.context.orientation,viewportOrientation:rh().getOrientation()})]})]})};const vR=e=>4===e.length?e:vR(`0${e}`),vL=e=>e.split("").map((e=>vR(parseInt(e,16).toString(2)))).join("").split("");var vw=class{constructor(e=n7()){this.tokenService=e,this.getBits=()=>{let e=this.tokenService.get(n9.SESSION_ID);if(!e){let e=[];for(let t=0;t<96;t+=1)e.push("0");return e}return vL(e)}}};i2="_0zGmtq_bit",i3="_0zGmtq_leading",i5="_0zGmtq_one",i6="_0zGmtq_watermark",i4="_0zGmtq_zero";const vP=(e,t)=>`bit-${e}-${t}`;var vb=()=>{let e=new vw;return rS().isFullscreen()?oy("div",{className:i6,id:"watermark",children:[oy("div",{className:`${i5}  ${i3} ${i2}`}),e.getBits().map(((e,t)=>oy("div",{className:`${i2} ${"0"===e?i4:i5}`,id:vP(e,t)},vP(e,t))))]}):null};i8="W6zMza_dialog",i7="W6zMza_dialogActions",i9="W6zMza_dialogBody",ne="W6zMza_dialogBox",nt="W6zMza_dialogContent",ni="W6zMza_dialogText",nn="W6zMza_dialogTitle";var vV=({titleText:e,bodyText:t,isVisible:n,identifier:i,children:r})=>oy("div",{id:null!=i?i:"dialog",role:"dialog",className:ne,style:{visibility:n?"visible":"hidden"},children:oy("div",{className:i8,children:oy("div",{className:nt,children:[oy("div",{className:nn,children:e}),oy("div",{className:i9,children:[oy("div",{className:ni,children:t}),oy("div",{className:i7,children:r})]})]})})}),vM=class{getTitleText(){var e;return null!==(e=this.tokenService.get(n9.INCENTIVIZED_TITLE_TEXT))&&void 0!==e?e:"Close this ad?"}getBodyText(){var e;return null!==(e=this.tokenService.get(n9.INCENTIVIZED_BODY_TEXT))&&void 0!==e?e:"Are you sure you want to skip this ad? You must finish watching to claim your reward."}getCloseText(){var e;return null!==(e=this.tokenService.get(n9.INCENTIVIZED_CLOSE_TEXT))&&void 0!==e?e:"Close Ad"}getContinueText(){var e;return null!==(e=this.tokenService.get(n9.INCENTIVIZED_CONTINUE_TEXT))&&void 0!==e?e:"Continue"}constructor(e){this.tokenService=null!=e?e:n7()}},vk=()=>{let[e,t]=Ep(s9(),le);return[e,t]};nr="eDiOmG_continueIcon",na="eDiOmG_primaryButton",no="eDiOmG_secondaryButton";var vU=({sendAdEvent:e})=>{let[t,n]=vk(),i=new vM;return oy(vV,{identifier:"incentivized-dialog",titleText:i.getTitleText(),bodyText:i.getBodyText(),isVisible:t.value.matches(eJ.SHOWING),children:oy(aR,{children:[oy("div",{className:na,children:oy("button",{className:"primary",type:"button",id:"incentivized-dialog-continue",onClick:()=>{n({type:e0.HIDE})},children:[i.getContinueText(),oy("span",{className:nr,id:"incentivized-dialog-continue-icon"})]})}),oy("div",{className:no,children:oy("button",{className:"secondary",type:"button",id:"incentivized-dialog-close",onClick:()=>{n({type:e0.CLOSE}),e({type:eQ.NEXT})},children:i.getCloseText()})})]})})};ns="m2_mMq_privacyButton";const vB={[re.DIRECT]:"#3d6796",[re.ACCELERATE]:"#96633d",[re.EDSP]:"#853d96",[re.UNKNOWN]:"#333"};var vH=({handleClick:e,adSource:t})=>oy("button",{type:"button",id:lu,title:"Liftoff Privacy",className:ns,onClick:e,"aria-label":"Liftoff Privacy",children:oy("svg",{id:"j",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 302 340",children:[oy("path",{d:"M274.04,32.82L160.56,7.74c-2.53-.42-5.1-.43-7.62,0L28.59,32.87c-12.39,2.04-21.55,13.63-21.55,27.27v165.78c0,7.75,2.99,15.14,8.25,20.36l55.61,55.27c44.48,44.21,116.29,44.21,160.77,0l55.61-55.27c5.26-5.22,8.25-12.62,8.25-20.36V60.08c0-13.62-9.13-25.19-21.49-27.26Z",fill:vB[null!=t?t:re.UNKNOWN],opacity:".6",strokeWidth:"0"}),oy("path",{d:"M275.5,26.22L161.67,1.07c-3.25-.55-6.56-.54-10.08.03L27.37,26.22C11.67,28.88.29,43.11.29,60.13v143.34c0,23.78,9.29,46.64,25.47,62.73l51.82,46.31c41.98,37.52,105.43,37.52,147.41,0l51.82-46.32c16.19-16.09,25.47-38.95,25.47-62.73V60.08c0-17.03-11.41-31.3-26.79-33.86ZM288.78,203.48c0,20.2-7.83,39.57-21.48,53.14l-32.94,29.99c-8.73-9.02-16.42-17.46-16.42-17.46-10.8-11.49-24.61-2.92-24.61-2.92-1.95,1.13-4.12,2.13-6.42,3.02-3.77,1.29-8.66,2.76-14.21,4-9.02,1.83-17.27,2.47-20.08,2.65-.44.01-.87.04-1.3.05-.44,0-.87-.04-1.3-.05-2.82-.18-11.06-.82-20.08-2.65-5.55-1.24-10.44-2.71-14.21-4-2.3-.89-4.47-1.88-6.42-3.02,0,0-13.82-8.57-24.61,2.92,0,0-7.28,7.89-16.44,17.48l-32.96-30.01c-13.65-13.56-21.48-32.93-21.48-53.14V60.13c0-10.25,6.83-19.11,15.89-20.6l124.34-25.14c.96-.15,1.92-.22,2.82-.22.8,0,1.57.05,2.25.16l113.83,25.15c9.04,1.51,15.85,10.36,15.85,20.59v143.4Z",fill:"#f3f4f5",strokeWidth:"0"}),oy("path",{d:"M188.96,142.21c-6.2,0-9.55,5-10.07,15.01l-.06,3.69c0,11.44,3.34,17.16,10.01,17.16,4.45,0,7.62-1.87,9.53-5.6v-24.54c-1.83-3.81-4.96-5.72-9.41-5.72Z",fill:"#f3f4f5",strokeWidth:"0"}),oy("polygon",{points:"107.78 160.02 126.43 160.02 117.07 129.93 107.78 160.02",fill:"#f3f4f5",strokeWidth:"0"}),oy("path",{d:"M151,57c-51.36,0-93,41.64-93,93s41.64,93,93,93,93-41.64,93-93-41.64-93-93-93ZM136.49,192.36l-5.06-16.2h-28.65l-5,16.2h-22.34l31.81-86.73h19.66l32.05,86.73h-22.46ZM200.46,192.36l-1.01-6.91c-4.13,5.4-9.37,8.1-15.73,8.1-7.67,0-13.74-2.94-18.23-8.82-4.49-5.88-6.73-14.24-6.73-25.08,0-10.21,2.2-18.25,6.61-24.13,4.41-5.88,10.56-8.82,18.47-8.82,5.76,0,10.6,2.26,14.54,6.79v-32.64h20.13v91.5h-18.05Z",fill:"#f3f4f5",strokeWidth:"0"})]})});nl="FbTWOG_closeIcon",nd="FbTWOG_displayNone",nc="FbTWOG_hasEventMetadata",nu="FbTWOG_hide",nE="FbTWOG_id",n_="FbTWOG_idContent",nv="FbTWOG_idName",nT="FbTWOG_ids",nh="FbTWOG_mask",nS="FbTWOG_popupBody",np="FbTWOG_popupContainer",ng="FbTWOG_popupContainerDisplay",nC="FbTWOG_popupHeader",nO="FbTWOG_popupTitle",nA="FbTWOG_privacyPopup",nI="FbTWOG_readMore",nm="FbTWOG_show";var vx=({isOpen:e,handleReadMoreClick:t,closeHandler:n,creativeID:i,eventID:r})=>oy("div",{className:EN(np,e?ng:""),id:ll,children:[oy("div",{className:e?nh:nd,id:lc,onClick:n,role:"none"}),oy(_o,{onSwipeDown:n,children:oy("div",{id:ld,role:"dialog","aria-label":"Privacy popup","aria-hidden":e?"false":"true",className:EN(nA,e?nm:nu),children:[oy("div",{className:nC,children:[oy("div",{className:nO,title:"privacy-popup-title",children:"Privacy Policy"}),oy("button",{type:"button","aria-label":"Close privacy popup",onClick:n,id:"privacy-close-button",children:oy("span",{className:nl})})]}),oy("div",{className:nS,children:"Liftoff, Inc. understands the importance of privacy. Liftoff operates a mobile ad network (the 'Ad Network' or the 'Services') through which Liftoff displays targeted, contextual ads."}),oy("button",{type:"button",className:nI,onClick:t,id:"privacy-read-more-button",children:"Privacy Policy & Ad Information"}),oy("div",{className:EN(nT,i||r?nc:""),children:[i&&oy("div",{className:nE,id:"privacy-drawer-creative-id",children:[oy("div",{className:nv,children:"Creative ID"}),oy("div",{className:n_,children:i})]}),r&&oy("div",{className:nE,id:"privacy-drawer-event-id",children:[oy("div",{className:nv,children:"Event ID"}),oy("div",{className:n_,children:r})]})]})]})})]}),vW=class{getAdSource(){return this.placementTypeService.getAdSource()}getCreativeId(){var e;return null!==(e=this.tokenService.get(n9.CREATIVE_ID))&&void 0!==e?e:""}getEventId(){var e;return null!==(e=this.tokenService.get(n9.SESSION_ID))&&void 0!==e?e:""}handleDrawerClose(e){e({type:eQ.PRIVACY_BOTTOM_DRAWER_CLOSE})}handleIconClick(e){e({type:eQ.PRIVACY_BOTTOM_DRAWER_OPEN})}handleReadMoreClick(e){e({type:eQ.PRIVACY_BOTTOM_DRAWER_CLOSE}),window.setTimeout((()=>{e({type:eQ.OPEN_PRIVACY_PAGE})}),50)}privacyDrawerEnabled(){return this.placementTypeService.isFullscreen()}constructor(e=n7(),t=rS()){this.tokenService=e,this.placementTypeService=t}};const vF=oc(!1);var vK=({sendAdEvent:e,privacyService:t=new vW,customMraidEventReportingService:n=rV()})=>{let i=()=>{vF.value=!1,t.handleDrawerClose(e)};return uo("custom-mraid",((e,t)=>{t===s6.CLOSE&&vF&&i()}),n),oy(aR,{children:[oy(vH,{handleClick:()=>{t.handleIconClick(e),vF.value=!0},adSource:t.getAdSource()}),t.privacyDrawerEnabled()&&oy(vx,{isOpen:vF.value,closeHandler:i,handleReadMoreClick:()=>{vF.value=!1,t.handleReadMoreClick(e)},creativeID:t.getCreativeId(),eventID:t.getEventId()})]})};nf="gRz7DW_ad";var vG=()=>{let[e,t]=EJ(),{isCloseButtonVisible:n,isPrivacyButtonVisible:i,shouldRenderIFrame:r}=e.value.context,a=EQ(e.value),o=i&&a.getSceneType()!==aa.closed;return oy("div",{id:nf,children:oy(_g,{children:[oy(vb,{}),o&&oy(vK,{sendAdEvent:t}),!!a&&"function"==typeof a.getAndroidProductViewConfig&&oy(_S,{sendAdEvent:t,androidProductViewConfig:a.getAndroidProductViewConfig()}),oy(vU,{sendAdEvent:t}),a.getSceneType()===aa.gdpr&&oy(_O,{sendAdEvent:t}),a.getSceneType()===aa.image&&oy(_N,{scene:a,sendAdEvent:t,isCloseButtonVisible:n},a.getId()),a.getSceneType()===aa.video&&oy(vy,{scene:a,sendAdEvent:t,isCloseButtonVisible:n},a.getId()),a.getSceneType()===aa.endcard&&oy(E$,{scene:a,sendAdEvent:t,shouldRenderIFrame:r,isCloseButtonVisible:n},a.getId()),a.getSceneType()===aa.adaptiveCreativeEndcard&&oy(_t,{sendAdEvent:t,shouldRenderIFrame:r,scene:a,isCloseButtonVisible:n},a.getId()),a.getSceneType()===aa.closed&&oy(_p,{})]})})};const vY={options:void 0,lastActivity:void 0,volume:void 0,sessionContent:void 0,state:void 0,nativeView:void 0},vX=()=>{if(window.omidBridge){var e,t,n,i,r,a,o,s,l,d,c,u;let{options:E,lastActivity:_,volume:v,sessionContent:T,state:h,nativeView:S}=vY;E&&(null===(e=(t=window.omidBridge).init)||void 0===e||e.call(t,...E)),_&&(null===(n=(i=window.omidBridge).setLastActivity)||void 0===n||n.call(i,..._)),v&&(null===(r=(a=window.omidBridge).setDeviceVolume)||void 0===r||r.call(a,...v)),T&&(null===(o=(s=window.omidBridge).startSession)||void 0===o||o.call(s,...T)),h&&(null===(l=(d=window.omidBridge).setState)||void 0===l||l.call(d,...h)),S&&(null===(c=(u=window.omidBridge).setNativeViewHierarchy)||void 0===c||c.call(u,...S))}};var vj=e=>new Promise(((t,n)=>{let i=document.createElement("script");i.src=e,document.head.appendChild(i),i.onload=t,i.onerror=()=>n(Error(`Failed to load script url ${e}`))}));const vz=new rn("6.9.1"),vq=async(e=n7(),t=rh(),n=vj,i=rV(),r=vX)=>{if(rB(e.get(n9.OM_ENABLED))&&!t.getSdkVersion().isLessThan(vz))try{await n("omsdk.js"),await n("omsdk-session.js"),r()}catch(e){i.emit({type:"error-logging",event:o3.EXCEPTION,data:{error:{message:"Load OMSDK files failed"}}})}};var v$=()=>{cm().start()},vZ=()=>{let e=o2(),t=e.createMachine(o8,o7);e.interpret(t).start()};(eO=nN||(nN={})).RESET_VIEWABLE="resetViewable",eO.SET_VIEWABLE_TO_FALSE="setViewableToFalse";var vQ=e=>({resetViewable:()=>{(e||l1()).resetViewable()},setViewableToFalse:()=>{(e||l1()).setViewable(!1)}});const vJ=()=>({id:s0,initial:eH.HIDDEN,context:{delay:0},states:{[eH.SHOWING]:{on:{[eB.CLOSE]:{target:eH.HIDDEN,actions:[nN.RESET_VIEWABLE,e1.START_INTERVALS]}}},[eH.HIDDEN]:{on:{[eB.OPEN]:{target:eH.SHOWING,actions:[nN.SET_VIEWABLE_TO_FALSE,e1.PAUSE_INTERVALS]}}},[eH.INITIAL]:{},[eH.PREPARING]:{},[eH.FALLBACK]:{},[eH.DONE]:{}}}),v0=(e=l1(),t=sL())=>({actions:nx({},vQ(e),s4(t))});var v1=class extends sl{constructor(e=vJ,t=v0,n=o2(),i=l1(),r=sL()){super(e(),t(i,r),n)}};(eA=nD||(nD={})).ADD_VIEWABILITY_HANDLER="addViewabilityHandler",eA.CLOSE_STORE_VIEW="closeStoreView",eA.OPEN_STORE_VIEW="openStoreView",eA.REMOVE_VIEWABILITY_HANDLER="removeViewabilityHandler",eA.SHOW_FALLBACK="showFallback",eA.UPDATE_OPEN_COUNT="updateOpenCount";var v2=nD;const v3=()=>({id:s0,initial:eH.HIDDEN,context:{delay:0,openCount:0},states:{[eH.SHOWING]:{on:{[eB.CLOSE]:{target:eH.HIDDEN,actions:[v2.CLOSE_STORE_VIEW,v2.REMOVE_VIEWABILITY_HANDLER]},[eB.SET_FALLBACK]:{target:eH.FALLBACK,actions:[v2.REMOVE_VIEWABILITY_HANDLER]}}},[eH.HIDDEN]:{on:{[eB.OPEN]:{target:eH.SHOWING,actions:[v2.ADD_VIEWABILITY_HANDLER,v2.UPDATE_OPEN_COUNT,v2.OPEN_STORE_VIEW]}}},[eH.FALLBACK]:{on:{[eB.OPEN]:{actions:[v2.SHOW_FALLBACK]}}},[eH.INITIAL]:{},[eH.PREPARING]:{},[eH.DONE]:{}}}),v5=(e,t)=>{var n;t.event===sR.MAXIMIZED&&(null===(n=s2())||void 0===n||n.send({type:eB.CLOSE}))},v6=(e=n8(),t=rV())=>({actions:{[v2.OPEN_STORE_VIEW]:()=>{var n,i;oz({name:ai.APP_STORE_OPEN},void 0,void 0,t),sV({name:ai.APP_STORE_OPEN},!0,t),null===(i=e.getMraidExt())||void 0===i||null===(n=i.openAppStore)||void 0===n||n.call(i,0)},[v2.CLOSE_STORE_VIEW]:()=>{oz({name:ai.APP_STORE_CLOSE},void 0,void 0,t)},[v2.ADD_VIEWABILITY_HANDLER]:()=>{t.addEventHandler("viewability",v5)},[v2.REMOVE_VIEWABILITY_HANDLER]:()=>{t.removeEventHandler("viewability",v5)},[v2.UPDATE_OPEN_COUNT]:nQ({openCount:e=>e.openCount?e.openCount+1:1}),[v2.SHOW_FALLBACK]:()=>{if(ox())se().send({type:eP.START_IMMEDIATE_SHOW,fallback:ew.APP_STORE});else{var t;let n=sY();n&&(null===(t=e.getMraid())||void 0===t||t.open(n))}}}});(eI=ny||(ny={})).PREPARE_STORE_VIEW="prepareStoreView",eI.SET_APP_STORE_ID="setAppStoreId";const v4=nx({},v2,ny);(em=nR||(nR={})).CLOSE="CLOSE",em.OPEN="OPEN",em.PREPARE_FINISHED="PREPARE_FINISHED",em.PREPARE_SUCCESS="PREPARE_SUCCESS",em.READY="READY",(ef=nL||(nL={})).HIDDEN="HIDDEN",ef.INITIAL="INITIAL",ef.PREPARING="PREPARING",ef.SHOWING="SHOWING";const v8=()=>({id:s0,initial:eH.INITIAL,context:{delay:0,openCount:0,appStoreId:void 0},states:{[eH.INITIAL]:{on:{[eB.READY]:{target:eH.PREPARING,actions:[v4.SET_APP_STORE_ID,v4.PREPARE_STORE_VIEW]}}},[eH.PREPARING]:{on:{[eB.PREPARE_SUCCESS]:{target:eH.HIDDEN}}},[eH.SHOWING]:{on:{[eB.CLOSE]:{target:eH.INITIAL,actions:[v2.CLOSE_STORE_VIEW,v2.REMOVE_VIEWABILITY_HANDLER]}}},[eH.HIDDEN]:{on:{[eB.OPEN]:{target:eH.SHOWING,actions:[v2.ADD_VIEWABILITY_HANDLER,v2.UPDATE_OPEN_COUNT,v2.OPEN_STORE_VIEW]}}},[eH.FALLBACK]:{},[eH.DONE]:{}}}),v7=(e=n8(),t=rV())=>({actions:nW(nx({},v6(e,t).actions),{[v4.SET_APP_STORE_ID]:nQ({appStoreId:(e,t)=>t.appStoreId||e.appStoreId}),[v4.PREPARE_STORE_VIEW]:t=>{var n,i;null===(i=e.getMraidExt())||void 0===i||null===(n=i.prepareStoreView)||void 0===n||n.call(i,t.appStoreId)},[v4.OPEN_STORE_VIEW]:n=>{var i,r;n.appStoreId&&(oz({name:ai.APP_STORE_OPEN},void 0,void 0,t),null===(r=e.getMraidExt())||void 0===r||null===(i=r.presentStoreView)||void 0===i||i.call(r,n.appStoreId))}})});var v9=class extends sl{init(e){var t;null===(t=this.interpreter)||void 0===t||t.send(nx({type:eB.READY},e))}close(){var e,t;null===(e=this.interpreter)||void 0===e||e.send({type:eB.CLOSE}),null===(t=this.interpreter)||void 0===t||t.send({type:eB.READY})}constructor(e=v8,t=v7,n=o2()){super(e(),t(),n)}};const Te=()=>{let e=v3(),t=e.states[eH.SHOWING];return t.on=nW(nx({},t.on),{[eB.CLOSE]:{target:eH.DONE,actions:[v2.CLOSE_STORE_VIEW,v2.REMOVE_VIEWABILITY_HANDLER]}}),e},Tt=()=>Te();var Ti=class extends sl{fallback(){var e;!1!==this.hasFallback&&(null===(e=this.interpreter)||void 0===e||e.send({type:eB.SET_FALLBACK}),this.open())}constructor(e=v3,t=v6,n=o2()){super(e(),t(),n)}},Tn=class extends Ti{constructor(e=Tt,t=v6,n=o2()){super(e,t,n)}};const Tr=()=>{let e=v8(),t=e.states[eH.SHOWING];return t.on=nW(nx({},t.on),{[eB.CLOSE]:{target:eH.DONE,actions:[v2.CLOSE_STORE_VIEW,v2.REMOVE_VIEWABILITY_HANDLER]}}),e},Ta=()=>Tr();var To=class extends v9{constructor(e=Ta,t=v7,n=o2()){super(e,t,n)}},Ts=class extends Ti{constructor(e=Te,t=v6,n=o2()){super(e,t,n)}},Tl=class extends v9{constructor(e=Tr,t=v7,n=o2()){super(e,t,n)}},Td=class{withAppStoreId(e){let t=oW(this.tokenService);return t&&e.init({appStoreId:t}),e}resolve(){let e=new rn("17.2"),t=new rn("7.0"),n=new rn("7.1"),i=new rn("7.2.1");if(this.environmentService.getOsVersion().isGreaterThanOrEqualTo(e)){let e=this.environmentService.getSdkVersion();if(oQ()&&e.isLessThan(i))return new Tn;if(e.isGreaterThanOrEqualTo(t)&&e.isLessThan(n))return this.withAppStoreId(new To)}return rr.isAffectedByStoreKitProductViewMaskIssue(this.environmentService)?oQ()?new Ts:this.withAppStoreId(new Tl):oQ()?new Ti:this.withAppStoreId(new v9)}constructor(e=rh(),t=n7()){this.environmentService=e,this.tokenService=t}},Tc=class{resolve(){return uy(this.environmentService,this.tokenService)?new v1(void 0,void 0,this.stateMachineService,this.viewableService,this.intervalService):this.environmentService.getOperatingSystem()===r9.iOS?new Td(this.environmentService).resolve():void 0}constructor(e=rh(),t=o2(),n=n7(),i=l1(),r=sL()){this.environmentService=e,this.stateMachineService=t,this.tokenService=n,this.viewableService=i,this.intervalService=r}},Tu=(e=rh(),t=o2(),n=n7(),i=l1(),r=sL())=>{let a=nU.getInstance(),o=new Tc(e,t,n,i,r).resolve();return o&&a.bind(v1.getServiceIdentifier(),o),o},TE=()=>{let e=li.V5_1_2;if(rh().getMraidVersion().isLessThan(e))return;let t=nU.getInstance(),n=c1.getServiceIdentifier();t.bind(n,new rx),t.get(n).init((()=>new c1),!0)},T_=(e=rh(),t=n8())=>{let n=nU.getInstance(),i=l3.getServiceIdentifier(),r=Object.values(to);e.getMraidVersion().isLessThan(li.V5_2_1)&&(r=r.filter((e=>e!==to.SILENT_CHANGE)));let a=new l3(r,t);n.bind(i,a),a.init()},Tv=(e=rh(),t=rf(),n=oM())=>{sH(e)&&!oQ(e)&&Object.values(ey).forEach((e=>{null==n||n.addEventListener(e,(()=>{t.emit({type:"storekit-mraid",event:e})}))}))};class TT extends up{static getInstances(e=cg()){return e?[new TT(rK)]:[]}getId(){return this.id}getSceneType(){return this.sceneType}constructor(e){super(),this.id=e,this.sceneType=aa.gdpr}}var Th=class extends _F{getFullScreenClickConfig(){var e;return{enabled:void 0!==this.ecImageTokenValue||super.getFullScreenClickConfig().enabled,ctaUrl:null!==(e=this.ecCtaUrlTokenValue)&&void 0!==e?e:"",id:this.id,target:super.getFullScreenClickConfig().target}}constructor({id:e,ecImageTokenValue:t,ecCtaUrlTokenValue:n,skOverlayAutoTokenValue:i,fullCtaOptionTokenValue:r,fullCtaTokenValue:a,skFullCtaTokenValue:o,placementType:s}){super({skOverlayAutoTokenValue:i,fullCtaOptionTokenValue:r,fullCtaTokenValue:a,skFullCtaTokenValue:o,id:e,placementType:s}),this.ecImageTokenValue=t,this.ecCtaUrlTokenValue=n}};class TS extends u0{static getInstances(e=n7(),t=rS(),n=rh(),i=uy(),r=rA()){let a=[],o=[n9.BANNER_IMAGE_6_1,n9.BANNER_IMAGE_8_1,n9.MREC_IMAGE_6_5,n9.EC_IMAGE,n9.EC_IMAGE_2],s=e.has(n9.EC_HTML);return o.filter((t=>e.has(t))).forEach(((o,l)=>{var d;let c={[n9.BANNER_IMAGE_6_1]:_A.SMALL_BANNER,[n9.BANNER_IMAGE_8_1]:_A.LARGE_BANNER,[n9.MREC_IMAGE_6_5]:_A.MEDIUM_RECTANGLE}[o]||_A.FULLSCREEN,u=`image_${l}`,E=s?l+1:l;a.push(new TS({id:u,url:null!==(d=e.get(o))&&void 0!==d?d:"",index:E,fullScreenClickConfig:new Th({id:u,ecImageTokenValue:e.get(n9.EC_IMAGE),ecCtaUrlTokenValue:e.get(n9.EC_CTA_URL),skOverlayAutoTokenValue:e.get(n9.SKOVERLAY_AUTO),fullCtaOptionTokenValue:e.get(n9.FULL_CTA_OPTION),fullCtaTokenValue:e.get(n9.FULL_CTA),skFullCtaTokenValue:e.get(n9.SK_FSC),placementType:t.getPlacementType()}).getFullScreenClickConfig(),storeKitOverlayAutoShowConfig:new uw(E,this.isEndcardOnly(e),oW(e),e.get(n9.FULL_CTA_OPTION),e.get(n9.SKOVERLAY_AUTO),e.get(n9.SKOVERLAY_DELAY_SECONDS),e.get(n9.EC_SKOVERLAY_DELAY_SECONDS),e.get(n9.SKOVERLAY_AUTO_CLOSE),e.get(n9.EC_SKOVERLAY_DISABLE_AUTO_MMP),n,t).getStoreKitOverlayAutoShowConfig(),appStoreOnDelayConfig:new uP(E,oW(e),e.get(n9.APP_STORE_ON_ENDCARD_AUTO_DELAY),n).getAppStoreOnDelayConfig(),lastChanceEndcardConfig:new uk(uM(u,e,t)).getLastChanceEndcardConfig(),imageType:c,androidProductViewSupported:i,eventMapConfig:new uY(!1).getEventMapConfig(),closeButtonConfig:new uG({ecCloseButtonDelaySecondsTokenValue:e.get(n9.EC_CLOSE_BUTTON_DELAY_SECONDS),staticEcCloseButtonDelaySecondsTokenValue:e.get(n9.STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS),showECCloseButtonCountDownTokenValue:e.get(n9.SHOW_EC_CLOSE_BUTTON_COUNTDOWN),endcardCloseButtonAsSkipTokenValue:e.get(n9.ENDCARD_CLOSE_BUTTON_AS_SKIP),isSecondEndcard:1===E}).getCloseButtonConfig(),callToActionConfig:new u$({appMetaProviderParams:uz(e,r)}).getCallToActionConfig(),placementTypeService:t}))})),a}getSceneType(){return this.sceneType}getImageType(){return this.imageType}getFullScreenClickConfig(){return this.fullScreenClickConfig}getCloseButtonConfig(){return nW(nx({},this.closeButtonConfig),{style:this.isLastPage()?lR.CLOSE:this.closeButtonConfig.style})}getCallToActionConfig(){return this.callToActionConfig}constructor({id:e,url:t,index:n,fullScreenClickConfig:i,storeKitOverlayAutoShowConfig:r,appStoreOnDelayConfig:a,lastChanceEndcardConfig:o,imageType:s,closeButtonConfig:l,androidProductViewSupported:d,eventMapConfig:c,callToActionConfig:u,placementTypeService:E=rS()}){super({id:e,endcardContent:t,index:n,isAlternative:!1,compressionType:ty.NONE,storeKitOverlayAutoShowConfig:r,appStoreOnDelayConfig:a,lastChanceEndcardConfig:o,omsdkEnabled:!1,androidProductViewSupported:d,eventMapConfig:c,callToActionConfig:u,closeButtonConfig:l,placementTypeService:E}),this.sceneType=aa.image,this.id=e,this.url=t,this.index=n,this.fullScreenClickConfig=i,this.storeKitOverlayAutoShowConfig=r,this.appStoreOnDelayConfig=a,this.lastChanceEndcardConfig=o,this.imageType=s,this.androidProductViewSupported=d,this.eventMapConfig=c,this.callToActionConfig=u,this.closeButtonConfig=l,this.placementTypeService=E}}var Tp=class{isDelayExceedsEndcardDuration(e){return 9999===e||e>this.getEndcardDuration()}getEndcardDuration(){return this.endcardOnlyDurationSecondsTokenValue?Number(this.endcardOnlyDurationSecondsTokenValue):30}getSinglePageAdaptiveCreativeCloseButtonDelaySeconds(){let e=Number(this.incentivizedCloseButtonDelaySecondsTokenValue),t=Number(this.closeButtonDelaySecondsTokenValue),n=this.getEndcardDuration();return rB(this.isIncentivizedTokenValue)?this.isDelayExceedsEndcardDuration(e)?n:e:this.isDelayExceedsEndcardDuration(t)?n:t}getMultiPageAdaptiveCreativeCloseButtonDelaySeconds(){var e;let t=Number(null!==(e=this.ecCloseButtonDelaySecondsTokenValue)&&void 0!==e?e:0);return this.isDelayExceedsEndcardDuration(t)?this.getEndcardDuration():t}getStyle(){return rB(this.endcardCloseButtonAsSkipTokenValue)?lR.SKIP:lR.CLOSE}getCountDown(){return this.creativeViewTypeTokenValue===sp.ENDCARD?!uL(this.showCloseButtonCountDownTokenValue):!uL(this.showECCloseButtonCountDownTokenValue)}getCloseButtonConfig(){return{delay:this.getDelay(),style:this.getStyle(),countdown:this.getCountDown()}}constructor({creativeViewTypeTokenValue:e,incentivizedCloseButtonDelaySecondsTokenValue:t,ecCloseButtonDelaySecondsTokenValue:n,closeButtonDelaySecondsTokenValue:i,endcardOnlyDurationSecondsTokenValue:r,endcardCloseButtonAsSkipTokenValue:a,isIncentivizedTokenValue:o,showCloseButtonCountDownTokenValue:s,showECCloseButtonCountDownTokenValue:l}){this.getDelay=()=>this.creativeViewTypeTokenValue===sp.ENDCARD?this.getSinglePageAdaptiveCreativeCloseButtonDelaySeconds():this.getMultiPageAdaptiveCreativeCloseButtonDelaySeconds(),this.creativeViewTypeTokenValue=e,this.incentivizedCloseButtonDelaySecondsTokenValue=t,this.ecCloseButtonDelaySecondsTokenValue=n,this.closeButtonDelaySecondsTokenValue=i,this.endcardOnlyDurationSecondsTokenValue=r,this.endcardCloseButtonAsSkipTokenValue=a,this.isIncentivizedTokenValue=o,this.showCloseButtonCountDownTokenValue=s,this.showECCloseButtonCountDownTokenValue=l}};const Tg=(e=uy(),t=n7(),n=uz())=>({enabled:e,skCtaOnlyTokenValue:t.get(n9.SK_CTA_ONLY),appMetaProviderParams:n});var TC=class extends uq{getAndroidProductViewConfig(){return{enabled:this.enabled,cta:{target:ub(this.skCtaOnlyTokenValue),delay:super.getCtaButtonDelay(),appMeta:super.getAppMetaData(),text:super.getCtaButtonText(),url:super.getCtaButtonUrl()}}}constructor({enabled:e,skCtaOnlyTokenValue:t,appMetaProviderParams:n}){super(n),this.enabled=e,this.skCtaOnlyTokenValue=t}};const TO="adaptiveCreativeEndcard";class TA extends uN{static getInstances(e=n7(),t=rS()){return e.has(n9.ENDCARD_URL)?[new TA({androidProductViewSupported:uy(),appsFlyerConfig:new _Y(e.get(n9.APPSFLYER_ENABLED),e.get(n9.INCENTIVIZED)).getAppsFlyerConfig(),lastChanceEndcardConfig:new uk(uM(TO,e,t)).getLastChanceEndcardConfig(),androidProductViewConfig:new TC(Tg()).getAndroidProductViewConfig(),closeButtonConfig:new Tp({creativeViewTypeTokenValue:e.get(n9.CREATIVE_VIEW_TYPE),incentivizedCloseButtonDelaySecondsTokenValue:e.get(n9.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS),ecCloseButtonDelaySecondsTokenValue:e.get(n9.EC_CLOSE_BUTTON_DELAY_SECONDS),closeButtonDelaySecondsTokenValue:e.get(n9.CLOSE_BUTTON_DELAY_SECONDS),endcardOnlyDurationSecondsTokenValue:e.get(n9.ENDCARD_ONLY_DURATION_SECONDS),endcardCloseButtonAsSkipTokenValue:e.get(n9.ENDCARD_CLOSE_BUTTON_AS_SKIP),isIncentivizedTokenValue:e.get(n9.INCENTIVIZED),showCloseButtonCountDownTokenValue:e.get(n9.SHOW_CLOSE_BUTTON_COUNTDOWN),showECCloseButtonCountDownTokenValue:e.get(n9.SHOW_EC_CLOSE_BUTTON_COUNTDOWN)}).getCloseButtonConfig()})]:[]}getId(){return this.id}getSceneType(){return this.sceneType}getAppsFlyerConfig(){return this.appsFlyerConfig}getCloseButtonConfig(){return nW(nx({},this.closeButtonConfig),{style:this.isLastPage()?lR.CLOSE:this.closeButtonConfig.style})}getAdaptiveCreativeEndcardUrl(e){let t=this.tokenService.get(n9.ENDCARD_URL);return e&&(t.includes("?")?t+="&is_muted=true":t+="?is_muted=true"),t}isRemoteEndcardUrl(){return this.tokenService.get(n9.ENDCARD_URL).toLowerCase().startsWith("http")}extractURLPrefix(e){return`${e.substring(0,e.lastIndexOf("/"))}/`}modifyTextContent(e,t,n){let i='<script src="ad-js-injection.js"><\/script>',r=`<base href="${t}"/>`,a=`<script>window.shouldMuteAllMedia = ${n};<\/script>`,o=e.replace(i,"").replace("<head>",`<head>${a+i+r}`),s=o.match(/<script[^>]*>(?:(?!<script[^>]*>)[\s\S])*?window\.vungleSettings = (?:(?!<script[^>]*>)[\s\S])*?<\/script>/gi);return s&&s[0]?o.replace(s[0],"").replace("<head>",`<head>${s[0]}`):o}async loadRemoteEndcardContentIntoIframe(e,t){try{let n=this.tokenService.get(n9.ENDCARD_URL),i=await window.fetch(n),r=await i.text(),a=this.extractURLPrefix(n),o=this.modifyTextContent(r,a,t),s=e.contentWindow;s.document.open(),s.document.write(o),s.document.close()}catch(e){this.errorLoggingReportingService.emit({type:"error-logging",event:o3.EXCEPTION,data:{error:e}})}}getLastChanceEndcardConfig(){return this.lastChanceEndcardConfig}setLastChanceEndcardConfig(e){this.lastChanceEndcardConfig=e}getAndroidProductViewConfig(){return this.androidProductViewConfig}constructor({appsFlyerConfig:e,lastChanceEndcardConfig:t,closeButtonConfig:n,androidProductViewConfig:i,id:r=TO,tokenService:a=n7(),mraidService:o=n8(),errorLoggingReportingService:s=rA()}){super({isFullscreen:!0}),this.appsFlyerConfig=e,this.closeButtonConfig=n,this.androidProductViewConfig=i,this.lastChanceEndcardConfig=t,this.id=r,this.sceneType=aa.adaptiveCreativeEndcard,this.tokenService=a,this.mraidService=o,this.errorLoggingReportingService=s,this.addEntryAction({name:th.INIT_ASOI_SERVICE}),this.addEntryAction({name:th.INIT_AC_ENDCARD_MESSAGE_EVENT_LISTENER}),this.addEntryAction({name:th.INIT_REWARDED_COUNTDOWN}),this.addEntryAction({name:dt.ON_ENDCARD_START}),this.addExitAction({name:dt.ON_ENDCARD_CLOSE}),this.addTransition(um),this.addTransition(ux),this.addTransition(uW),this.addTransition(uF),this.addTransition(uK)}}var TI=class{static getInstances(e=n7(),t=rS(),n=rA()){let i="ALT_MAIN_STREAM_",r="ALT_MAIN_VIDEO_",a=[];return[...e.getSeriesTokens(i),...e.getSeriesTokens(r)].forEach(((o,s)=>{var l;let d=o.startsWith(i),c=o.split(d?i:r),u=c[c.length-1];a.push(new _Q({id:u,url:null!==(l=e.get(o))&&void 0!==l?l:"",index:s,isAlternative:!0,videoType:d?iR.HLS:iR.PROGRESSIVE,fullScreenClickConfig:new _F({skOverlayAutoTokenValue:e.get(n9.SKOVERLAY_AUTO),fullCtaOptionTokenValue:e.get(n9.FULL_CTA_OPTION),fullCtaTokenValue:e.get(n9.FULL_CTA),skFullCtaTokenValue:e.get(n9.SK_FSC),placementType:t.getPlacementType()}).getFullScreenClickConfig(),storeKitOverlayAutoShowConfig:{enabled:!1,isAutoClose:!1,autoShowDelay:0,openCallback:()=>{}},appStoreOnDelayConfig:{enabled:!1,autoShowDelay:0},appsFlyerConfig:new _Y(e.get(n9.APPSFLYER_ENABLED)).getAppsFlyerConfig(),callToActionConfig:new _q(_z(e,t,n)).getCallToActionConfig(),lastChanceEndcardConfig:new uk(uM(u,e,t)).getLastChanceEndcardConfig(),progressBarConfig:new _j({videoProgressBarTokenValue:e.get(n9.VIDEO_PROGRESS_BAR),videoProgressBarColorTokenValue:e.get(n9.VIDEO_PROGRESS_BAR_COLOR),ctaButtonBackgroundTokenValue:e.get(n9.CTA_BUTTON_BACKGROUND),isBanner:t.isBanner()}).getProgressBarConfig(),closeButtonConfig:new _X({closeButtonDelaySecondsTokenValue:e.get(n9.CLOSE_BUTTON_DELAY_SECONDS),incentivizedCloseButtonDelaySecondsTokenValue:e.get(n9.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS),incentivizedTokenValue:e.get(n9.INCENTIVIZED),videoCloseButtonAsSkipTokenValue:e.get(n9.VIDEO_CLOSE_BUTTON_AS_SKIP),showVideoCloseButtonCountDownTokenValue:e.get(n9.SHOW_VIDEO_CLOSE_BUTTON_COUNTDOWN)}).getCloseButtonConfig(),eventMapConfig:new uY(!1).getEventMapConfig(),loopVideo:!1,androidProductViewSupported:!1,isFullscreen:t.isFullscreen()}))})),a}},Tm=class{static getInstances(e=n7(),t=rS(),n=rA()){let i="ALT_EC_",r=[],a=e.getSeriesTokens(i),o=e=>{let t=e.split(i);return t[t.length-1]};return a.forEach(((i,a)=>{var s;let l=o(i);r.push(new u0({id:l,endcardContent:null!==(s=e.get(i))&&void 0!==s?s:"",index:a,isAlternative:!0,compressionType:ty.BASE64_ENCODED,storeKitOverlayAutoShowConfig:{enabled:!1,isAutoClose:!1,autoShowDelay:0,openCallback:()=>{}},appStoreOnDelayConfig:{enabled:!1,autoShowDelay:0},lastChanceEndcardConfig:new uk(uM(l,e,t)).getLastChanceEndcardConfig(),omsdkEnabled:!1,closeButtonConfig:new uG({ecCloseButtonDelaySecondsTokenValue:e.get(n9.EC_CLOSE_BUTTON_DELAY_SECONDS),staticEcCloseButtonDelaySecondsTokenValue:e.get(n9.STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS),showECCloseButtonCountDownTokenValue:e.get(n9.SHOW_EC_CLOSE_BUTTON_COUNTDOWN),endcardCloseButtonAsSkipTokenValue:e.get(n9.ENDCARD_CLOSE_BUTTON_AS_SKIP),isSecondEndcard:!1}).getCloseButtonConfig(),androidProductViewSupported:!1,eventMapConfig:{enabled:!1},callToActionConfig:new u$({appMetaProviderParams:uz(e,n)}).getCallToActionConfig(),placementTypeService:t}))})),r}},Tf=class{addTransformer(e){return this.transformers.push(e),this}build(){return this.mainScenes=this.buildMainScenes(),this.alternativeScenes=this.buildAlternativeScenes(),this.transformers.forEach((e=>{e.transform(this.mainScenes)})),this.mainScenes}buildMainScenes(){return[...TT.getInstances(),..._Q.getInstances(),...TA.getInstances(),...u0.getInstances(),...TS.getInstances(),...uZ.getInstances()]}buildAlternativeScenes(){let e,t=[...TI.getInstances(),...Tm.getInstances()],n=this.mainScenes.findIndex((e=>e.getSceneType()===aa.endcard)),i=this.mainScenes[n+1];return i&&(e=i),t.forEach((t=>{let n=t.getTransitions().find((e=>e.name===eQ.NEXT));n?n.scene=e:t.addTransition({name:eQ.NEXT,scene:e,actions:[]}),t.next=e})),t}constructor(){this.transformers=[],this.mainScenes=[],this.alternativeScenes=[],this.tokenService=n7()}},TN=class{transform(e){return e.forEach(((t,n)=>{var i,r;if(n===e.length-1)return;let a=t.getTransitions().find((e=>e.name===eQ.NEXT));a?a.scene=null!==(i=e[n+1])&&void 0!==i?i:void 0:t.addTransition({name:eQ.NEXT,scene:null!==(r=e[n+1])&&void 0!==r?r:void 0,actions:[]})})),e}},TD=class{transform(e){var t;return(sH()||uy())&&(null===(t=e.find((e=>e.getSceneType()===this.type)))||void 0===t||t.getTransitions().filter((e=>null!=e.scene)).forEach((e=>{e.actions.push({name:tC.SHOW_PRODUCT_VIEW})}))),e}constructor(e){this.type=e}},Ty=(e=rh(),t=n7())=>!(!sH(e)&&!uy(e,t))&&(rB(t.get(n9.APP_STORE_ON_FIRST_TRANSITION))||rB(t.get(n9.SKP_AFTER_VIDEO))),TR=class{transform(e){return e.length&&this.insertionHelper(e[0],this.index),e}insertionHelper(e,t){var n;if(0===t)return;let i=null===(n=e.getTransitions())||void 0===n?void 0:n.find((e=>e.name===eQ.NEXT&&e.scene)),r=null==i?void 0:i.scene;if(i&&r){if(this.ineligibleSceneTypes.includes(e.getSceneType()))return void this.insertionHelper(r,t);if(1===t)return void(i.actions.some((e=>e.name===tC.SHOW_PRODUCT_VIEW))||(i.actions.push({name:tC.EMIT_TRANSITION_OPEN_OBSERVABILITY_EVENT}),i.actions.push({name:tC.SHOW_PRODUCT_VIEW})));this.insertionHelper(r,t-1)}}constructor(e){this.index=e,this.ineligibleSceneTypes=[aa.gdpr]}},TL=()=>!!sH()&&rB(n7().get(n9.APP_STORE_ON_SECOND_TRANSITION)),Tw=class{transform(e){return this.addCloseAdAction(e,0),e}addCloseAdAction(e,t){var n,i;if(void 0===e[t+1])return;let r=null===(n=e[t].getTransitions())||void 0===n?void 0:n.find((e=>e.name===eQ.NEXT&&e.scene));if(r&&r.actions.find((e=>e.name===tC.SHOW_PRODUCT_VIEW))&&(null==r||null===(i=r.scene)||void 0===i?void 0:i.getSceneType())===aa.closed){r.actions.push({name:tC.END_AD_ON_PRODUCT_VIEW_CLOSE});let e=r.scene.getEntryActions().findIndex((e=>e.name===tS.CLOSE_AD));-1!==e&&r.scene.getEntryActions().splice(e,1)}this.addCloseAdAction(e,t+1)}},TP=class{transform(e){if(0===e.length)return[];if(1===e.length)return e[0].prev=void 0,e[0].next=void 0,e;for(let t=0;t<e.length;t+=1)e[t].prev=0===t?void 0:e[t-1],e[t].next=t===e.length-1?void 0:e[t+1];return e}},Tb=class{transform(e){return e.forEach((e=>{this.sceneTypesToAddPostrollView.includes(e.getSceneType())&&e.addEntryAction({name:e6.POSTROLL_VIEW})})),e}constructor(){this.sceneTypesToAddPostrollView=[aa.video,aa.image,aa.endcard,aa.adaptiveCreativeEndcard]}},TV=()=>{if(!sH()&&!uy())return!1;let e=n7();return(!e.has(n9.ENDCARD_URL)||!!rB(e.get(n9.THIRD_PAGE_STATIC_ENDCARD)))&&rB(e.get(n9.SKP_AFTER_ENDCARD))},TM=class{transform(e){let t=e.filter((e=>e.getSceneType()===aa.endcard&&!e.isAlternative())),n=e.filter((e=>e.isAlternative()));return t.forEach((e=>{n.forEach((t=>{e.addTransition({name:t.getId(),target:t.getId(),scene:t,actions:[]})}))})),n.forEach((e=>{n.forEach((t=>{e.getId()!==t.getId()&&e.addTransition({name:t.getId(),target:t.getId(),scene:t,actions:[]})}))})),e}},Tk=class{transform(e){return e.forEach((e=>{this.sceneTypesToInitCheckPoint.includes(e.getSceneType())&&e.addEntryAction({name:dt.INIT_CHECKPOINTS})})),e}constructor(){this.sceneTypesToInitCheckPoint=[aa.image,aa.endcard,aa.adaptiveCreativeEndcard]}},TU=class{transform(e){return e.forEach((e=>{this.SCENE_TYPES_TO_CLOSE_STOREKIT_OVERLAY.includes(e.getSceneType())&&e.addExitAction({name:tS.CLOSE_STOREKIT_OVERLAY})})),e}constructor(){this.SCENE_TYPES_TO_CLOSE_STOREKIT_OVERLAY=[aa.video,aa.endcard,aa.adaptiveCreativeEndcard]}},TB=class{transform(e){return e.forEach(((t,n)=>{var i;if(t.getSceneType()!==aa.video)return;let r=t.getTransitions().find((e=>e.name===eQ.NEXT)),a=null==r?void 0:r.actions.filter((e=>e.name!==tC.SHOW_PRODUCT_VIEW)),o={name:eQ.VIDEO_FAILURE,scene:null==r?void 0:r.scene,actions:null!=a?a:[]},s=null!==(i=e[n+1])&&void 0!==i?i:void 0;(null==s?void 0:s.getSceneType())===aa.endcard||(null==s?void 0:s.getSceneType())===aa.adaptiveCreativeEndcard?o.actions.push({name:e6.SEND_EVENT_VIDEO_SKIP_TO_NEXT_SCENE}):(o.actions.push({name:tS.CLOSE_AD}),o.scene=void 0),t.addTransition(o)})),e}},TH=class{transform(e){return e.forEach((e=>{var t,n;let i=null===(t=e.getTransitions())||void 0===t?void 0:t.find((e=>e.name===eQ.NEXT&&e.scene));if(!i)return;let r=null===(n=e.getAppsFlyerConfig)||void 0===n?void 0:n.call(e).enabled,a=i.actions.some((e=>e.name===tC.SHOW_PRODUCT_VIEW));r&&a&&i.actions.push({name:tC.EMIT_ENGAGED_VIEW_WHILE_PAGE_TRANSITION})})),e}},Tx=class{transform(e){return e.filter((e=>{var t;return(null===(t=e.next)||void 0===t?void 0:t.getSceneType())===aa.closed})).forEach((e=>{if(dp(e)){var t;e.setLastChanceEndcardConfig(nW(nx({},e.getLastChanceEndcardConfig()),{enabled:!0}));let n=[{name:tp.INTERRUPT},{name:tg.SHOW_LAST_CHANCE_ENDCARD},{name:e8.SET_CLOSE_BUTTON_HIDDEN},{name:e6.CLOSE_VIDEO_CURRENT_SCENE}];e.addTransition({name:eQ.LAST_CHANCE_ENDCARD,actions:n});let i=e.getTransitions().find((e=>e.name===eQ.NEXT));e.addExitAction({name:tg.CLOSE_LAST_CHANCE_ENDCARD}),e.addOrUpdateTransition({name:eQ.NEXT,actions:[{name:e8.SET_CLOSE_BUTTON_VISIBLE},...null!==(t=null==i?void 0:i.actions)&&void 0!==t?t:[]],scene:null==i?void 0:i.scene});let r=null==i?void 0:i.actions.find((e=>e.name===tC.SHOW_PRODUCT_VIEW));if(r){let t=[r],n=null==i?void 0:i.actions.find((e=>e.name===tC.EMIT_TRANSITION_OPEN_OBSERVABILITY_EVENT));n&&t.push(n),e.addOrUpdateTransition({name:eQ.LAST_CHANCE_ENDCARD,actions:t}),i&&(i.actions=i.actions.filter((e=>e.name!==tC.SHOW_PRODUCT_VIEW&&e.name!==tC.EMIT_TRANSITION_OPEN_OBSERVABILITY_EVENT)))}}})),e}},TW=(e=n7())=>rB(e.get(n9.VX_ENDCARD))||rB(e.get(n9.THIRD_PAGE_STATIC_ENDCARD)),TF=class{transform(e){return e.forEach((e=>{var t;if(e.getSceneType()!==aa.video||e.getTransitions().some((e=>e.name===eQ.COMPLETE&&void 0!==e.scene)))return;let n=e.getTransitions().find((e=>e.name===eQ.NEXT));n&&e.addOrUpdateTransition({name:eQ.COMPLETE,scene:null==n?void 0:n.scene,actions:[...null!==(t=null==n?void 0:n.actions)&&void 0!==t?t:[]]})})),e}},TK=()=>{let e=new Tf;e.addTransformer(new TN),e.addTransformer(new TP),(sx()||Ty())&&e.addTransformer(new TR(1)),TL()&&e.addTransformer(new TR(2)),TV()&&e.addTransformer(new TD(aa.adaptiveCreativeEndcard)),e.addTransformer(new Tb),e.addTransformer(new Tw),e.addTransformer(new Tk),e.addTransformer(new TU),e.addTransformer(new TB),e.addTransformer(new TH),e.addTransformer(new TF);let t=[...e.build(),...e.alternativeScenes];return t=(new TM).transform(t),TW()&&(t=(new Tx).transform(t)),nU.getInstance().bind(rF,t),t},TG=(e,t=uR)=>{let n={enabled:!1,isAutoClose:!1};if(!e)return n;let{overlay:i}=e,r=!!(null==i?void 0:i.autoShowDelay),a=null==i?void 0:i.autoShowDelay,o=!!((null==i?void 0:i.autoCloseDelay)&&i.autoCloseDelay>0),s=null==i?void 0:i.autoCloseDelay;return nW(nx(nW(nx(nW(nx({},n),{enabled:r}),r&&{autoShowDelay:a}),{isAutoClose:o}),o&&{autoCloseDelay:s}),{openCallback:(null==i?void 0:i.mmpClick)?t:void 0})},TY=e=>{var t,n,i;return{delay:null!==(t=null==e?void 0:e.delay)&&void 0!==t?t:0,countdown:null===(n=null==e?void 0:e.countdown)||void 0===n||n,style:null!==(i=null==e?void 0:e.style)&&void 0!==i?i:lR.CLOSE}};const TX=e=>void 0!==e&&"object"==typeof e&&Object.keys(e).some((e=>"token"===e));var Tj=(e,t=n7())=>{var n,i,r;let a=TX(null==e?void 0:e.icon)?null!==(i=t.get(e.icon.token))&&void 0!==i?i:"":null!==(r=null==e?void 0:e.icon)&&void 0!==r?r:void 0,o={enabled:!(!(null==e?void 0:e.name)||!a),downloads:null==e?void 0:e.downloads,icon:a,name:null==e?void 0:e.name,price:null==e?void 0:e.price,ratingCount:null==e?void 0:e.rating,screenshots:null==e||null===(n=e.screenshots)||void 0===n?void 0:n.map((e=>{var n;return TX(e)?null!==(n=t.get(e.token))&&void 0!==n?n:"":e}))};return Object.keys(o).forEach((e=>{var t;(void 0===o[e]||""===o[e]||Array.isArray(o[e])&&0===(null!==(t=o[e])&&void 0!==t?t:[]).length)&&delete o[e]})),o},Tz=(e,t,n,i=n7())=>{var r,a,o,s,l,d,c,u,E,_,v,T,h,S;let p={id:e,enabled:!1};if(!t||0===Object.keys(t).length)return p;let g=!1,C=null!==(u=null==t?void 0:t.fsc)&&void 0!==u&&u,A=null!==(E=null==t||null===(r=t.cta)||void 0===r?void 0:r.text)&&void 0!==E?E:"Open";Object.keys(null!==(_=null==n?void 0:n.on)&&void 0!==_?_:{}).includes(eQ.LAST_CHANCE_ENDCARD)&&(g=!0);let O=Tj(t.appMeta,i),I=nW(nx({},O),{enabled:!(!O.name||!O.icon)});return nW(nx({},p),{enabled:g,fsc:{enabled:C,ctaUrl:null!==(v=null==t||null===(a=t.cta)||void 0===a?void 0:a.url)&&void 0!==v?v:"",target:null==t||null===(o=t.storeKit)||void 0===o?void 0:o.fscTarget},appMeta:I,close:TY(null==t?void 0:t.close),cta:{text:A,url:null!==(T=null==t||null===(s=t.cta)||void 0===s?void 0:s.url)&&void 0!==T?T:"",isPersistent:null!==(h=null==t||null===(l=t.cta)||void 0===l?void 0:l.isPersistent)&&void 0!==h&&h,delay:null!==(S=null==t||null===(d=t.cta)||void 0===d?void 0:d.delay)&&void 0!==S?S:4,appMeta:I,target:null==t||null===(c=t.storeKit)||void 0===c?void 0:c.ctaTarget}})},Tq=(e,t,n=n7())=>{var i,r;return{url:e.url,text:e.text,isPersistent:e.isPersistent,delay:null!==(i=e.delay)&&void 0!==i?i:0,background:e.background,appMeta:e.appMeta?Tj(e.appMeta,n):void 0,target:null!==(r=null==t?void 0:t.ctaTarget)&&void 0!==r?r:ao.SKPV}},T$=e=>{let t=null==e?void 0:e.events;return t?{enabled:!0,events:t}:{enabled:!1}};const TZ={video:(e,t,n,i=rS(),r=n7())=>{var a,o,s,l,d;let c=e.url.endsWith(".m3u8")?iR.HLS:iR.PROGRESSIVE,u={enabled:e.fsc,target:null===(a=e.storeKit)||void 0===a?void 0:a.fscTarget},E={manifest:null===(o=e.streamManifest)||void 0===o?void 0:o.manifest,track_0:null===(s=e.streamManifest)||void 0===s?void 0:s.track_0,chunks:null===(d=e.streamManifest)||void 0===d||null===(l=d.chunks)||void 0===l?void 0:l.map((e=>"string"==typeof e?e:"object"==typeof e&&Object.keys(e).includes("token")?r.get(e.token):"")).filter((e=>""!==e))};return new _Q({id:e.id,url:e.url,isAlternative:!1,index:t,videoType:c,streamManifest:E,progressBarConfig:(()=>{var t,n,i;let r=null!==(i=null==e||null===(t=e.progressBar)||void 0===t?void 0:t.show)&&void 0!==i&&i;return{show:r,color:r&&(null===(n=e.progressBar)||void 0===n?void 0:n.color)?e.progressBar.color:cU}})(),fullScreenClickConfig:u,storeKitOverlayAutoShowConfig:TG(e.storeKit),appStoreOnDelayConfig:{enabled:!1,autoShowDelay:0},appsFlyerConfig:{enabled:!1,isRewardTypeAd:!1},callToActionConfig:Tq(e.cta,e.storeKit,r),lastChanceEndcardConfig:Tz(e.id,e.lastChanceEndcard,n,r),closeButtonConfig:TY(e.close),originalVideoUrl:e.url,loopVideo:e.looping,muteVideo:e.muted,androidProductViewSupported:!1,eventMapConfig:T$(e),isFullscreen:i.isFullscreen()})},endcard:(e,t,n,i=rS(),r=n7())=>{let a=e.compressed?ty.GZIP:ty.BASE64_ENCODED;return new u0({id:e.id,endcardContent:e.html,index:t,isAlternative:!1,compressionType:a,storeKitOverlayAutoShowConfig:TG(e.storeKit),appStoreOnDelayConfig:{enabled:!1,autoShowDelay:0},lastChanceEndcardConfig:Tz(e.id,e.lastChanceEndcard,n,r),omsdkEnabled:!1,androidProductViewSupported:!1,eventMapConfig:T$(e),callToActionConfig:Tq(e.cta,e.storeKit,r),placementTypeService:i,closeButtonConfig:TY(e.close)})},image:(e,t,n,i=rS(),r=n7())=>{var a;return new TS({id:e.id,url:e.url,index:t,fullScreenClickConfig:{enabled:e.fsc,ctaUrl:e.cta.url,target:null===(a=e.storeKit)||void 0===a?void 0:a.fscTarget},storeKitOverlayAutoShowConfig:TG(e.storeKit),appStoreOnDelayConfig:{enabled:!1,autoShowDelay:0},lastChanceEndcardConfig:Tz(e.id,e.lastChanceEndcard,n,r),imageType:_A.FULLSCREEN,androidProductViewSupported:!1,eventMapConfig:T$(e),placementTypeService:i,closeButtonConfig:TY(e.close),callToActionConfig:Tq(e.cta,e.storeKit,r)})}};var TQ=class{addTransformer(e){return this.transformers.push(e),this}build(){let e=TT.getInstances();return this.scenes.unshift(...e),this.transformers.forEach((e=>{this.scenes=e.transform(this.scenes)})),this.scenes}constructor(e=new cC,t=TZ,n=rS()){this.converters=t,this.placementTypeService=n,this.transformers=[],this.scenes=[],this.scenesMap=new Map;let i=e.getSceneData(),r=e.getAdMachineConfig(),a=new Map;i.forEach((e=>{a.has(e.type)||a.set(e.type,[]),a.get(e.type).push(e)})),a.forEach(((e,t)=>{let n=this.converters[t];n&&e.forEach(((e,t)=>{let i=n(e,t,r.states[e.id],this.placementTypeService);this.scenes.push(i),this.scenesMap.set(e.id,i)}))}));let o=new uZ;this.scenesMap.set(o.getId(),o),this.scenes.push(o),this.scenes.forEach((e=>{let t=r.states[e.getId()];(null==t?void 0:t.on)&&Object.keys(t.on).forEach((n=>{let i=t.on[n],r={name:n,actions:i.actions?i.actions.map((e=>({name:e}))):[],scene:i.target?this.scenesMap.get(i.target):void 0};e.addOrUpdateTransition(r)}))}))}},TJ=class{transform(e){return e.filter((e=>!!dp(e)&&e.getLastChanceEndcardConfig().enabled)).forEach((e=>{e.addOrUpdateTransition({name:eQ.NEXT,actions:[{name:tg.CLOSE_LAST_CHANCE_ENDCARD},{name:e8.SET_CLOSE_BUTTON_VISIBLE}]});let t=[{name:tp.INTERRUPT},{name:e8.SET_CLOSE_BUTTON_HIDDEN},{name:dt.FLUSH_MRAID_EVENTS_PROXY_CALLBACKS}];e.getSceneType()===aa.video&&t.push({name:e6.CLOSE_VIDEO_CURRENT_SCENE}),e.addOrUpdateTransition({name:eQ.LAST_CHANCE_ENDCARD,actions:t})})),e}},T0=class{transform(e,t=new cC){let n=t.getAdMachineConfig(),i=t=>e.find((e=>e.getId()===t));return e.forEach((e=>{var t,r,a;let o=e.getId(),s=i(null===(t=null===(a=n.states[o])||void 0===a||null===(r=a.on)||void 0===r?void 0:r.NEXT)||void 0===t?void 0:t.target);s&&(e.next=s,s.prev=e)})),e}};const T1=[new Tb,new Tk,new TU,new TJ,new TB,new TF,new T0];var T2=(e=new cC,t=T1)=>{let n=new TQ(e);t.forEach((e=>{n.addTransformer(e)}));let i=n.build();return nU.getInstance().bind(rF,i),i},T3=(e=n7(),t=T2,n=TK)=>{e.has(n9.AD_EXPERIENCE)?t():n()},T5=()=>{let e=nU.getInstance(),t=new EW;e.bind(EW.getServiceIdentifier(),t)};const T6=(e,t,n,i)=>{let r=t.getOperatingSystem()===r9.iOS,a=lZ(i),o=t.getSdkVersion(),s=n.isInLine();return!(!r||a||!(o.isEqualTo(new rn("7.4.0"))&&s||o.isGreaterThanOrEqualTo(new rn("7.4.1"))))||e};var T4=(e=l$(),t=lq(),n=lD(),i=rh(),r=rS(),a=s$())=>{let o=!!i.getMraidVersion().isGreaterThanOrEqualTo(li.V5_2_1)&&T6(t,i,r,a);e||o?n.mute():n.unmute()},T8=class{static async init(e,t,n=rA()){return new Promise((i=>{let r=window.indexedDB.open("viewMaster_indexed_db",1);r.onupgradeneeded=n=>{let i=n.target.result;i.objectStoreNames.contains(e)||i.createObjectStore(e,{keyPath:t}).createIndex("time","time",{unique:!1})},r.onsuccess=e=>{i(e.target.result)},r.onerror=e=>{var t;n.emit({type:"error-logging",event:o3.EXCEPTION,data:{error:Error(null===(t=e.target.error)||void 0===t?void 0:t.message)}})}}))}reportError(e){this.errorLoggingReportingService.emit({type:"error-logging",event:o3.EXCEPTION,data:{error:{error:e}}})}async deleteExpiredRecords(){return new Promise(((e,t)=>{let n=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName),i=Date.now()-864e5*this.expiry,r=n.openCursor();r.onsuccess=t=>{let r=t.target.result;r?(r.value.createDate<i&&n.delete(r.value[this.keyPath]),r.continue()):e()},r.onerror=e=>{var n;t(Error(null===(n=e.target.error)||void 0===n?void 0:n.message))}})).catch((e=>{this.reportError(e)}))}addRecord(e){try{this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e)}catch(e){this.reportError(e)}}async getAllRecords(){return new Promise(((e,t)=>{let n=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();n.onsuccess=()=>{e(n.result)},n.onerror=e=>{var n;t(Error(null===(n=e.target.error)||void 0===n?void 0:n.message))}})).catch((e=>(this.reportError(e),[])))}clearStore(){try{this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear()}catch(e){this.reportError(e)}}constructor(e,t,n,i=90,r=rA()){this.db=e,this.storeName=t,this.keyPath=n,this.expiry=i,this.errorLoggingReportingService=r}};const T7=async()=>{let{storeName:e,keyPath:t,expiry:n}=dv.getIndexedDatabaseConfig();return T8.init(e,t).then((i=>{let r=new dv(new T8(i,e,t,n));r.deleteExpiredRecords(),nU.getInstance().bind(dv.getServiceIdentifier(),r)}))},T9=async()=>{var e,t,n,i,r;oR(),c9(),ob(),oz({name:ai.AD_START}),ut(),T_(),Tu(),o0(),so(),su(),Tv(),sE(),T3(),T4(),await vq(),un(),TE(),sV({name:ai.SIGNAL_TIMER_START}),T7(),v$(),vZ(),T5(),e=oy(vG,{}),t=document.getElementById("dynamic"),ad.__&&ad.__(e,t),n=t.__k,i=[],r=[],aB(t,e=t.__k=function(e,t,n){var i,r,a,o={};for(a in t)"key"==a?i=t[a]:"ref"==a?r=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?al.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===o[a]&&(o[a]=e.defaultProps[a]);return ay(e,o,i,r,null)}(aR,null,[e]),n||aA,aA,t.namespaceURI,n?null:t.firstChild?al.call(t.childNodes):null,i,n?n.__e:t.firstChild,!1,r),aH(i,e,r)};(()=>{let e=nU.getInstance(),t=new nH,n=new n2;e.bind(nH.getServiceIdentifier(),t),e.bind(nF.getServiceIdentifier(),new nF),e.bind(nJ.getServiceIdentifier(),new nJ),e.bind(n2.getServiceIdentifier(),n),e.bind(n4.getServiceIdentifier(),new n4),e.bind(n5.getServiceIdentifier(),new n5),e.bind(rt.getServiceIdentifier(),new rt(t,n)),e.bind(rr.getServiceIdentifier(),new rr(t,n)),e.bind(rx.getServiceIdentifier(),new rx),e.bind(aC.getServiceIdentifier(),new aC),e.bind(aO.getServiceIdentifier(),new aO),e.bind(of.getServiceIdentifier(),new of)})(),n8().init(),window.omidBridge={init:(...e)=>{vY.options=e},setLastActivity:(...e)=>{vY.lastActivity=e},setDeviceVolume:(...e)=>{vY.volume=e},startSession:(...e)=>{vY.sessionContent=e},setState:(...e)=>{vY.state=e},setNativeViewHierarchy:(...e)=>{vY.nativeView=e}},((e=n8())=>new Promise((t=>{let n=e.getMraid();(null==n?void 0:n.getState())===r6.LOADING?null==n||n.addEventListener("ready",(()=>{oN(),t(!0)})):(oN(),t(!0))})))().then((()=>new Promise((e=>{var t;let n=n8();if(null===(t=n.getMraid())||void 0===t?void 0:t.isViewable())e(!0);else{let t=window.setInterval((()=>{var i;(null===(i=n.getMraid())||void 0===i?void 0:i.isViewable())&&(window.clearInterval(t),e(!0))}),100)}})))).then(T9);</script> </body></html>